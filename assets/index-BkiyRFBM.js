var k1=r=>{throw TypeError(r)};var np=(r,t,e)=>t.has(r)||k1("Cannot "+e);var qe=(r,t,e)=>(np(r,t,"read from private field"),e?e.call(r):t.get(r)),Gi=(r,t,e)=>t.has(r)?k1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),Wn=(r,t,e,n)=>(np(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),Vi=(r,t,e)=>(np(r,t,"access private method"),e);var P1=(r,t,e,n)=>({set _(s){Wn(r,t,s,e)},get _(){return qe(r,t,n)}});function xO(r,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();var xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ip={exports:{}},dl={};var B1;function TO(){if(B1)return dl;B1=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:r,type:n,key:l,ref:s!==void 0?s:null,props:a}}return dl.Fragment=t,dl.jsx=e,dl.jsxs=e,dl}var F1;function CO(){return F1||(F1=1,ip.exports=TO()),ip.exports}var X=CO(),rp={exports:{}};function RO(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var WA={exports:{}},an=WA.exports={},Wi,Xi;function cg(){throw new Error("setTimeout has not been defined")}function ug(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Wi=setTimeout:Wi=cg}catch{Wi=cg}try{typeof clearTimeout=="function"?Xi=clearTimeout:Xi=ug}catch{Xi=ug}})();function XA(r){if(Wi===setTimeout)return setTimeout(r,0);if((Wi===cg||!Wi)&&setTimeout)return Wi=setTimeout,setTimeout(r,0);try{return Wi(r,0)}catch{try{return Wi.call(null,r,0)}catch{return Wi.call(this,r,0)}}}function OO(r){if(Xi===clearTimeout)return clearTimeout(r);if((Xi===ug||!Xi)&&clearTimeout)return Xi=clearTimeout,clearTimeout(r);try{return Xi(r)}catch{try{return Xi.call(null,r)}catch{return Xi.call(this,r)}}}var Rr=[],Qa=!1,Bs,Yu=-1;function NO(){!Qa||!Bs||(Qa=!1,Bs.length?Rr=Bs.concat(Rr):Yu=-1,Rr.length&&KA())}function KA(){if(!Qa){var r=XA(NO);Qa=!0;for(var t=Rr.length;t;){for(Bs=Rr,Rr=[];++Yu<t;)Bs&&Bs[Yu].run();Yu=-1,t=Rr.length}Bs=null,Qa=!1,OO(r)}}an.nextTick=function(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];Rr.push(new ZA(r,t)),Rr.length===1&&!Qa&&XA(KA)};function ZA(r,t){this.fun=r,this.array=t}ZA.prototype.run=function(){this.fun.apply(null,this.array)};an.title="browser";an.browser=!0;an.env={};an.argv=[];an.version="";an.versions={};function Lr(){}an.on=Lr;an.addListener=Lr;an.once=Lr;an.off=Lr;an.removeListener=Lr;an.removeAllListeners=Lr;an.emit=Lr;an.prependListener=Lr;an.prependOnceListener=Lr;an.listeners=function(r){return[]};an.binding=function(r){throw new Error("process.binding is not supported")};an.cwd=function(){return"/"};an.chdir=function(r){throw new Error("process.chdir is not supported")};an.umask=function(){return 0};var DO=WA.exports;const Qt=RO(DO);var ne={},U1;function IO(){if(U1)return ne;U1=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function v(H,Z,K){this.props=H,this.context=Z,this.refs=_,this.updater=K||E}v.prototype.isReactComponent={},v.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},v.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function S(){}S.prototype=v.prototype;function x(H,Z,K){this.props=H,this.context=Z,this.refs=_,this.updater=K||E}var T=x.prototype=new S;T.constructor=x,b(T,v.prototype),T.isPureReactComponent=!0;var C=Array.isArray;function M(){}var L={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function k(H,Z,K){var st=K.ref;return{$$typeof:r,type:H,key:Z,ref:st!==void 0?st:null,props:K}}function rt(H,Z){return k(H.type,Z,H.props)}function ht(H){return typeof H=="object"&&H!==null&&H.$$typeof===r}function U(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(K){return Z[K]})}var dt=/\/+/g;function j(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):Z.toString(36)}function yt(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(M,M):(H.status="pending",H.then(function(Z){H.status==="pending"&&(H.status="fulfilled",H.value=Z)},function(Z){H.status==="pending"&&(H.status="rejected",H.reason=Z)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function et(H,Z,K,st,ut){var ct=typeof H;(ct==="undefined"||ct==="boolean")&&(H=null);var N=!1;if(H===null)N=!0;else switch(ct){case"bigint":case"string":case"number":N=!0;break;case"object":switch(H.$$typeof){case r:case t:N=!0;break;case d:return N=H._init,et(N(H._payload),Z,K,st,ut)}}if(N)return ut=ut(H),N=st===""?"."+j(H,0):st,C(ut)?(K="",N!=null&&(K=N.replace(dt,"$&/")+"/"),et(ut,Z,K,"",function(J){return J})):ut!=null&&(ht(ut)&&(ut=rt(ut,K+(ut.key==null||H&&H.key===ut.key?"":(""+ut.key).replace(dt,"$&/")+"/")+N)),Z.push(ut)),1;N=0;var D=st===""?".":st+":";if(C(H))for(var ot=0;ot<H.length;ot++)st=H[ot],ct=D+j(st,ot),N+=et(st,Z,K,ct,ut);else if(ot=y(H),typeof ot=="function")for(H=ot.call(H),ot=0;!(st=H.next()).done;)st=st.value,ct=D+j(st,ot++),N+=et(st,Z,K,ct,ut);else if(ct==="object"){if(typeof H.then=="function")return et(yt(H),Z,K,st,ut);throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return N}function Q(H,Z,K){if(H==null)return H;var st=[],ut=0;return et(H,st,"","",function(ct){return Z.call(K,ct,ut++)}),st}function ft(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(K){(H._status===0||H._status===-1)&&(H._status=1,H._result=K)},function(K){(H._status===0||H._status===-1)&&(H._status=2,H._result=K)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var vt=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(Z))return}else if(typeof Qt=="object"&&typeof Qt.emit=="function"){Qt.emit("uncaughtException",H);return}console.error(H)},It={map:Q,forEach:function(H,Z,K){Q(H,function(){Z.apply(this,arguments)},K)},count:function(H){var Z=0;return Q(H,function(){Z++}),Z},toArray:function(H){return Q(H,function(Z){return Z})||[]},only:function(H){if(!ht(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return ne.Activity=p,ne.Children=It,ne.Component=v,ne.Fragment=e,ne.Profiler=s,ne.PureComponent=x,ne.StrictMode=n,ne.Suspense=h,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ne.__COMPILER_RUNTIME={__proto__:null,c:function(H){return L.H.useMemoCache(H)}},ne.cache=function(H){return function(){return H.apply(null,arguments)}},ne.cacheSignal=function(){return null},ne.cloneElement=function(H,Z,K){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var st=b({},H.props),ut=H.key;if(Z!=null)for(ct in Z.key!==void 0&&(ut=""+Z.key),Z)!z.call(Z,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&Z.ref===void 0||(st[ct]=Z[ct]);var ct=arguments.length-2;if(ct===1)st.children=K;else if(1<ct){for(var N=Array(ct),D=0;D<ct;D++)N[D]=arguments[D+2];st.children=N}return k(H.type,ut,st)},ne.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},ne.createElement=function(H,Z,K){var st,ut={},ct=null;if(Z!=null)for(st in Z.key!==void 0&&(ct=""+Z.key),Z)z.call(Z,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(ut[st]=Z[st]);var N=arguments.length-2;if(N===1)ut.children=K;else if(1<N){for(var D=Array(N),ot=0;ot<N;ot++)D[ot]=arguments[ot+2];ut.children=D}if(H&&H.defaultProps)for(st in N=H.defaultProps,N)ut[st]===void 0&&(ut[st]=N[st]);return k(H,ct,ut)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(H){return{$$typeof:c,render:H}},ne.isValidElement=ht,ne.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:ft}},ne.memo=function(H,Z){return{$$typeof:f,type:H,compare:Z===void 0?null:Z}},ne.startTransition=function(H){var Z=L.T,K={};L.T=K;try{var st=H(),ut=L.S;ut!==null&&ut(K,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(M,vt)}catch(ct){vt(ct)}finally{Z!==null&&K.types!==null&&(Z.types=K.types),L.T=Z}},ne.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ne.use=function(H){return L.H.use(H)},ne.useActionState=function(H,Z,K){return L.H.useActionState(H,Z,K)},ne.useCallback=function(H,Z){return L.H.useCallback(H,Z)},ne.useContext=function(H){return L.H.useContext(H)},ne.useDebugValue=function(){},ne.useDeferredValue=function(H,Z){return L.H.useDeferredValue(H,Z)},ne.useEffect=function(H,Z){return L.H.useEffect(H,Z)},ne.useEffectEvent=function(H){return L.H.useEffectEvent(H)},ne.useId=function(){return L.H.useId()},ne.useImperativeHandle=function(H,Z,K){return L.H.useImperativeHandle(H,Z,K)},ne.useInsertionEffect=function(H,Z){return L.H.useInsertionEffect(H,Z)},ne.useLayoutEffect=function(H,Z){return L.H.useLayoutEffect(H,Z)},ne.useMemo=function(H,Z){return L.H.useMemo(H,Z)},ne.useOptimistic=function(H,Z){return L.H.useOptimistic(H,Z)},ne.useReducer=function(H,Z,K){return L.H.useReducer(H,Z,K)},ne.useRef=function(H){return L.H.useRef(H)},ne.useState=function(H){return L.H.useState(H)},ne.useSyncExternalStore=function(H,Z,K){return L.H.useSyncExternalStore(H,Z,K)},ne.useTransition=function(){return L.H.useTransition()},ne.version="19.2.3",ne}var j1;function Vg(){return j1||(j1=1,rp.exports=IO()),rp.exports}var V=Vg();const ve=mh(V),QA=xO({__proto__:null,default:ve},[V]);var sp={exports:{}},pl={},ap={exports:{}},op={};var z1;function MO(){return z1||(z1=1,(function(r){function t(et,Q){var ft=et.length;et.push(Q);t:for(;0<ft;){var vt=ft-1>>>1,It=et[vt];if(0<s(It,Q))et[vt]=Q,et[ft]=It,ft=vt;else break t}}function e(et){return et.length===0?null:et[0]}function n(et){if(et.length===0)return null;var Q=et[0],ft=et.pop();if(ft!==Q){et[0]=ft;t:for(var vt=0,It=et.length,H=It>>>1;vt<H;){var Z=2*(vt+1)-1,K=et[Z],st=Z+1,ut=et[st];if(0>s(K,ft))st<It&&0>s(ut,K)?(et[vt]=ut,et[st]=ft,vt=st):(et[vt]=K,et[Z]=ft,vt=Z);else if(st<It&&0>s(ut,ft))et[vt]=ut,et[st]=ft,vt=st;else break t}}return Q}function s(et,Q){var ft=et.sortIndex-Q.sortIndex;return ft!==0?ft:et.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var h=[],f=[],d=1,p=null,g=3,y=!1,E=!1,b=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function T(et){for(var Q=e(f);Q!==null;){if(Q.callback===null)n(f);else if(Q.startTime<=et)n(f),Q.sortIndex=Q.expirationTime,t(h,Q);else break;Q=e(f)}}function C(et){if(b=!1,T(et),!E)if(e(h)!==null)E=!0,M||(M=!0,U());else{var Q=e(f);Q!==null&&yt(C,Q.startTime-et)}}var M=!1,L=-1,z=5,k=-1;function rt(){return _?!0:!(r.unstable_now()-k<z)}function ht(){if(_=!1,M){var et=r.unstable_now();k=et;var Q=!0;try{t:{E=!1,b&&(b=!1,S(L),L=-1),y=!0;var ft=g;try{e:{for(T(et),p=e(h);p!==null&&!(p.expirationTime>et&&rt());){var vt=p.callback;if(typeof vt=="function"){p.callback=null,g=p.priorityLevel;var It=vt(p.expirationTime<=et);if(et=r.unstable_now(),typeof It=="function"){p.callback=It,T(et),Q=!0;break e}p===e(h)&&n(h),T(et)}else n(h);p=e(h)}if(p!==null)Q=!0;else{var H=e(f);H!==null&&yt(C,H.startTime-et),Q=!1}}break t}finally{p=null,g=ft,y=!1}Q=void 0}}finally{Q?U():M=!1}}}var U;if(typeof x=="function")U=function(){x(ht)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,j=dt.port2;dt.port1.onmessage=ht,U=function(){j.postMessage(null)}}else U=function(){v(ht,0)};function yt(et,Q){L=v(function(){et(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(et){et.callback=null},r.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<et?Math.floor(1e3/et):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(et){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var ft=g;g=Q;try{return et()}finally{g=ft}},r.unstable_requestPaint=function(){_=!0},r.unstable_runWithPriority=function(et,Q){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var ft=g;g=et;try{return Q()}finally{g=ft}},r.unstable_scheduleCallback=function(et,Q,ft){var vt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?vt+ft:vt):ft=vt,et){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=ft+It,et={id:d++,callback:Q,priorityLevel:et,startTime:ft,expirationTime:It,sortIndex:-1},ft>vt?(et.sortIndex=ft,t(f,et),e(h)===null&&et===e(f)&&(b?(S(L),L=-1):b=!0,yt(C,ft-vt))):(et.sortIndex=It,t(h,et),E||y||(E=!0,M||(M=!0,U()))),et},r.unstable_shouldYield=rt,r.unstable_wrapCallback=function(et){var Q=g;return function(){var ft=g;g=Q;try{return et.apply(this,arguments)}finally{g=ft}}}})(op)),op}var H1;function LO(){return H1||(H1=1,ap.exports=MO()),ap.exports}var lp={exports:{}},Dn={};var G1;function kO(){if(G1)return Dn;G1=1;var r=Vg();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:h,containerInfo:f,implementation:d}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Dn.createPortal=function(h,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,d)},Dn.flushSync=function(h){var f=l.T,d=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=f,n.p=d,n.d.f()}},Dn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(h,f))},Dn.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Dn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var d=f.as,p=c(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?n.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):d==="script"&&n.d.X(h,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Dn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=c(f.as,f.crossOrigin);n.d.M(h,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(h)},Dn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=c(d,f.crossOrigin);n.d.L(h,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Dn.preloadModule=function(h,f){if(typeof h=="string")if(f){var d=c(f.as,f.crossOrigin);n.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(h)},Dn.requestFormReset=function(h){n.d.r(h)},Dn.unstable_batchedUpdates=function(h,f){return h(f)},Dn.useFormState=function(h,f,d){return l.H.useFormState(h,f,d)},Dn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Dn.version="19.2.3",Dn}var V1;function JA(){if(V1)return lp.exports;V1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),lp.exports=kO(),lp.exports}var q1;function PO(){if(q1)return pl;q1=1;var r=LO(),t=Vg(),e=JA();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function h(i){if(a(i)!==i)throw Error(n(188))}function f(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,m=o;;){var w=u.return;if(w===null)break;var A=w.alternate;if(A===null){if(m=w.return,m!==null){u=m;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===u)return h(w),i;if(A===m)return h(w),o;A=A.sibling}throw Error(n(188))}if(u.return!==m.return)u=w,m=A;else{for(var F=!1,Y=w.child;Y;){if(Y===u){F=!0,u=w,m=A;break}if(Y===m){F=!0,m=w,u=A;break}Y=Y.sibling}if(!F){for(Y=A.child;Y;){if(Y===u){F=!0,u=A,m=w;break}if(Y===m){F=!0,m=A,u=w;break}Y=Y.sibling}if(!F)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function d(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=d(i),o!==null)return o;i=i.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),x=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=ht&&i[ht]||i["@@iterator"],typeof i=="function"?i:null)}var dt=Symbol.for("react.client.reference");function j(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===dt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case v:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case M:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case x:return i.displayName||"Context";case S:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return o=i.displayName||null,o!==null?o:j(i.type)||"Memo";case z:o=i._payload,i=i._init;try{return j(i(o))}catch{}}return null}var yt=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},vt=[],It=-1;function H(i){return{current:i}}function Z(i){0>It||(i.current=vt[It],vt[It]=null,It--)}function K(i,o){It++,vt[It]=i.current,i.current=o}var st=H(null),ut=H(null),ct=H(null),N=H(null);function D(i,o){switch(K(ct,o),K(ut,i),K(st,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?r1(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=r1(o),i=s1(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(st),K(st,i)}function ot(){Z(st),Z(ut),Z(ct)}function J(i){i.memoizedState!==null&&K(N,i);var o=st.current,u=s1(o,i.type);o!==u&&(K(ut,i),K(st,u))}function G(i){ut.current===i&&(Z(st),Z(ut)),N.current===i&&(Z(N),cl._currentValue=ft)}var W,St;function I(i){if(W===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||"",St=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+W+i+St}var At=!1;function gt(i,o){if(!i||At)return"";At=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(Nt){var Rt=Nt}Reflect.construct(i,[],Ut)}else{try{Ut.call()}catch(Nt){Rt=Nt}i.call(Ut.prototype)}}else{try{throw Error()}catch(Nt){Rt=Nt}(Ut=i())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(Nt){if(Nt&&Rt&&typeof Nt.stack=="string")return[Nt.stack,Rt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=m.DetermineComponentFrameRoot(),F=A[0],Y=A[1];if(F&&Y){var pt=F.split(`
`),Ct=Y.split(`
`);for(w=m=0;m<pt.length&&!pt[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Ct.length&&!Ct[w].includes("DetermineComponentFrameRoot");)w++;if(m===pt.length||w===Ct.length)for(m=pt.length-1,w=Ct.length-1;1<=m&&0<=w&&pt[m]!==Ct[w];)w--;for(;1<=m&&0<=w;m--,w--)if(pt[m]!==Ct[w]){if(m!==1||w!==1)do if(m--,w--,0>w||pt[m]!==Ct[w]){var Lt=`
`+pt[m].replace(" at new "," at ");return i.displayName&&Lt.includes("<anonymous>")&&(Lt=Lt.replace("<anonymous>",i.displayName)),Lt}while(1<=m&&0<=w);break}}}finally{At=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?I(u):""}function tt(i,o){switch(i.tag){case 26:case 27:case 5:return I(i.type);case 16:return I("Lazy");case 13:return i.child!==o&&o!==null?I("Suspense Fallback"):I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return gt(i.type,!1);case 11:return gt(i.type.render,!1);case 1:return gt(i.type,!0);case 31:return I("Activity");default:return""}}function at(i){try{var o="",u=null;do o+=tt(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var it=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,kt=r.unstable_cancelCallback,_t=r.unstable_shouldYield,Ft=r.unstable_requestPaint,zt=r.unstable_now,jt=r.unstable_getCurrentPriorityLevel,Gt=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,Xt=r.unstable_NormalPriority,$e=r.unstable_LowPriority,q=r.unstable_IdlePriority,R=r.log,P=r.unstable_setDisableYieldValue,nt=null,mt=null;function xt(i){if(typeof R=="function"&&P(i),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(nt,i)}catch{}}var Dt=Math.clz32?Math.clz32:Re,ee=Math.log,Ce=Math.LN2;function Re(i){return i>>>=0,i===0?32:31-(ee(i)/Ce|0)|0}var Ee=256,he=262144,Ln=4194304;function We(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pr(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var w=0,A=i.suspendedLanes,F=i.pingedLanes;i=i.warmLanes;var Y=m&134217727;return Y!==0?(m=Y&~A,m!==0?w=We(m):(F&=Y,F!==0?w=We(F):u||(u=Y&~i,u!==0&&(w=We(u))))):(Y=m&~A,Y!==0?w=We(Y):F!==0?w=We(F):u||(u=m&~i,u!==0&&(w=We(u)))),w===0?0:o!==0&&o!==w&&(o&A)===0&&(A=w&-w,u=o&-o,A>=u||A===32&&(u&4194048)!==0)?o:w}function ys(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Fi(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sc(){var i=Ln;return Ln<<=1,(Ln&62914560)===0&&(Ln=4194304),i}function $(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function O(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function B(i,o,u,m,w,A){var F=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var Y=i.entanglements,pt=i.expirationTimes,Ct=i.hiddenUpdates;for(u=F&~u;0<u;){var Lt=31-Dt(u),Ut=1<<Lt;Y[Lt]=0,pt[Lt]=-1;var Rt=Ct[Lt];if(Rt!==null)for(Ct[Lt]=null,Lt=0;Lt<Rt.length;Lt++){var Nt=Rt[Lt];Nt!==null&&(Nt.lane&=-536870913)}u&=~Ut}m!==0&&lt(i,m,0),A!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=A&~(F&~o))}function lt(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-Dt(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function wt(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-Dt(u),w=1<<m;w&o|i[m]&o&&(i[m]|=o),u&=~w}}function Ot(i,o){var u=o&-o;return u=(u&42)!==0?1:Bt(u),(u&(i.suspendedLanes|o))!==0?0:u}function Bt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function le(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fe(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:R1(i.type))}function ke(i,o){var u=Q.p;try{return Q.p=i,o()}finally{Q.p=u}}var Ae=Math.random().toString(36).slice(2),te="__reactFiber$"+Ae,zn="__reactProps$"+Ae,Qs="__reactContainer$"+Ae,Yh="__reactEvents$"+Ae,pC="__reactListeners$"+Ae,mC="__reactHandles$"+Ae,q0="__reactResources$"+Ae,So="__reactMarker$"+Ae;function $h(i){delete i[te],delete i[zn],delete i[Yh],delete i[pC],delete i[mC]}function Js(i){var o=i[te];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Qs]||u[te]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=f1(i);i!==null;){if(u=i[te])return u;i=f1(i)}return o}i=u,u=i.parentNode}return null}function ta(i){if(i=i[te]||i[Qs]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function xo(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function ea(i){var o=i[q0];return o||(o=i[q0]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function vn(i){i[So]=!0}var Y0=new Set,$0={};function bs(i,o){na(i,o),na(i+"Capture",o)}function na(i,o){for($0[i]=o,i=0;i<o.length;i++)Y0.add(o[i])}var gC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),W0={},X0={};function yC(i){return it.call(X0,i)?!0:it.call(W0,i)?!1:gC.test(i)?X0[i]=!0:(W0[i]=!0,!1)}function ac(i,o,u){if(yC(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function oc(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function sr(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function ci(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function K0(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function bC(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,A=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return w.call(this)},set:function(F){u=""+F,A.call(this,F)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(F){u=""+F},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Wh(i){if(!i._valueTracker){var o=K0(i)?"checked":"value";i._valueTracker=bC(i,o,""+i[o])}}function Z0(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=K0(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function lc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vC=/[\n"\\]/g;function ui(i){return i.replace(vC,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Xh(i,o,u,m,w,A,F,Y){i.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.type=F:i.removeAttribute("type"),o!=null?F==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+ci(o)):i.value!==""+ci(o)&&(i.value=""+ci(o)):F!=="submit"&&F!=="reset"||i.removeAttribute("value"),o!=null?Kh(i,F,ci(o)):u!=null?Kh(i,F,ci(u)):m!=null&&i.removeAttribute("value"),w==null&&A!=null&&(i.defaultChecked=!!A),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?i.name=""+ci(Y):i.removeAttribute("name")}function Q0(i,o,u,m,w,A,F,Y){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.type=A),o!=null||u!=null){if(!(A!=="submit"&&A!=="reset"||o!=null)){Wh(i);return}u=u!=null?""+ci(u):"",o=o!=null?""+ci(o):u,Y||o===i.value||(i.value=o),i.defaultValue=o}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=Y?i.checked:!!m,i.defaultChecked=!!m,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(i.name=F),Wh(i)}function Kh(i,o,u){o==="number"&&lc(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ia(i,o,u,m){if(i=i.options,o){o={};for(var w=0;w<u.length;w++)o["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=o.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&m&&(i[u].defaultSelected=!0)}else{for(u=""+ci(u),o=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,m&&(i[w].defaultSelected=!0);return}o!==null||i[w].disabled||(o=i[w])}o!==null&&(o.selected=!0)}}function J0(i,o,u){if(o!=null&&(o=""+ci(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+ci(u):""}function ty(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(n(92));if(yt(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=ci(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),Wh(i)}function ra(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var wC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ey(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||wC.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function ny(i,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var w in o)m=o[w],o.hasOwnProperty(w)&&u[w]!==m&&ey(i,w,m)}else for(var A in o)o.hasOwnProperty(A)&&ey(i,A,o[A])}function Zh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _C=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),EC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cc(i){return EC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ar(){}var Qh=null;function Jh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var sa=null,aa=null;function iy(i){var o=ta(i);if(o&&(i=o.stateNode)){var u=i[zn]||null;t:switch(i=o.stateNode,o.type){case"input":if(Xh(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ui(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var w=m[zn]||null;if(!w)throw Error(n(90));Xh(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&Z0(m)}break t;case"textarea":J0(i,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&ia(i,!!u.multiple,o,!1)}}}var tf=!1;function ry(i,o,u){if(tf)return i(o,u);tf=!0;try{var m=i(o);return m}finally{if(tf=!1,(sa!==null||aa!==null)&&(Kc(),sa&&(o=sa,i=aa,aa=sa=null,iy(o),i)))for(o=0;o<i.length;o++)iy(i[o])}}function To(i,o){var u=i.stateNode;if(u===null)return null;var m=u[zn]||null;if(m===null)return null;u=m[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break t;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ef=!1;if(or)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){ef=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{ef=!1}var Br=null,nf=null,uc=null;function sy(){if(uc)return uc;var i,o=nf,u=o.length,m,w="value"in Br?Br.value:Br.textContent,A=w.length;for(i=0;i<u&&o[i]===w[i];i++);var F=u-i;for(m=1;m<=F&&o[u-m]===w[A-m];m++);return uc=w.slice(i,1<m?1-m:void 0)}function hc(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function fc(){return!0}function ay(){return!1}function Hn(i){function o(u,m,w,A,F){this._reactName=u,this._targetInst=w,this.type=m,this.nativeEvent=A,this.target=F,this.currentTarget=null;for(var Y in i)i.hasOwnProperty(Y)&&(u=i[Y],this[Y]=u?u(A):A[Y]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?fc:ay,this.isPropagationStopped=ay,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),o}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dc=Hn(vs),Ro=p({},vs,{view:0,detail:0}),AC=Hn(Ro),rf,sf,Oo,pc=p({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:of,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Oo&&(Oo&&i.type==="mousemove"?(rf=i.screenX-Oo.screenX,sf=i.screenY-Oo.screenY):sf=rf=0,Oo=i),rf)},movementY:function(i){return"movementY"in i?i.movementY:sf}}),oy=Hn(pc),SC=p({},pc,{dataTransfer:0}),xC=Hn(SC),TC=p({},Ro,{relatedTarget:0}),af=Hn(TC),CC=p({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),RC=Hn(CC),OC=p({},vs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),NC=Hn(OC),DC=p({},vs,{data:0}),ly=Hn(DC),IC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kC(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=LC[i])?!!o[i]:!1}function of(){return kC}var PC=p({},Ro,{key:function(i){if(i.key){var o=IC[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=hc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?MC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:of,charCode:function(i){return i.type==="keypress"?hc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?hc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),BC=Hn(PC),FC=p({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=Hn(FC),UC=p({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:of}),jC=Hn(UC),zC=p({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),HC=Hn(zC),GC=p({},pc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),VC=Hn(GC),qC=p({},vs,{newState:0,oldState:0}),YC=Hn(qC),$C=[9,13,27,32],lf=or&&"CompositionEvent"in window,No=null;or&&"documentMode"in document&&(No=document.documentMode);var WC=or&&"TextEvent"in window&&!No,uy=or&&(!lf||No&&8<No&&11>=No),hy=" ",fy=!1;function dy(i,o){switch(i){case"keyup":return $C.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oa=!1;function XC(i,o){switch(i){case"compositionend":return py(o);case"keypress":return o.which!==32?null:(fy=!0,hy);case"textInput":return i=o.data,i===hy&&fy?null:i;default:return null}}function KC(i,o){if(oa)return i==="compositionend"||!lf&&dy(i,o)?(i=sy(),uc=nf=Br=null,oa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return uy&&o.locale!=="ko"?null:o.data;default:return null}}var ZC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!ZC[i.type]:o==="textarea"}function gy(i,o,u,m){sa?aa?aa.push(m):aa=[m]:sa=m,o=iu(o,"onChange"),0<o.length&&(u=new dc("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var Do=null,Io=null;function QC(i){Qv(i,0)}function mc(i){var o=xo(i);if(Z0(o))return i}function yy(i,o){if(i==="change")return o}var by=!1;if(or){var cf;if(or){var uf="oninput"in document;if(!uf){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),uf=typeof vy.oninput=="function"}cf=uf}else cf=!1;by=cf&&(!document.documentMode||9<document.documentMode)}function wy(){Do&&(Do.detachEvent("onpropertychange",_y),Io=Do=null)}function _y(i){if(i.propertyName==="value"&&mc(Io)){var o=[];gy(o,Io,i,Jh(i)),ry(QC,o)}}function JC(i,o,u){i==="focusin"?(wy(),Do=o,Io=u,Do.attachEvent("onpropertychange",_y)):i==="focusout"&&wy()}function tR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return mc(Io)}function eR(i,o){if(i==="click")return mc(o)}function nR(i,o){if(i==="input"||i==="change")return mc(o)}function iR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Zn=typeof Object.is=="function"?Object.is:iR;function Mo(i,o){if(Zn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var w=u[m];if(!it.call(o,w)||!Zn(i[w],o[w]))return!1}return!0}function Ey(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ay(i,o){var u=Ey(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Ey(u)}}function Sy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Sy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function xy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=lc(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=lc(i.document)}return o}function hf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var rR=or&&"documentMode"in document&&11>=document.documentMode,la=null,ff=null,Lo=null,df=!1;function Ty(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;df||la==null||la!==lc(m)||(m=la,"selectionStart"in m&&hf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Lo&&Mo(Lo,m)||(Lo=m,m=iu(ff,"onSelect"),0<m.length&&(o=new dc("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=la)))}function ws(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ca={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},pf={},Cy={};or&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function _s(i){if(pf[i])return pf[i];if(!ca[i])return i;var o=ca[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Cy)return pf[i]=o[u];return i}var Ry=_s("animationend"),Oy=_s("animationiteration"),Ny=_s("animationstart"),sR=_s("transitionrun"),aR=_s("transitionstart"),oR=_s("transitioncancel"),Dy=_s("transitionend"),Iy=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function Ni(i,o){Iy.set(i,o),bs(o,[i])}var gc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof Qt=="object"&&typeof Qt.emit=="function"){Qt.emit("uncaughtException",i);return}console.error(i)},hi=[],ua=0,gf=0;function yc(){for(var i=ua,o=gf=ua=0;o<i;){var u=hi[o];hi[o++]=null;var m=hi[o];hi[o++]=null;var w=hi[o];hi[o++]=null;var A=hi[o];if(hi[o++]=null,m!==null&&w!==null){var F=m.pending;F===null?w.next=w:(w.next=F.next,F.next=w),m.pending=w}A!==0&&My(u,w,A)}}function bc(i,o,u,m){hi[ua++]=i,hi[ua++]=o,hi[ua++]=u,hi[ua++]=m,gf|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function yf(i,o,u,m){return bc(i,o,u,m),vc(i)}function Es(i,o){return bc(i,null,null,o),vc(i)}function My(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var w=!1,A=i.return;A!==null;)A.childLanes|=u,m=A.alternate,m!==null&&(m.childLanes|=u),A.tag===22&&(i=A.stateNode,i===null||i._visibility&1||(w=!0)),i=A,A=A.return;return i.tag===3?(A=i.stateNode,w&&o!==null&&(w=31-Dt(u),i=A.hiddenUpdates,m=i[w],m===null?i[w]=[o]:m.push(o),o.lane=u|536870912),A):null}function vc(i){if(50<nl)throw nl=0,Td=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ha={};function lR(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(i,o,u,m){return new lR(i,o,u,m)}function bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function lr(i,o){var u=i.alternate;return u===null?(u=Qn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Ly(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function wc(i,o,u,m,w,A){var F=0;if(m=i,typeof i=="function")bf(i)&&(F=1);else if(typeof i=="string")F=dO(i,u,st.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case k:return i=Qn(31,u,o,w),i.elementType=k,i.lanes=A,i;case b:return As(u.children,w,A,o);case _:F=8,w|=24;break;case v:return i=Qn(12,u,o,w|2),i.elementType=v,i.lanes=A,i;case C:return i=Qn(13,u,o,w),i.elementType=C,i.lanes=A,i;case M:return i=Qn(19,u,o,w),i.elementType=M,i.lanes=A,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:F=10;break t;case S:F=9;break t;case T:F=11;break t;case L:F=14;break t;case z:F=16,m=null;break t}F=29,u=Error(n(130,i===null?"null":typeof i,"")),m=null}return o=Qn(F,u,o,w),o.elementType=i,o.type=m,o.lanes=A,o}function As(i,o,u,m){return i=Qn(7,i,m,o),i.lanes=u,i}function vf(i,o,u){return i=Qn(6,i,null,o),i.lanes=u,i}function ky(i){var o=Qn(18,null,null,0);return o.stateNode=i,o}function wf(i,o,u){return o=Qn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Py=new WeakMap;function fi(i,o){if(typeof i=="object"&&i!==null){var u=Py.get(i);return u!==void 0?u:(o={value:i,source:o,stack:at(o)},Py.set(i,o),o)}return{value:i,source:o,stack:at(o)}}var fa=[],da=0,_c=null,ko=0,di=[],pi=0,Fr=null,Ui=1,ji="";function cr(i,o){fa[da++]=ko,fa[da++]=_c,_c=i,ko=o}function By(i,o,u){di[pi++]=Ui,di[pi++]=ji,di[pi++]=Fr,Fr=i;var m=Ui;i=ji;var w=32-Dt(m)-1;m&=~(1<<w),u+=1;var A=32-Dt(o)+w;if(30<A){var F=w-w%5;A=(m&(1<<F)-1).toString(32),m>>=F,w-=F,Ui=1<<32-Dt(o)+w|u<<w|m,ji=A+i}else Ui=1<<A|u<<w|m,ji=i}function _f(i){i.return!==null&&(cr(i,1),By(i,1,0))}function Ef(i){for(;i===_c;)_c=fa[--da],fa[da]=null,ko=fa[--da],fa[da]=null;for(;i===Fr;)Fr=di[--pi],di[pi]=null,ji=di[--pi],di[pi]=null,Ui=di[--pi],di[pi]=null}function Fy(i,o){di[pi++]=Ui,di[pi++]=ji,di[pi++]=Fr,Ui=o.id,ji=o.overflow,Fr=i}var Sn=null,Ue=null,ge=!1,Ur=null,mi=!1,Af=Error(n(519));function jr(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(fi(o,i)),Af}function Uy(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[te]=i,o[zn]=m,u){case"dialog":de("cancel",o),de("close",o);break;case"iframe":case"object":case"embed":de("load",o);break;case"video":case"audio":for(u=0;u<rl.length;u++)de(rl[u],o);break;case"source":de("error",o);break;case"img":case"image":case"link":de("error",o),de("load",o);break;case"details":de("toggle",o);break;case"input":de("invalid",o),Q0(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":de("invalid",o);break;case"textarea":de("invalid",o),ty(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||n1(o.textContent,u)?(m.popover!=null&&(de("beforetoggle",o),de("toggle",o)),m.onScroll!=null&&de("scroll",o),m.onScrollEnd!=null&&de("scrollend",o),m.onClick!=null&&(o.onclick=ar),o=!0):o=!1,o||jr(i,!0)}function jy(i){for(Sn=i.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:Sn=Sn.return}}function pa(i){if(i!==Sn)return!1;if(!ge)return jy(i),ge=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||zd(i.type,i.memoizedProps)),u=!u),u&&Ue&&jr(i),jy(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ue=h1(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ue=h1(i)}else o===27?(o=Ue,ts(i.type)?(i=Yd,Yd=null,Ue=i):Ue=o):Ue=Sn?yi(i.stateNode.nextSibling):null;return!0}function Ss(){Ue=Sn=null,ge=!1}function Sf(){var i=Ur;return i!==null&&(Yn===null?Yn=i:Yn.push.apply(Yn,i),Ur=null),i}function Po(i){Ur===null?Ur=[i]:Ur.push(i)}var xf=H(null),xs=null,ur=null;function zr(i,o,u){K(xf,o._currentValue),o._currentValue=u}function hr(i){i._currentValue=xf.current,Z(xf)}function Tf(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function Cf(i,o,u,m){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var A=w.dependencies;if(A!==null){var F=w.child;A=A.firstContext;t:for(;A!==null;){var Y=A;A=w;for(var pt=0;pt<o.length;pt++)if(Y.context===o[pt]){A.lanes|=u,Y=A.alternate,Y!==null&&(Y.lanes|=u),Tf(A.return,u,i),m||(F=null);break t}A=Y.next}}else if(w.tag===18){if(F=w.return,F===null)throw Error(n(341));F.lanes|=u,A=F.alternate,A!==null&&(A.lanes|=u),Tf(F,u,i),F=null}else F=w.child;if(F!==null)F.return=w;else for(F=w;F!==null;){if(F===i){F=null;break}if(w=F.sibling,w!==null){w.return=F.return,F=w;break}F=F.return}w=F}}function ma(i,o,u,m){i=null;for(var w=o,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var F=w.alternate;if(F===null)throw Error(n(387));if(F=F.memoizedProps,F!==null){var Y=w.type;Zn(w.pendingProps.value,F.value)||(i!==null?i.push(Y):i=[Y])}}else if(w===N.current){if(F=w.alternate,F===null)throw Error(n(387));F.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(cl):i=[cl])}w=w.return}i!==null&&Cf(o,i,u,m),o.flags|=262144}function Ec(i){for(i=i.firstContext;i!==null;){if(!Zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ts(i){xs=i,ur=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function xn(i){return zy(xs,i)}function Ac(i,o){return xs===null&&Ts(i),zy(i,o)}function zy(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ur===null){if(i===null)throw Error(n(308));ur=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ur=ur.next=o;return u}var cR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},uR=r.unstable_scheduleCallback,hR=r.unstable_NormalPriority,on={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new cR,data:new Map,refCount:0}}function Bo(i){i.refCount--,i.refCount===0&&uR(hR,function(){i.controller.abort()})}var Fo=null,Of=0,ga=0,ya=null;function fR(i,o){if(Fo===null){var u=Fo=[];Of=0,ga=Id(),ya={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Of++,o.then(Hy,Hy),o}function Hy(){if(--Of===0&&Fo!==null){ya!==null&&(ya.status="fulfilled");var i=Fo;Fo=null,ga=0,ya=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function dR(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(w){u.push(w)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var w=0;w<u.length;w++)(0,u[w])(o)},function(w){for(m.status="rejected",m.reason=w,w=0;w<u.length;w++)(0,u[w])(void 0)}),m}var Gy=et.S;et.S=function(i,o){Tv=zt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&fR(i,o),Gy!==null&&Gy(i,o)};var Cs=H(null);function Nf(){var i=Cs.current;return i!==null?i:Pe.pooledCache}function Sc(i,o){o===null?K(Cs,Cs.current):K(Cs,o.pool)}function Vy(){var i=Nf();return i===null?null:{parent:on._currentValue,pool:i}}var ba=Error(n(460)),Df=Error(n(474)),xc=Error(n(542)),Tc={then:function(){}};function qy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yy(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(ar,ar),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Wy(i),i;default:if(typeof o.status=="string")o.then(ar,ar);else{if(i=Pe,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=m}},function(m){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Wy(i),i}throw Os=o,ba}}function Rs(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Os=u,ba):u}}var Os=null;function $y(){if(Os===null)throw Error(n(459));var i=Os;return Os=null,i}function Wy(i){if(i===ba||i===xc)throw Error(n(483))}var va=null,Uo=0;function Cc(i){var o=Uo;return Uo+=1,va===null&&(va=[]),Yy(va,i,o)}function jo(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Rc(i,o){throw o.$$typeof===g?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function Xy(i){function o(Et,bt){if(i){var Tt=Et.deletions;Tt===null?(Et.deletions=[bt],Et.flags|=16):Tt.push(bt)}}function u(Et,bt){if(!i)return null;for(;bt!==null;)o(Et,bt),bt=bt.sibling;return null}function m(Et){for(var bt=new Map;Et!==null;)Et.key!==null?bt.set(Et.key,Et):bt.set(Et.index,Et),Et=Et.sibling;return bt}function w(Et,bt){return Et=lr(Et,bt),Et.index=0,Et.sibling=null,Et}function A(Et,bt,Tt){return Et.index=Tt,i?(Tt=Et.alternate,Tt!==null?(Tt=Tt.index,Tt<bt?(Et.flags|=67108866,bt):Tt):(Et.flags|=67108866,bt)):(Et.flags|=1048576,bt)}function F(Et){return i&&Et.alternate===null&&(Et.flags|=67108866),Et}function Y(Et,bt,Tt,Pt){return bt===null||bt.tag!==6?(bt=vf(Tt,Et.mode,Pt),bt.return=Et,bt):(bt=w(bt,Tt),bt.return=Et,bt)}function pt(Et,bt,Tt,Pt){var Kt=Tt.type;return Kt===b?Lt(Et,bt,Tt.props.children,Pt,Tt.key):bt!==null&&(bt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===z&&Rs(Kt)===bt.type)?(bt=w(bt,Tt.props),jo(bt,Tt),bt.return=Et,bt):(bt=wc(Tt.type,Tt.key,Tt.props,null,Et.mode,Pt),jo(bt,Tt),bt.return=Et,bt)}function Ct(Et,bt,Tt,Pt){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==Tt.containerInfo||bt.stateNode.implementation!==Tt.implementation?(bt=wf(Tt,Et.mode,Pt),bt.return=Et,bt):(bt=w(bt,Tt.children||[]),bt.return=Et,bt)}function Lt(Et,bt,Tt,Pt,Kt){return bt===null||bt.tag!==7?(bt=As(Tt,Et.mode,Pt,Kt),bt.return=Et,bt):(bt=w(bt,Tt),bt.return=Et,bt)}function Ut(Et,bt,Tt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return bt=vf(""+bt,Et.mode,Tt),bt.return=Et,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case y:return Tt=wc(bt.type,bt.key,bt.props,null,Et.mode,Tt),jo(Tt,bt),Tt.return=Et,Tt;case E:return bt=wf(bt,Et.mode,Tt),bt.return=Et,bt;case z:return bt=Rs(bt),Ut(Et,bt,Tt)}if(yt(bt)||U(bt))return bt=As(bt,Et.mode,Tt,null),bt.return=Et,bt;if(typeof bt.then=="function")return Ut(Et,Cc(bt),Tt);if(bt.$$typeof===x)return Ut(Et,Ac(Et,bt),Tt);Rc(Et,bt)}return null}function Rt(Et,bt,Tt,Pt){var Kt=bt!==null?bt.key:null;if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return Kt!==null?null:Y(Et,bt,""+Tt,Pt);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case y:return Tt.key===Kt?pt(Et,bt,Tt,Pt):null;case E:return Tt.key===Kt?Ct(Et,bt,Tt,Pt):null;case z:return Tt=Rs(Tt),Rt(Et,bt,Tt,Pt)}if(yt(Tt)||U(Tt))return Kt!==null?null:Lt(Et,bt,Tt,Pt,null);if(typeof Tt.then=="function")return Rt(Et,bt,Cc(Tt),Pt);if(Tt.$$typeof===x)return Rt(Et,bt,Ac(Et,Tt),Pt);Rc(Et,Tt)}return null}function Nt(Et,bt,Tt,Pt,Kt){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint")return Et=Et.get(Tt)||null,Y(bt,Et,""+Pt,Kt);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case y:return Et=Et.get(Pt.key===null?Tt:Pt.key)||null,pt(bt,Et,Pt,Kt);case E:return Et=Et.get(Pt.key===null?Tt:Pt.key)||null,Ct(bt,Et,Pt,Kt);case z:return Pt=Rs(Pt),Nt(Et,bt,Tt,Pt,Kt)}if(yt(Pt)||U(Pt))return Et=Et.get(Tt)||null,Lt(bt,Et,Pt,Kt,null);if(typeof Pt.then=="function")return Nt(Et,bt,Tt,Cc(Pt),Kt);if(Pt.$$typeof===x)return Nt(Et,bt,Tt,Ac(bt,Pt),Kt);Rc(bt,Pt)}return null}function qt(Et,bt,Tt,Pt){for(var Kt=null,we=null,Wt=bt,ce=bt=0,me=null;Wt!==null&&ce<Tt.length;ce++){Wt.index>ce?(me=Wt,Wt=null):me=Wt.sibling;var _e=Rt(Et,Wt,Tt[ce],Pt);if(_e===null){Wt===null&&(Wt=me);break}i&&Wt&&_e.alternate===null&&o(Et,Wt),bt=A(_e,bt,ce),we===null?Kt=_e:we.sibling=_e,we=_e,Wt=me}if(ce===Tt.length)return u(Et,Wt),ge&&cr(Et,ce),Kt;if(Wt===null){for(;ce<Tt.length;ce++)Wt=Ut(Et,Tt[ce],Pt),Wt!==null&&(bt=A(Wt,bt,ce),we===null?Kt=Wt:we.sibling=Wt,we=Wt);return ge&&cr(Et,ce),Kt}for(Wt=m(Wt);ce<Tt.length;ce++)me=Nt(Wt,Et,ce,Tt[ce],Pt),me!==null&&(i&&me.alternate!==null&&Wt.delete(me.key===null?ce:me.key),bt=A(me,bt,ce),we===null?Kt=me:we.sibling=me,we=me);return i&&Wt.forEach(function(ss){return o(Et,ss)}),ge&&cr(Et,ce),Kt}function Jt(Et,bt,Tt,Pt){if(Tt==null)throw Error(n(151));for(var Kt=null,we=null,Wt=bt,ce=bt=0,me=null,_e=Tt.next();Wt!==null&&!_e.done;ce++,_e=Tt.next()){Wt.index>ce?(me=Wt,Wt=null):me=Wt.sibling;var ss=Rt(Et,Wt,_e.value,Pt);if(ss===null){Wt===null&&(Wt=me);break}i&&Wt&&ss.alternate===null&&o(Et,Wt),bt=A(ss,bt,ce),we===null?Kt=ss:we.sibling=ss,we=ss,Wt=me}if(_e.done)return u(Et,Wt),ge&&cr(Et,ce),Kt;if(Wt===null){for(;!_e.done;ce++,_e=Tt.next())_e=Ut(Et,_e.value,Pt),_e!==null&&(bt=A(_e,bt,ce),we===null?Kt=_e:we.sibling=_e,we=_e);return ge&&cr(Et,ce),Kt}for(Wt=m(Wt);!_e.done;ce++,_e=Tt.next())_e=Nt(Wt,Et,ce,_e.value,Pt),_e!==null&&(i&&_e.alternate!==null&&Wt.delete(_e.key===null?ce:_e.key),bt=A(_e,bt,ce),we===null?Kt=_e:we.sibling=_e,we=_e);return i&&Wt.forEach(function(SO){return o(Et,SO)}),ge&&cr(Et,ce),Kt}function Me(Et,bt,Tt,Pt){if(typeof Tt=="object"&&Tt!==null&&Tt.type===b&&Tt.key===null&&(Tt=Tt.props.children),typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case y:t:{for(var Kt=Tt.key;bt!==null;){if(bt.key===Kt){if(Kt=Tt.type,Kt===b){if(bt.tag===7){u(Et,bt.sibling),Pt=w(bt,Tt.props.children),Pt.return=Et,Et=Pt;break t}}else if(bt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===z&&Rs(Kt)===bt.type){u(Et,bt.sibling),Pt=w(bt,Tt.props),jo(Pt,Tt),Pt.return=Et,Et=Pt;break t}u(Et,bt);break}else o(Et,bt);bt=bt.sibling}Tt.type===b?(Pt=As(Tt.props.children,Et.mode,Pt,Tt.key),Pt.return=Et,Et=Pt):(Pt=wc(Tt.type,Tt.key,Tt.props,null,Et.mode,Pt),jo(Pt,Tt),Pt.return=Et,Et=Pt)}return F(Et);case E:t:{for(Kt=Tt.key;bt!==null;){if(bt.key===Kt)if(bt.tag===4&&bt.stateNode.containerInfo===Tt.containerInfo&&bt.stateNode.implementation===Tt.implementation){u(Et,bt.sibling),Pt=w(bt,Tt.children||[]),Pt.return=Et,Et=Pt;break t}else{u(Et,bt);break}else o(Et,bt);bt=bt.sibling}Pt=wf(Tt,Et.mode,Pt),Pt.return=Et,Et=Pt}return F(Et);case z:return Tt=Rs(Tt),Me(Et,bt,Tt,Pt)}if(yt(Tt))return qt(Et,bt,Tt,Pt);if(U(Tt)){if(Kt=U(Tt),typeof Kt!="function")throw Error(n(150));return Tt=Kt.call(Tt),Jt(Et,bt,Tt,Pt)}if(typeof Tt.then=="function")return Me(Et,bt,Cc(Tt),Pt);if(Tt.$$typeof===x)return Me(Et,bt,Ac(Et,Tt),Pt);Rc(Et,Tt)}return typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint"?(Tt=""+Tt,bt!==null&&bt.tag===6?(u(Et,bt.sibling),Pt=w(bt,Tt),Pt.return=Et,Et=Pt):(u(Et,bt),Pt=vf(Tt,Et.mode,Pt),Pt.return=Et,Et=Pt),F(Et)):u(Et,bt)}return function(Et,bt,Tt,Pt){try{Uo=0;var Kt=Me(Et,bt,Tt,Pt);return va=null,Kt}catch(Wt){if(Wt===ba||Wt===xc)throw Wt;var we=Qn(29,Wt,null,Et.mode);return we.lanes=Pt,we.return=Et,we}}}var Ns=Xy(!0),Ky=Xy(!1),Hr=!1;function If(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Gr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Vr(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Se&2)!==0){var w=m.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),m.pending=o,o=vc(i),My(i,null,u),o}return bc(i,m,o,u),vc(i)}function zo(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,wt(i,u)}}function Lf(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var w=null,A=null;if(u=u.firstBaseUpdate,u!==null){do{var F={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};A===null?w=A=F:A=A.next=F,u=u.next}while(u!==null);A===null?w=A=o:A=A.next=o}else w=A=o;u={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var kf=!1;function Ho(){if(kf){var i=ya;if(i!==null)throw i}}function Go(i,o,u,m){kf=!1;var w=i.updateQueue;Hr=!1;var A=w.firstBaseUpdate,F=w.lastBaseUpdate,Y=w.shared.pending;if(Y!==null){w.shared.pending=null;var pt=Y,Ct=pt.next;pt.next=null,F===null?A=Ct:F.next=Ct,F=pt;var Lt=i.alternate;Lt!==null&&(Lt=Lt.updateQueue,Y=Lt.lastBaseUpdate,Y!==F&&(Y===null?Lt.firstBaseUpdate=Ct:Y.next=Ct,Lt.lastBaseUpdate=pt))}if(A!==null){var Ut=w.baseState;F=0,Lt=Ct=pt=null,Y=A;do{var Rt=Y.lane&-536870913,Nt=Rt!==Y.lane;if(Nt?(pe&Rt)===Rt:(m&Rt)===Rt){Rt!==0&&Rt===ga&&(kf=!0),Lt!==null&&(Lt=Lt.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});t:{var qt=i,Jt=Y;Rt=o;var Me=u;switch(Jt.tag){case 1:if(qt=Jt.payload,typeof qt=="function"){Ut=qt.call(Me,Ut,Rt);break t}Ut=qt;break t;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Jt.payload,Rt=typeof qt=="function"?qt.call(Me,Ut,Rt):qt,Rt==null)break t;Ut=p({},Ut,Rt);break t;case 2:Hr=!0}}Rt=Y.callback,Rt!==null&&(i.flags|=64,Nt&&(i.flags|=8192),Nt=w.callbacks,Nt===null?w.callbacks=[Rt]:Nt.push(Rt))}else Nt={lane:Rt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Lt===null?(Ct=Lt=Nt,pt=Ut):Lt=Lt.next=Nt,F|=Rt;if(Y=Y.next,Y===null){if(Y=w.shared.pending,Y===null)break;Nt=Y,Y=Nt.next,Nt.next=null,w.lastBaseUpdate=Nt,w.shared.pending=null}}while(!0);Lt===null&&(pt=Ut),w.baseState=pt,w.firstBaseUpdate=Ct,w.lastBaseUpdate=Lt,A===null&&(w.shared.lanes=0),Xr|=F,i.lanes=F,i.memoizedState=Ut}}function Zy(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function Qy(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Zy(u[i],o)}var wa=H(null),Oc=H(0);function Jy(i,o){i=wr,K(Oc,i),K(wa,o),wr=i|o.baseLanes}function Pf(){K(Oc,wr),K(wa,wa.current)}function Bf(){wr=Oc.current,Z(wa),Z(Oc)}var Jn=H(null),gi=null;function qr(i){var o=i.alternate;K(nn,nn.current&1),K(Jn,i),gi===null&&(o===null||wa.current!==null||o.memoizedState!==null)&&(gi=i)}function Ff(i){K(nn,nn.current),K(Jn,i),gi===null&&(gi=i)}function tb(i){i.tag===22?(K(nn,nn.current),K(Jn,i),gi===null&&(gi=i)):Yr()}function Yr(){K(nn,nn.current),K(Jn,Jn.current)}function ti(i){Z(Jn),gi===i&&(gi=null),Z(nn)}var nn=H(0);function Nc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Vd(u)||qd(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var fr=0,ae=null,De=null,ln=null,Dc=!1,_a=!1,Ds=!1,Ic=0,Vo=0,Ea=null,pR=0;function Je(){throw Error(n(321))}function Uf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Zn(i[u],o[u]))return!1;return!0}function jf(i,o,u,m,w,A){return fr=A,ae=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,et.H=i===null||i.memoizedState===null?Bb:ed,Ds=!1,A=u(m,w),Ds=!1,_a&&(A=nb(o,u,m,w)),eb(i),A}function eb(i){et.H=$o;var o=De!==null&&De.next!==null;if(fr=0,ln=De=ae=null,Dc=!1,Vo=0,Ea=null,o)throw Error(n(300));i===null||cn||(i=i.dependencies,i!==null&&Ec(i)&&(cn=!0))}function nb(i,o,u,m){ae=i;var w=0;do{if(_a&&(Ea=null),Vo=0,_a=!1,25<=w)throw Error(n(301));if(w+=1,ln=De=null,i.updateQueue!=null){var A=i.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}et.H=Fb,A=o(u,m)}while(_a);return A}function mR(){var i=et.H,o=i.useState()[0];return o=typeof o.then=="function"?qo(o):o,i=i.useState()[0],(De!==null?De.memoizedState:null)!==i&&(ae.flags|=1024),o}function zf(){var i=Ic!==0;return Ic=0,i}function Hf(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Gf(i){if(Dc){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Dc=!1}fr=0,ln=De=ae=null,_a=!1,Vo=Ic=0,Ea=null}function kn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?ae.memoizedState=ln=i:ln=ln.next=i,ln}function rn(){if(De===null){var i=ae.alternate;i=i!==null?i.memoizedState:null}else i=De.next;var o=ln===null?ae.memoizedState:ln.next;if(o!==null)ln=o,De=i;else{if(i===null)throw ae.alternate===null?Error(n(467)):Error(n(310));De=i,i={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},ln===null?ae.memoizedState=ln=i:ln=ln.next=i}return ln}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(i){var o=Vo;return Vo+=1,Ea===null&&(Ea=[]),i=Yy(Ea,i,o),o=ae,(ln===null?o.memoizedState:ln.next)===null&&(o=o.alternate,et.H=o===null||o.memoizedState===null?Bb:ed),i}function Lc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return qo(i);if(i.$$typeof===x)return xn(i)}throw Error(n(438,String(i)))}function Vf(i){var o=null,u=ae.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=ae.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Mc(),ae.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=rt;return o.index++,u}function dr(i,o){return typeof o=="function"?o(i):o}function kc(i){var o=rn();return qf(o,De,i)}function qf(i,o,u){var m=i.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var w=i.baseQueue,A=m.pending;if(A!==null){if(w!==null){var F=w.next;w.next=A.next,A.next=F}o.baseQueue=w=A,m.pending=null}if(A=i.baseState,w===null)i.memoizedState=A;else{o=w.next;var Y=F=null,pt=null,Ct=o,Lt=!1;do{var Ut=Ct.lane&-536870913;if(Ut!==Ct.lane?(pe&Ut)===Ut:(fr&Ut)===Ut){var Rt=Ct.revertLane;if(Rt===0)pt!==null&&(pt=pt.next={lane:0,revertLane:0,gesture:null,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null}),Ut===ga&&(Lt=!0);else if((fr&Rt)===Rt){Ct=Ct.next,Rt===ga&&(Lt=!0);continue}else Ut={lane:0,revertLane:Ct.revertLane,gesture:null,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null},pt===null?(Y=pt=Ut,F=A):pt=pt.next=Ut,ae.lanes|=Rt,Xr|=Rt;Ut=Ct.action,Ds&&u(A,Ut),A=Ct.hasEagerState?Ct.eagerState:u(A,Ut)}else Rt={lane:Ut,revertLane:Ct.revertLane,gesture:Ct.gesture,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null},pt===null?(Y=pt=Rt,F=A):pt=pt.next=Rt,ae.lanes|=Ut,Xr|=Ut;Ct=Ct.next}while(Ct!==null&&Ct!==o);if(pt===null?F=A:pt.next=Y,!Zn(A,i.memoizedState)&&(cn=!0,Lt&&(u=ya,u!==null)))throw u;i.memoizedState=A,i.baseState=F,i.baseQueue=pt,m.lastRenderedState=A}return w===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Yf(i){var o=rn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,w=u.pending,A=o.memoizedState;if(w!==null){u.pending=null;var F=w=w.next;do A=i(A,F.action),F=F.next;while(F!==w);Zn(A,o.memoizedState)||(cn=!0),o.memoizedState=A,o.baseQueue===null&&(o.baseState=A),u.lastRenderedState=A}return[A,m]}function ib(i,o,u){var m=ae,w=rn(),A=ge;if(A){if(u===void 0)throw Error(n(407));u=u()}else u=o();var F=!Zn((De||w).memoizedState,u);if(F&&(w.memoizedState=u,cn=!0),w=w.queue,Xf(ab.bind(null,m,w,i),[i]),w.getSnapshot!==o||F||ln!==null&&ln.memoizedState.tag&1){if(m.flags|=2048,Aa(9,{destroy:void 0},sb.bind(null,m,w,u,o),null),Pe===null)throw Error(n(349));A||(fr&127)!==0||rb(m,o,u)}return u}function rb(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ae.updateQueue,o===null?(o=Mc(),ae.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function sb(i,o,u,m){o.value=u,o.getSnapshot=m,ob(o)&&lb(i)}function ab(i,o,u){return u(function(){ob(o)&&lb(i)})}function ob(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Zn(i,u)}catch{return!0}}function lb(i){var o=Es(i,2);o!==null&&$n(o,i,2)}function $f(i){var o=kn();if(typeof i=="function"){var u=i;if(i=u(),Ds){xt(!0);try{u()}finally{xt(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:i},o}function cb(i,o,u,m){return i.baseState=u,qf(i,De,typeof m=="function"?m:dr)}function gR(i,o,u,m,w){if(Fc(i))throw Error(n(485));if(i=o.action,i!==null){var A={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){A.listeners.push(F)}};et.T!==null?u(!0):A.isTransition=!1,m(A),u=o.pending,u===null?(A.next=o.pending=A,ub(o,A)):(A.next=u.next,o.pending=u.next=A)}}function ub(i,o){var u=o.action,m=o.payload,w=i.state;if(o.isTransition){var A=et.T,F={};et.T=F;try{var Y=u(w,m),pt=et.S;pt!==null&&pt(F,Y),hb(i,o,Y)}catch(Ct){Wf(i,o,Ct)}finally{A!==null&&F.types!==null&&(A.types=F.types),et.T=A}}else try{A=u(w,m),hb(i,o,A)}catch(Ct){Wf(i,o,Ct)}}function hb(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){fb(i,o,m)},function(m){return Wf(i,o,m)}):fb(i,o,u)}function fb(i,o,u){o.status="fulfilled",o.value=u,db(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,ub(i,u)))}function Wf(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,db(o),o=o.next;while(o!==m)}i.action=null}function db(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function pb(i,o){return o}function mb(i,o){if(ge){var u=Pe.formState;if(u!==null){t:{var m=ae;if(ge){if(Ue){e:{for(var w=Ue,A=mi;w.nodeType!==8;){if(!A){w=null;break e}if(w=yi(w.nextSibling),w===null){w=null;break e}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){Ue=yi(w.nextSibling),m=w.data==="F!";break t}}jr(m)}m=!1}m&&(o=u[0])}}return u=kn(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pb,lastRenderedState:o},u.queue=m,u=Lb.bind(null,ae,m),m.dispatch=u,m=$f(!1),A=td.bind(null,ae,!1,m.queue),m=kn(),w={state:o,dispatch:null,action:i,pending:null},m.queue=w,u=gR.bind(null,ae,w,A,u),w.dispatch=u,m.memoizedState=i,[o,u,!1]}function gb(i){var o=rn();return yb(o,De,i)}function yb(i,o,u){if(o=qf(i,o,pb)[0],i=kc(dr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=qo(o)}catch(F){throw F===ba?xc:F}else m=o;o=rn();var w=o.queue,A=w.dispatch;return u!==o.memoizedState&&(ae.flags|=2048,Aa(9,{destroy:void 0},yR.bind(null,w,u),null)),[m,A,i]}function yR(i,o){i.action=o}function bb(i){var o=rn(),u=De;if(u!==null)return yb(o,u,i);rn(),o=o.memoizedState,u=rn();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function Aa(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=ae.updateQueue,o===null&&(o=Mc(),ae.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function vb(){return rn().memoizedState}function Pc(i,o,u,m){var w=kn();ae.flags|=i,w.memoizedState=Aa(1|o,{destroy:void 0},u,m===void 0?null:m)}function Bc(i,o,u,m){var w=rn();m=m===void 0?null:m;var A=w.memoizedState.inst;De!==null&&m!==null&&Uf(m,De.memoizedState.deps)?w.memoizedState=Aa(o,A,u,m):(ae.flags|=i,w.memoizedState=Aa(1|o,A,u,m))}function wb(i,o){Pc(8390656,8,i,o)}function Xf(i,o){Bc(2048,8,i,o)}function bR(i){ae.flags|=4;var o=ae.updateQueue;if(o===null)o=Mc(),ae.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function _b(i){var o=rn().memoizedState;return bR({ref:o,nextImpl:i}),function(){if((Se&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function Eb(i,o){return Bc(4,2,i,o)}function Ab(i,o){return Bc(4,4,i,o)}function Sb(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function xb(i,o,u){u=u!=null?u.concat([i]):null,Bc(4,4,Sb.bind(null,o,i),u)}function Kf(){}function Tb(i,o){var u=rn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Uf(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function Cb(i,o){var u=rn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Uf(o,m[1]))return m[0];if(m=i(),Ds){xt(!0);try{i()}finally{xt(!1)}}return u.memoizedState=[m,o],m}function Zf(i,o,u){return u===void 0||(fr&1073741824)!==0&&(pe&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=Rv(),ae.lanes|=i,Xr|=i,u)}function Rb(i,o,u,m){return Zn(u,o)?u:wa.current!==null?(i=Zf(i,u,m),Zn(i,o)||(cn=!0),i):(fr&42)===0||(fr&1073741824)!==0&&(pe&261930)===0?(cn=!0,i.memoizedState=u):(i=Rv(),ae.lanes|=i,Xr|=i,o)}function Ob(i,o,u,m,w){var A=Q.p;Q.p=A!==0&&8>A?A:8;var F=et.T,Y={};et.T=Y,td(i,!1,o,u);try{var pt=w(),Ct=et.S;if(Ct!==null&&Ct(Y,pt),pt!==null&&typeof pt=="object"&&typeof pt.then=="function"){var Lt=dR(pt,m);Yo(i,o,Lt,ii(i))}else Yo(i,o,m,ii(i))}catch(Ut){Yo(i,o,{then:function(){},status:"rejected",reason:Ut},ii())}finally{Q.p=A,F!==null&&Y.types!==null&&(F.types=Y.types),et.T=F}}function vR(){}function Qf(i,o,u,m){if(i.tag!==5)throw Error(n(476));var w=Nb(i).queue;Ob(i,w,o,ft,u===null?vR:function(){return Db(i),u(m)})}function Nb(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:ft},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function Db(i){var o=Nb(i);o.next===null&&(o=i.alternate.memoizedState),Yo(i,o.next.queue,{},ii())}function Jf(){return xn(cl)}function Ib(){return rn().memoizedState}function Mb(){return rn().memoizedState}function wR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=ii();i=Gr(u);var m=Vr(o,i,u);m!==null&&($n(m,o,u),zo(m,o,u)),o={cache:Rf()},i.payload=o;return}o=o.return}}function _R(i,o,u){var m=ii();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Fc(i)?kb(o,u):(u=yf(i,o,u,m),u!==null&&($n(u,i,m),Pb(u,o,m)))}function Lb(i,o,u){var m=ii();Yo(i,o,u,m)}function Yo(i,o,u,m){var w={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Fc(i))kb(o,w);else{var A=i.alternate;if(i.lanes===0&&(A===null||A.lanes===0)&&(A=o.lastRenderedReducer,A!==null))try{var F=o.lastRenderedState,Y=A(F,u);if(w.hasEagerState=!0,w.eagerState=Y,Zn(Y,F))return bc(i,o,w,0),Pe===null&&yc(),!1}catch{}if(u=yf(i,o,w,m),u!==null)return $n(u,i,m),Pb(u,o,m),!0}return!1}function td(i,o,u,m){if(m={lane:2,revertLane:Id(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Fc(i)){if(o)throw Error(n(479))}else o=yf(i,u,m,2),o!==null&&$n(o,i,2)}function Fc(i){var o=i.alternate;return i===ae||o!==null&&o===ae}function kb(i,o){_a=Dc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Pb(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,wt(i,u)}}var $o={readContext:xn,use:Lc,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};$o.useEffectEvent=Je;var Bb={readContext:xn,use:Lc,useCallback:function(i,o){return kn().memoizedState=[i,o===void 0?null:o],i},useContext:xn,useEffect:wb,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Pc(4194308,4,Sb.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Pc(4194308,4,i,o)},useInsertionEffect:function(i,o){Pc(4,2,i,o)},useMemo:function(i,o){var u=kn();o=o===void 0?null:o;var m=i();if(Ds){xt(!0);try{i()}finally{xt(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=kn();if(u!==void 0){var w=u(o);if(Ds){xt(!0);try{u(o)}finally{xt(!1)}}}else w=o;return m.memoizedState=m.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},m.queue=i,i=i.dispatch=_R.bind(null,ae,i),[m.memoizedState,i]},useRef:function(i){var o=kn();return i={current:i},o.memoizedState=i},useState:function(i){i=$f(i);var o=i.queue,u=Lb.bind(null,ae,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Kf,useDeferredValue:function(i,o){var u=kn();return Zf(u,i,o)},useTransition:function(){var i=$f(!1);return i=Ob.bind(null,ae,i.queue,!0,!1),kn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=ae,w=kn();if(ge){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Pe===null)throw Error(n(349));(pe&127)!==0||rb(m,o,u)}w.memoizedState=u;var A={value:u,getSnapshot:o};return w.queue=A,wb(ab.bind(null,m,A,i),[i]),m.flags|=2048,Aa(9,{destroy:void 0},sb.bind(null,m,A,u,o),null),u},useId:function(){var i=kn(),o=Pe.identifierPrefix;if(ge){var u=ji,m=Ui;u=(m&~(1<<32-Dt(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Ic++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=pR++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Jf,useFormState:mb,useActionState:mb,useOptimistic:function(i){var o=kn();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=td.bind(null,ae,!0,u),u.dispatch=o,[i,o]},useMemoCache:Vf,useCacheRefresh:function(){return kn().memoizedState=wR.bind(null,ae)},useEffectEvent:function(i){var o=kn(),u={impl:i};return o.memoizedState=u,function(){if((Se&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},ed={readContext:xn,use:Lc,useCallback:Tb,useContext:xn,useEffect:Xf,useImperativeHandle:xb,useInsertionEffect:Eb,useLayoutEffect:Ab,useMemo:Cb,useReducer:kc,useRef:vb,useState:function(){return kc(dr)},useDebugValue:Kf,useDeferredValue:function(i,o){var u=rn();return Rb(u,De.memoizedState,i,o)},useTransition:function(){var i=kc(dr)[0],o=rn().memoizedState;return[typeof i=="boolean"?i:qo(i),o]},useSyncExternalStore:ib,useId:Ib,useHostTransitionStatus:Jf,useFormState:gb,useActionState:gb,useOptimistic:function(i,o){var u=rn();return cb(u,De,i,o)},useMemoCache:Vf,useCacheRefresh:Mb};ed.useEffectEvent=_b;var Fb={readContext:xn,use:Lc,useCallback:Tb,useContext:xn,useEffect:Xf,useImperativeHandle:xb,useInsertionEffect:Eb,useLayoutEffect:Ab,useMemo:Cb,useReducer:Yf,useRef:vb,useState:function(){return Yf(dr)},useDebugValue:Kf,useDeferredValue:function(i,o){var u=rn();return De===null?Zf(u,i,o):Rb(u,De.memoizedState,i,o)},useTransition:function(){var i=Yf(dr)[0],o=rn().memoizedState;return[typeof i=="boolean"?i:qo(i),o]},useSyncExternalStore:ib,useId:Ib,useHostTransitionStatus:Jf,useFormState:bb,useActionState:bb,useOptimistic:function(i,o){var u=rn();return De!==null?cb(u,De,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:Mb};Fb.useEffectEvent=_b;function nd(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:p({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var id={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=ii(),w=Gr(m);w.payload=o,u!=null&&(w.callback=u),o=Vr(i,w,m),o!==null&&($n(o,i,m),zo(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=ii(),w=Gr(m);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=Vr(i,w,m),o!==null&&($n(o,i,m),zo(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=ii(),m=Gr(u);m.tag=2,o!=null&&(m.callback=o),o=Vr(i,m,u),o!==null&&($n(o,i,u),zo(o,i,u))}};function Ub(i,o,u,m,w,A,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,A,F):o.prototype&&o.prototype.isPureReactComponent?!Mo(u,m)||!Mo(w,A):!0}function jb(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&id.enqueueReplaceState(o,o.state,null)}function Is(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=p({},u));for(var w in i)u[w]===void 0&&(u[w]=i[w])}return u}function zb(i){gc(i)}function Hb(i){console.error(i)}function Gb(i){gc(i)}function Uc(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function Vb(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function rd(i,o,u){return u=Gr(u),u.tag=3,u.payload={element:null},u.callback=function(){Uc(i,o)},u}function qb(i){return i=Gr(i),i.tag=3,i}function Yb(i,o,u,m){var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var A=m.value;i.payload=function(){return w(A)},i.callback=function(){Vb(o,u,m)}}var F=u.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(i.callback=function(){Vb(o,u,m),typeof w!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var Y=m.stack;this.componentDidCatch(m.value,{componentStack:Y!==null?Y:""})})}function ER(i,o,u,m,w){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&ma(o,u,w,!0),u=Jn.current,u!==null){switch(u.tag){case 31:case 13:return gi===null?Zc():u.alternate===null&&tn===0&&(tn=3),u.flags&=-257,u.flags|=65536,u.lanes=w,m===Tc?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Od(i,m,w)),!1;case 22:return u.flags|=65536,m===Tc?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Od(i,m,w)),!1}throw Error(n(435,u.tag))}return Od(i,m,w),Zc(),!1}if(ge)return o=Jn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,m!==Af&&(i=Error(n(422),{cause:m}),Po(fi(i,u)))):(m!==Af&&(o=Error(n(423),{cause:m}),Po(fi(o,u))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,m=fi(m,u),w=rd(i.stateNode,m,w),Lf(i,w),tn!==4&&(tn=2)),!1;var A=Error(n(520),{cause:m});if(A=fi(A,u),el===null?el=[A]:el.push(A),tn!==4&&(tn=2),o===null)return!0;m=fi(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=w&-w,u.lanes|=i,i=rd(u.stateNode,m,i),Lf(u,i),!1;case 1:if(o=u.type,A=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Kr===null||!Kr.has(A))))return u.flags|=65536,w&=-w,u.lanes|=w,w=qb(w),Yb(w,i,u,m),Lf(u,w),!1}u=u.return}while(u!==null);return!1}var sd=Error(n(461)),cn=!1;function Tn(i,o,u,m){o.child=i===null?Ky(o,null,u,m):Ns(o,i.child,u,m)}function $b(i,o,u,m,w){u=u.render;var A=o.ref;if("ref"in m){var F={};for(var Y in m)Y!=="ref"&&(F[Y]=m[Y])}else F=m;return Ts(o),m=jf(i,o,u,F,A,w),Y=zf(),i!==null&&!cn?(Hf(i,o,w),pr(i,o,w)):(ge&&Y&&_f(o),o.flags|=1,Tn(i,o,m,w),o.child)}function Wb(i,o,u,m,w){if(i===null){var A=u.type;return typeof A=="function"&&!bf(A)&&A.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=A,Xb(i,o,A,m,w)):(i=wc(u.type,null,m,o,o.mode,w),i.ref=o.ref,i.return=o,o.child=i)}if(A=i.child,!dd(i,w)){var F=A.memoizedProps;if(u=u.compare,u=u!==null?u:Mo,u(F,m)&&i.ref===o.ref)return pr(i,o,w)}return o.flags|=1,i=lr(A,m),i.ref=o.ref,i.return=o,o.child=i}function Xb(i,o,u,m,w){if(i!==null){var A=i.memoizedProps;if(Mo(A,m)&&i.ref===o.ref)if(cn=!1,o.pendingProps=m=A,dd(i,w))(i.flags&131072)!==0&&(cn=!0);else return o.lanes=i.lanes,pr(i,o,w)}return ad(i,o,u,m,w)}function Kb(i,o,u,m){var w=m.children,A=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(A=A!==null?A.baseLanes|u:u,i!==null){for(m=o.child=i.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~A}else m=0,o.child=null;return Zb(i,o,A,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sc(o,A!==null?A.cachePool:null),A!==null?Jy(o,A):Pf(),tb(o);else return m=o.lanes=536870912,Zb(i,o,A!==null?A.baseLanes|u:u,u,m)}else A!==null?(Sc(o,A.cachePool),Jy(o,A),Yr(),o.memoizedState=null):(i!==null&&Sc(o,null),Pf(),Yr());return Tn(i,o,w,u),o.child}function Wo(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Zb(i,o,u,m,w){var A=Nf();return A=A===null?null:{parent:on._currentValue,pool:A},o.memoizedState={baseLanes:u,cachePool:A},i!==null&&Sc(o,null),Pf(),tb(o),i!==null&&ma(i,o,m,!0),o.childLanes=w,null}function jc(i,o){return o=Hc({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function Qb(i,o,u){return Ns(o,i.child,null,u),i=jc(o,o.pendingProps),i.flags|=2,ti(o),o.memoizedState=null,i}function AR(i,o,u){var m=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ge){if(m.mode==="hidden")return i=jc(o,m),o.lanes=536870912,Wo(null,i);if(Ff(o),(i=Ue)?(i=u1(i,mi),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Fr!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},u=ky(i),u.return=o,o.child=u,Sn=o,Ue=null)):i=null,i===null)throw jr(o);return o.lanes=536870912,null}return jc(o,m)}var A=i.memoizedState;if(A!==null){var F=A.dehydrated;if(Ff(o),w)if(o.flags&256)o.flags&=-257,o=Qb(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(cn||ma(i,o,u,!1),w=(u&i.childLanes)!==0,cn||w){if(m=Pe,m!==null&&(F=Ot(m,u),F!==0&&F!==A.retryLane))throw A.retryLane=F,Es(i,F),$n(m,i,F),sd;Zc(),o=Qb(i,o,u)}else i=A.treeContext,Ue=yi(F.nextSibling),Sn=o,ge=!0,Ur=null,mi=!1,i!==null&&Fy(o,i),o=jc(o,m),o.flags|=4096;return o}return i=lr(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function zc(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function ad(i,o,u,m,w){return Ts(o),u=jf(i,o,u,m,void 0,w),m=zf(),i!==null&&!cn?(Hf(i,o,w),pr(i,o,w)):(ge&&m&&_f(o),o.flags|=1,Tn(i,o,u,w),o.child)}function Jb(i,o,u,m,w,A){return Ts(o),o.updateQueue=null,u=nb(o,m,u,w),eb(i),m=zf(),i!==null&&!cn?(Hf(i,o,A),pr(i,o,A)):(ge&&m&&_f(o),o.flags|=1,Tn(i,o,u,A),o.child)}function tv(i,o,u,m,w){if(Ts(o),o.stateNode===null){var A=ha,F=u.contextType;typeof F=="object"&&F!==null&&(A=xn(F)),A=new u(m,A),o.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=id,o.stateNode=A,A._reactInternals=o,A=o.stateNode,A.props=m,A.state=o.memoizedState,A.refs={},If(o),F=u.contextType,A.context=typeof F=="object"&&F!==null?xn(F):ha,A.state=o.memoizedState,F=u.getDerivedStateFromProps,typeof F=="function"&&(nd(o,u,F,m),A.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(F=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),F!==A.state&&id.enqueueReplaceState(A,A.state,null),Go(o,m,A,w),Ho(),A.state=o.memoizedState),typeof A.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){A=o.stateNode;var Y=o.memoizedProps,pt=Is(u,Y);A.props=pt;var Ct=A.context,Lt=u.contextType;F=ha,typeof Lt=="object"&&Lt!==null&&(F=xn(Lt));var Ut=u.getDerivedStateFromProps;Lt=typeof Ut=="function"||typeof A.getSnapshotBeforeUpdate=="function",Y=o.pendingProps!==Y,Lt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(Y||Ct!==F)&&jb(o,A,m,F),Hr=!1;var Rt=o.memoizedState;A.state=Rt,Go(o,m,A,w),Ho(),Ct=o.memoizedState,Y||Rt!==Ct||Hr?(typeof Ut=="function"&&(nd(o,u,Ut,m),Ct=o.memoizedState),(pt=Hr||Ub(o,u,pt,m,Rt,Ct,F))?(Lt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=Ct),A.props=m,A.state=Ct,A.context=F,m=pt):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{A=o.stateNode,Mf(i,o),F=o.memoizedProps,Lt=Is(u,F),A.props=Lt,Ut=o.pendingProps,Rt=A.context,Ct=u.contextType,pt=ha,typeof Ct=="object"&&Ct!==null&&(pt=xn(Ct)),Y=u.getDerivedStateFromProps,(Ct=typeof Y=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==Ut||Rt!==pt)&&jb(o,A,m,pt),Hr=!1,Rt=o.memoizedState,A.state=Rt,Go(o,m,A,w),Ho();var Nt=o.memoizedState;F!==Ut||Rt!==Nt||Hr||i!==null&&i.dependencies!==null&&Ec(i.dependencies)?(typeof Y=="function"&&(nd(o,u,Y,m),Nt=o.memoizedState),(Lt=Hr||Ub(o,u,Lt,m,Rt,Nt,pt)||i!==null&&i.dependencies!==null&&Ec(i.dependencies))?(Ct||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,Nt,pt),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,Nt,pt)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||F===i.memoizedProps&&Rt===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&Rt===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Nt),A.props=m,A.state=Nt,A.context=pt,m=Lt):(typeof A.componentDidUpdate!="function"||F===i.memoizedProps&&Rt===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&Rt===i.memoizedState||(o.flags|=1024),m=!1)}return A=m,zc(i,o),m=(o.flags&128)!==0,A||m?(A=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:A.render(),o.flags|=1,i!==null&&m?(o.child=Ns(o,i.child,null,w),o.child=Ns(o,null,u,w)):Tn(i,o,u,w),o.memoizedState=A.state,i=o.child):i=pr(i,o,w),i}function ev(i,o,u,m){return Ss(),o.flags|=256,Tn(i,o,u,m),o.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(i){return{baseLanes:i,cachePool:Vy()}}function cd(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=ni),i}function nv(i,o,u){var m=o.pendingProps,w=!1,A=(o.flags&128)!==0,F;if((F=A)||(F=i!==null&&i.memoizedState===null?!1:(nn.current&2)!==0),F&&(w=!0,o.flags&=-129),F=(o.flags&32)!==0,o.flags&=-33,i===null){if(ge){if(w?qr(o):Yr(),(i=Ue)?(i=u1(i,mi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Fr!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},u=ky(i),u.return=o,o.child=u,Sn=o,Ue=null)):i=null,i===null)throw jr(o);return qd(i)?o.lanes=32:o.lanes=536870912,null}var Y=m.children;return m=m.fallback,w?(Yr(),w=o.mode,Y=Hc({mode:"hidden",children:Y},w),m=As(m,w,u,null),Y.return=o,m.return=o,Y.sibling=m,o.child=Y,m=o.child,m.memoizedState=ld(u),m.childLanes=cd(i,F,u),o.memoizedState=od,Wo(null,m)):(qr(o),ud(o,Y))}var pt=i.memoizedState;if(pt!==null&&(Y=pt.dehydrated,Y!==null)){if(A)o.flags&256?(qr(o),o.flags&=-257,o=hd(i,o,u)):o.memoizedState!==null?(Yr(),o.child=i.child,o.flags|=128,o=null):(Yr(),Y=m.fallback,w=o.mode,m=Hc({mode:"visible",children:m.children},w),Y=As(Y,w,u,null),Y.flags|=2,m.return=o,Y.return=o,m.sibling=Y,o.child=m,Ns(o,i.child,null,u),m=o.child,m.memoizedState=ld(u),m.childLanes=cd(i,F,u),o.memoizedState=od,o=Wo(null,m));else if(qr(o),qd(Y)){if(F=Y.nextSibling&&Y.nextSibling.dataset,F)var Ct=F.dgst;F=Ct,m=Error(n(419)),m.stack="",m.digest=F,Po({value:m,source:null,stack:null}),o=hd(i,o,u)}else if(cn||ma(i,o,u,!1),F=(u&i.childLanes)!==0,cn||F){if(F=Pe,F!==null&&(m=Ot(F,u),m!==0&&m!==pt.retryLane))throw pt.retryLane=m,Es(i,m),$n(F,i,m),sd;Vd(Y)||Zc(),o=hd(i,o,u)}else Vd(Y)?(o.flags|=192,o.child=i.child,o=null):(i=pt.treeContext,Ue=yi(Y.nextSibling),Sn=o,ge=!0,Ur=null,mi=!1,i!==null&&Fy(o,i),o=ud(o,m.children),o.flags|=4096);return o}return w?(Yr(),Y=m.fallback,w=o.mode,pt=i.child,Ct=pt.sibling,m=lr(pt,{mode:"hidden",children:m.children}),m.subtreeFlags=pt.subtreeFlags&65011712,Ct!==null?Y=lr(Ct,Y):(Y=As(Y,w,u,null),Y.flags|=2),Y.return=o,m.return=o,m.sibling=Y,o.child=m,Wo(null,m),m=o.child,Y=i.child.memoizedState,Y===null?Y=ld(u):(w=Y.cachePool,w!==null?(pt=on._currentValue,w=w.parent!==pt?{parent:pt,pool:pt}:w):w=Vy(),Y={baseLanes:Y.baseLanes|u,cachePool:w}),m.memoizedState=Y,m.childLanes=cd(i,F,u),o.memoizedState=od,Wo(i.child,m)):(qr(o),u=i.child,i=u.sibling,u=lr(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(F=o.deletions,F===null?(o.deletions=[i],o.flags|=16):F.push(i)),o.child=u,o.memoizedState=null,u)}function ud(i,o){return o=Hc({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Hc(i,o){return i=Qn(22,i,null,o),i.lanes=0,i}function hd(i,o,u){return Ns(o,i.child,null,u),i=ud(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function iv(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),Tf(i.return,o,u)}function fd(i,o,u,m,w,A){var F=i.memoizedState;F===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:w,treeForkCount:A}:(F.isBackwards=o,F.rendering=null,F.renderingStartTime=0,F.last=m,F.tail=u,F.tailMode=w,F.treeForkCount=A)}function rv(i,o,u){var m=o.pendingProps,w=m.revealOrder,A=m.tail;m=m.children;var F=nn.current,Y=(F&2)!==0;if(Y?(F=F&1|2,o.flags|=128):F&=1,K(nn,F),Tn(i,o,m,u),m=ge?ko:0,!Y&&i!==null&&(i.flags&128)!==0)t:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&iv(i,u,o);else if(i.tag===19)iv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break t;for(;i.sibling===null;){if(i.return===null||i.return===o)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(u=o.child,w=null;u!==null;)i=u.alternate,i!==null&&Nc(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=o.child,o.child=null):(w=u.sibling,u.sibling=null),fd(o,!1,w,u,A,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,w=o.child,o.child=null;w!==null;){if(i=w.alternate,i!==null&&Nc(i)===null){o.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}fd(o,!0,u,null,A,m);break;case"together":fd(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function pr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Xr|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(ma(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=lr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=lr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function dd(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Ec(i)))}function SR(i,o,u){switch(o.tag){case 3:D(o,o.stateNode.containerInfo),zr(o,on,i.memoizedState.cache),Ss();break;case 27:case 5:J(o);break;case 4:D(o,o.stateNode.containerInfo);break;case 10:zr(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ff(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(qr(o),o.flags|=128,null):(u&o.child.childLanes)!==0?nv(i,o,u):(qr(o),i=pr(i,o,u),i!==null?i.sibling:null);qr(o);break;case 19:var w=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(ma(i,o,u,!1),m=(u&o.childLanes)!==0),w){if(m)return rv(i,o,u);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),K(nn,nn.current),m)break;return null;case 22:return o.lanes=0,Kb(i,o,u,o.pendingProps);case 24:zr(o,on,i.memoizedState.cache)}return pr(i,o,u)}function sv(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)cn=!0;else{if(!dd(i,u)&&(o.flags&128)===0)return cn=!1,SR(i,o,u);cn=(i.flags&131072)!==0}else cn=!1,ge&&(o.flags&1048576)!==0&&By(o,ko,o.index);switch(o.lanes=0,o.tag){case 16:t:{var m=o.pendingProps;if(i=Rs(o.elementType),o.type=i,typeof i=="function")bf(i)?(m=Is(i,m),o.tag=1,o=tv(null,o,i,m,u)):(o.tag=0,o=ad(null,o,i,m,u));else{if(i!=null){var w=i.$$typeof;if(w===T){o.tag=11,o=$b(null,o,i,m,u);break t}else if(w===L){o.tag=14,o=Wb(null,o,i,m,u);break t}}throw o=j(i)||i,Error(n(306,o,""))}}return o;case 0:return ad(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,w=Is(m,o.pendingProps),tv(i,o,m,w,u);case 3:t:{if(D(o,o.stateNode.containerInfo),i===null)throw Error(n(387));m=o.pendingProps;var A=o.memoizedState;w=A.element,Mf(i,o),Go(o,m,null,u);var F=o.memoizedState;if(m=F.cache,zr(o,on,m),m!==A.cache&&Cf(o,[on],u,!0),Ho(),m=F.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:F.cache},o.updateQueue.baseState=A,o.memoizedState=A,o.flags&256){o=ev(i,o,m,u);break t}else if(m!==w){w=fi(Error(n(424)),o),Po(w),o=ev(i,o,m,u);break t}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ue=yi(i.firstChild),Sn=o,ge=!0,Ur=null,mi=!0,u=Ky(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ss(),m===w){o=pr(i,o,u);break t}Tn(i,o,m,u)}o=o.child}return o;case 26:return zc(i,o),i===null?(u=g1(o.type,null,o.pendingProps,null))?o.memoizedState=u:ge||(u=o.type,i=o.pendingProps,m=ru(ct.current).createElement(u),m[te]=o,m[zn]=i,Cn(m,u,i),vn(m),o.stateNode=m):o.memoizedState=g1(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return J(o),i===null&&ge&&(m=o.stateNode=d1(o.type,o.pendingProps,ct.current),Sn=o,mi=!0,w=Ue,ts(o.type)?(Yd=w,Ue=yi(m.firstChild)):Ue=w),Tn(i,o,o.pendingProps.children,u),zc(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ge&&((w=m=Ue)&&(m=tO(m,o.type,o.pendingProps,mi),m!==null?(o.stateNode=m,Sn=o,Ue=yi(m.firstChild),mi=!1,w=!0):w=!1),w||jr(o)),J(o),w=o.type,A=o.pendingProps,F=i!==null?i.memoizedProps:null,m=A.children,zd(w,A)?m=null:F!==null&&zd(w,F)&&(o.flags|=32),o.memoizedState!==null&&(w=jf(i,o,mR,null,null,u),cl._currentValue=w),zc(i,o),Tn(i,o,m,u),o.child;case 6:return i===null&&ge&&((i=u=Ue)&&(u=eO(u,o.pendingProps,mi),u!==null?(o.stateNode=u,Sn=o,Ue=null,i=!0):i=!1),i||jr(o)),null;case 13:return nv(i,o,u);case 4:return D(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Ns(o,null,m,u):Tn(i,o,m,u),o.child;case 11:return $b(i,o,o.type,o.pendingProps,u);case 7:return Tn(i,o,o.pendingProps,u),o.child;case 8:return Tn(i,o,o.pendingProps.children,u),o.child;case 12:return Tn(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,zr(o,o.type,m.value),Tn(i,o,m.children,u),o.child;case 9:return w=o.type._context,m=o.pendingProps.children,Ts(o),w=xn(w),m=m(w),o.flags|=1,Tn(i,o,m,u),o.child;case 14:return Wb(i,o,o.type,o.pendingProps,u);case 15:return Xb(i,o,o.type,o.pendingProps,u);case 19:return rv(i,o,u);case 31:return AR(i,o,u);case 22:return Kb(i,o,u,o.pendingProps);case 24:return Ts(o),m=xn(on),i===null?(w=Nf(),w===null&&(w=Pe,A=Rf(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=u),w=A),o.memoizedState={parent:m,cache:w},If(o),zr(o,on,w)):((i.lanes&u)!==0&&(Mf(i,o),Go(o,null,null,u),Ho()),w=i.memoizedState,A=o.memoizedState,w.parent!==m?(w={parent:m,cache:m},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),zr(o,on,m)):(m=A.cache,zr(o,on,m),m!==w.cache&&Cf(o,[on],u,!0))),Tn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function mr(i){i.flags|=4}function pd(i,o,u,m,w){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if(Iv())i.flags|=8192;else throw Os=Tc,Df}else i.flags&=-16777217}function av(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_1(o))if(Iv())i.flags|=8192;else throw Os=Tc,Df}function Gc(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?sc():536870912,i.lanes|=o,Ca|=o)}function Xo(i,o){if(!ge)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function je(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function xR(i,o,u){var m=o.pendingProps;switch(Ef(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(o),null;case 1:return je(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),hr(on),ot(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(pa(o)?mr(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Sf())),je(o),null;case 26:var w=o.type,A=o.memoizedState;return i===null?(mr(o),A!==null?(je(o),av(o,A)):(je(o),pd(o,w,null,m,u))):A?A!==i.memoizedState?(mr(o),je(o),av(o,A)):(je(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&mr(o),je(o),pd(o,w,i,m,u)),null;case 27:if(G(o),u=ct.current,w=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&mr(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return je(o),null}i=st.current,pa(o)?Uy(o):(i=d1(w,m,u),o.stateNode=i,mr(o))}return je(o),null;case 5:if(G(o),w=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&mr(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return je(o),null}if(A=st.current,pa(o))Uy(o);else{var F=ru(ct.current);switch(A){case 1:A=F.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:A=F.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":A=F.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":A=F.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":A=F.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof m.is=="string"?F.createElement("select",{is:m.is}):F.createElement("select"),m.multiple?A.multiple=!0:m.size&&(A.size=m.size);break;default:A=typeof m.is=="string"?F.createElement(w,{is:m.is}):F.createElement(w)}}A[te]=o,A[zn]=m;t:for(F=o.child;F!==null;){if(F.tag===5||F.tag===6)A.appendChild(F.stateNode);else if(F.tag!==4&&F.tag!==27&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===o)break t;for(;F.sibling===null;){if(F.return===null||F.return===o)break t;F=F.return}F.sibling.return=F.return,F=F.sibling}o.stateNode=A;t:switch(Cn(A,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break t;case"img":m=!0;break t;default:m=!1}m&&mr(o)}}return je(o),pd(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&mr(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(i=ct.current,pa(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,w=Sn,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}i[te]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||n1(i.nodeValue,u)),i||jr(o,!0)}else i=ru(i).createTextNode(m),i[te]=o,o.stateNode=i}return je(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=pa(o),u!==null){if(i===null){if(!m)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[te]=o}else Ss(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;je(o),i=!1}else u=Sf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(ti(o),o):(ti(o),null);if((o.flags&128)!==0)throw Error(n(558))}return je(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=pa(o),m!==null&&m.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[te]=o}else Ss(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;je(o),w=!1}else w=Sf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(ti(o),o):(ti(o),null)}return ti(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),A=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==w&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Gc(o,o.updateQueue),je(o),null);case 4:return ot(),i===null&&Pd(o.stateNode.containerInfo),je(o),null;case 10:return hr(o.type),je(o),null;case 19:if(Z(nn),m=o.memoizedState,m===null)return je(o),null;if(w=(o.flags&128)!==0,A=m.rendering,A===null)if(w)Xo(m,!1);else{if(tn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(A=Nc(i),A!==null){for(o.flags|=128,Xo(m,!1),i=A.updateQueue,o.updateQueue=i,Gc(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)Ly(u,i),u=u.sibling;return K(nn,nn.current&1|2),ge&&cr(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&zt()>Wc&&(o.flags|=128,w=!0,Xo(m,!1),o.lanes=4194304)}else{if(!w)if(i=Nc(A),i!==null){if(o.flags|=128,w=!0,i=i.updateQueue,o.updateQueue=i,Gc(o,i),Xo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!A.alternate&&!ge)return je(o),null}else 2*zt()-m.renderingStartTime>Wc&&u!==536870912&&(o.flags|=128,w=!0,Xo(m,!1),o.lanes=4194304);m.isBackwards?(A.sibling=o.child,o.child=A):(i=m.last,i!==null?i.sibling=A:o.child=A,m.last=A)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=zt(),i.sibling=null,u=nn.current,K(nn,w?u&1|2:u&1),ge&&cr(o,m.treeForkCount),i):(je(o),null);case 22:case 23:return ti(o),Bf(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(je(o),o.subtreeFlags&6&&(o.flags|=8192)):je(o),u=o.updateQueue,u!==null&&Gc(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&Z(Cs),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),hr(on),je(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function TR(i,o){switch(Ef(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return hr(on),ot(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return G(o),null;case 31:if(o.memoizedState!==null){if(ti(o),o.alternate===null)throw Error(n(340));Ss()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(ti(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ss()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Z(nn),null;case 4:return ot(),null;case 10:return hr(o.type),null;case 22:case 23:return ti(o),Bf(),i!==null&&Z(Cs),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return hr(on),null;case 25:return null;default:return null}}function ov(i,o){switch(Ef(o),o.tag){case 3:hr(on),ot();break;case 26:case 27:case 5:G(o);break;case 4:ot();break;case 31:o.memoizedState!==null&&ti(o);break;case 13:ti(o);break;case 19:Z(nn);break;case 10:hr(o.type);break;case 22:case 23:ti(o),Bf(),i!==null&&Z(Cs);break;case 24:hr(on)}}function Ko(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var w=m.next;u=w;do{if((u.tag&i)===i){m=void 0;var A=u.create,F=u.inst;m=A(),F.destroy=m}u=u.next}while(u!==w)}}catch(Y){Ne(o,o.return,Y)}}function $r(i,o,u){try{var m=o.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var A=w.next;m=A;do{if((m.tag&i)===i){var F=m.inst,Y=F.destroy;if(Y!==void 0){F.destroy=void 0,w=o;var pt=u,Ct=Y;try{Ct()}catch(Lt){Ne(w,pt,Lt)}}}m=m.next}while(m!==A)}}catch(Lt){Ne(o,o.return,Lt)}}function lv(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{Qy(o,u)}catch(m){Ne(i,i.return,m)}}}function cv(i,o,u){u.props=Is(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){Ne(i,o,m)}}function Zo(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(w){Ne(i,o,w)}}function zi(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(w){Ne(i,o,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(w){Ne(i,o,w)}else u.current=null}function uv(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break t;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(w){Ne(i,i.return,w)}}function md(i,o,u){try{var m=i.stateNode;WR(m,i.type,u,o),m[zn]=o}catch(w){Ne(i,i.return,w)}}function hv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ts(i.type)||i.tag===4}function gd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||hv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ts(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yd(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ar));else if(m!==4&&(m===27&&ts(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(yd(i,o,u),i=i.sibling;i!==null;)yd(i,o,u),i=i.sibling}function Vc(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&ts(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Vc(i,o,u),i=i.sibling;i!==null;)Vc(i,o,u),i=i.sibling}function fv(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);Cn(o,m,u),o[te]=i,o[zn]=u}catch(A){Ne(i,i.return,A)}}var gr=!1,un=!1,bd=!1,dv=typeof WeakSet=="function"?WeakSet:Set,wn=null;function CR(i,o){if(i=i.containerInfo,Ud=hu,i=xy(i),hf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var w=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{u.nodeType,A.nodeType}catch{u=null;break t}var F=0,Y=-1,pt=-1,Ct=0,Lt=0,Ut=i,Rt=null;e:for(;;){for(var Nt;Ut!==u||w!==0&&Ut.nodeType!==3||(Y=F+w),Ut!==A||m!==0&&Ut.nodeType!==3||(pt=F+m),Ut.nodeType===3&&(F+=Ut.nodeValue.length),(Nt=Ut.firstChild)!==null;)Rt=Ut,Ut=Nt;for(;;){if(Ut===i)break e;if(Rt===u&&++Ct===w&&(Y=F),Rt===A&&++Lt===m&&(pt=F),(Nt=Ut.nextSibling)!==null)break;Ut=Rt,Rt=Ut.parentNode}Ut=Nt}u=Y===-1||pt===-1?null:{start:Y,end:pt}}else u=null}u=u||{start:0,end:0}}else u=null;for(jd={focusedElem:i,selectionRange:u},hu=!1,wn=o;wn!==null;)if(o=wn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,wn=i;else for(;wn!==null;){switch(o=wn,A=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)w=i[u],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&A!==null){i=void 0,u=o,w=A.memoizedProps,A=A.memoizedState,m=u.stateNode;try{var qt=Is(u.type,w);i=m.getSnapshotBeforeUpdate(qt,A),m.__reactInternalSnapshotBeforeUpdate=i}catch(Jt){Ne(u,u.return,Jt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Gd(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,wn=i;break}wn=o.return}}function pv(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:br(i,u),m&4&&Ko(5,u);break;case 1:if(br(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(F){Ne(u,u.return,F)}else{var w=Is(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(w,o,i.__reactInternalSnapshotBeforeUpdate)}catch(F){Ne(u,u.return,F)}}m&64&&lv(u),m&512&&Zo(u,u.return);break;case 3:if(br(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Qy(i,o)}catch(F){Ne(u,u.return,F)}}break;case 27:o===null&&m&4&&fv(u);case 26:case 5:br(i,u),o===null&&m&4&&uv(u),m&512&&Zo(u,u.return);break;case 12:br(i,u);break;case 31:br(i,u),m&4&&yv(i,u);break;case 13:br(i,u),m&4&&bv(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=PR.bind(null,u),nO(i,u))));break;case 22:if(m=u.memoizedState!==null||gr,!m){o=o!==null&&o.memoizedState!==null||un,w=gr;var A=un;gr=m,(un=o)&&!A?vr(i,u,(u.subtreeFlags&8772)!==0):br(i,u),gr=w,un=A}break;case 30:break;default:br(i,u)}}function mv(i){var o=i.alternate;o!==null&&(i.alternate=null,mv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&$h(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ve=null,Gn=!1;function yr(i,o,u){for(u=u.child;u!==null;)gv(i,o,u),u=u.sibling}function gv(i,o,u){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(nt,u)}catch{}switch(u.tag){case 26:un||zi(u,o),yr(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:un||zi(u,o);var m=Ve,w=Gn;ts(u.type)&&(Ve=u.stateNode,Gn=!1),yr(i,o,u),al(u.stateNode),Ve=m,Gn=w;break;case 5:un||zi(u,o);case 6:if(m=Ve,w=Gn,Ve=null,yr(i,o,u),Ve=m,Gn=w,Ve!==null)if(Gn)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(u.stateNode)}catch(A){Ne(u,o,A)}else try{Ve.removeChild(u.stateNode)}catch(A){Ne(u,o,A)}break;case 18:Ve!==null&&(Gn?(i=Ve,l1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),ka(i)):l1(Ve,u.stateNode));break;case 4:m=Ve,w=Gn,Ve=u.stateNode.containerInfo,Gn=!0,yr(i,o,u),Ve=m,Gn=w;break;case 0:case 11:case 14:case 15:$r(2,u,o),un||$r(4,u,o),yr(i,o,u);break;case 1:un||(zi(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&cv(u,o,m)),yr(i,o,u);break;case 21:yr(i,o,u);break;case 22:un=(m=un)||u.memoizedState!==null,yr(i,o,u),un=m;break;default:yr(i,o,u)}}function yv(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ka(i)}catch(u){Ne(o,o.return,u)}}}function bv(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ka(i)}catch(u){Ne(o,o.return,u)}}function RR(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new dv),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new dv),o;default:throw Error(n(435,i.tag))}}function qc(i,o){var u=RR(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var w=BR.bind(null,i,m);m.then(w,w)}})}function Vn(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var w=u[m],A=i,F=o,Y=F;t:for(;Y!==null;){switch(Y.tag){case 27:if(ts(Y.type)){Ve=Y.stateNode,Gn=!1;break t}break;case 5:Ve=Y.stateNode,Gn=!1;break t;case 3:case 4:Ve=Y.stateNode.containerInfo,Gn=!0;break t}Y=Y.return}if(Ve===null)throw Error(n(160));gv(A,F,w),Ve=null,Gn=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)vv(o,i),o=o.sibling}var Di=null;function vv(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vn(o,i),qn(i),m&4&&($r(3,i,i.return),Ko(3,i),$r(5,i,i.return));break;case 1:Vn(o,i),qn(i),m&512&&(un||u===null||zi(u,u.return)),m&64&&gr&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var w=Di;if(Vn(o,i),qn(i),m&512&&(un||u===null||zi(u,u.return)),m&4){var A=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){t:{m=i.type,u=i.memoizedProps,w=w.ownerDocument||w;e:switch(m){case"title":A=w.getElementsByTagName("title")[0],(!A||A[So]||A[te]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(m),w.head.insertBefore(A,w.querySelector("head > title"))),Cn(A,m,u),A[te]=i,vn(A),m=A;break t;case"link":var F=v1("link","href",w).get(m+(u.href||""));if(F){for(var Y=0;Y<F.length;Y++)if(A=F[Y],A.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&A.getAttribute("rel")===(u.rel==null?null:u.rel)&&A.getAttribute("title")===(u.title==null?null:u.title)&&A.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){F.splice(Y,1);break e}}A=w.createElement(m),Cn(A,m,u),w.head.appendChild(A);break;case"meta":if(F=v1("meta","content",w).get(m+(u.content||""))){for(Y=0;Y<F.length;Y++)if(A=F[Y],A.getAttribute("content")===(u.content==null?null:""+u.content)&&A.getAttribute("name")===(u.name==null?null:u.name)&&A.getAttribute("property")===(u.property==null?null:u.property)&&A.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&A.getAttribute("charset")===(u.charSet==null?null:u.charSet)){F.splice(Y,1);break e}}A=w.createElement(m),Cn(A,m,u),w.head.appendChild(A);break;default:throw Error(n(468,m))}A[te]=i,vn(A),m=A}i.stateNode=m}else w1(w,i.type,i.stateNode);else i.stateNode=b1(w,m,i.memoizedProps);else A!==m?(A===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):A.count--,m===null?w1(w,i.type,i.stateNode):b1(w,m,i.memoizedProps)):m===null&&i.stateNode!==null&&md(i,i.memoizedProps,u.memoizedProps)}break;case 27:Vn(o,i),qn(i),m&512&&(un||u===null||zi(u,u.return)),u!==null&&m&4&&md(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Vn(o,i),qn(i),m&512&&(un||u===null||zi(u,u.return)),i.flags&32){w=i.stateNode;try{ra(w,"")}catch(qt){Ne(i,i.return,qt)}}m&4&&i.stateNode!=null&&(w=i.memoizedProps,md(i,w,u!==null?u.memoizedProps:w)),m&1024&&(bd=!0);break;case 6:if(Vn(o,i),qn(i),m&4){if(i.stateNode===null)throw Error(n(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(qt){Ne(i,i.return,qt)}}break;case 3:if(ou=null,w=Di,Di=su(o.containerInfo),Vn(o,i),Di=w,qn(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{ka(o.containerInfo)}catch(qt){Ne(i,i.return,qt)}bd&&(bd=!1,wv(i));break;case 4:m=Di,Di=su(i.stateNode.containerInfo),Vn(o,i),qn(i),Di=m;break;case 12:Vn(o,i),qn(i);break;case 31:Vn(o,i),qn(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,qc(i,m)));break;case 13:Vn(o,i),qn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&($c=zt()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,qc(i,m)));break;case 22:w=i.memoizedState!==null;var pt=u!==null&&u.memoizedState!==null,Ct=gr,Lt=un;if(gr=Ct||w,un=Lt||pt,Vn(o,i),un=Lt,gr=Ct,qn(i),m&8192)t:for(o=i.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(u===null||pt||gr||un||Ms(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){pt=u=o;try{if(A=pt.stateNode,w)F=A.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{Y=pt.stateNode;var Ut=pt.memoizedProps.style,Rt=Ut!=null&&Ut.hasOwnProperty("display")?Ut.display:null;Y.style.display=Rt==null||typeof Rt=="boolean"?"":(""+Rt).trim()}}catch(qt){Ne(pt,pt.return,qt)}}}else if(o.tag===6){if(u===null){pt=o;try{pt.stateNode.nodeValue=w?"":pt.memoizedProps}catch(qt){Ne(pt,pt.return,qt)}}}else if(o.tag===18){if(u===null){pt=o;try{var Nt=pt.stateNode;w?c1(Nt,!0):c1(pt.stateNode,!1)}catch(qt){Ne(pt,pt.return,qt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break t;for(;o.sibling===null;){if(o.return===null||o.return===i)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,qc(i,u))));break;case 19:Vn(o,i),qn(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,qc(i,m)));break;case 30:break;case 21:break;default:Vn(o,i),qn(i)}}function qn(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(hv(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var w=u.stateNode,A=gd(i);Vc(i,A,w);break;case 5:var F=u.stateNode;u.flags&32&&(ra(F,""),u.flags&=-33);var Y=gd(i);Vc(i,Y,F);break;case 3:case 4:var pt=u.stateNode.containerInfo,Ct=gd(i);yd(i,Ct,pt);break;default:throw Error(n(161))}}catch(Lt){Ne(i,i.return,Lt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function wv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;wv(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function br(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)pv(i,o.alternate,o),o=o.sibling}function Ms(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:$r(4,o,o.return),Ms(o);break;case 1:zi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&cv(o,o.return,u),Ms(o);break;case 27:al(o.stateNode);case 26:case 5:zi(o,o.return),Ms(o);break;case 22:o.memoizedState===null&&Ms(o);break;case 30:Ms(o);break;default:Ms(o)}i=i.sibling}}function vr(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,w=i,A=o,F=A.flags;switch(A.tag){case 0:case 11:case 15:vr(w,A,u),Ko(4,A);break;case 1:if(vr(w,A,u),m=A,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Ct){Ne(m,m.return,Ct)}if(m=A,w=m.updateQueue,w!==null){var Y=m.stateNode;try{var pt=w.shared.hiddenCallbacks;if(pt!==null)for(w.shared.hiddenCallbacks=null,w=0;w<pt.length;w++)Zy(pt[w],Y)}catch(Ct){Ne(m,m.return,Ct)}}u&&F&64&&lv(A),Zo(A,A.return);break;case 27:fv(A);case 26:case 5:vr(w,A,u),u&&m===null&&F&4&&uv(A),Zo(A,A.return);break;case 12:vr(w,A,u);break;case 31:vr(w,A,u),u&&F&4&&yv(w,A);break;case 13:vr(w,A,u),u&&F&4&&bv(w,A);break;case 22:A.memoizedState===null&&vr(w,A,u),Zo(A,A.return);break;case 30:break;default:vr(w,A,u)}o=o.sibling}}function vd(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Bo(u))}function wd(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Bo(i))}function Ii(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)_v(i,o,u,m),o=o.sibling}function _v(i,o,u,m){var w=o.flags;switch(o.tag){case 0:case 11:case 15:Ii(i,o,u,m),w&2048&&Ko(9,o);break;case 1:Ii(i,o,u,m);break;case 3:Ii(i,o,u,m),w&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Bo(i)));break;case 12:if(w&2048){Ii(i,o,u,m),i=o.stateNode;try{var A=o.memoizedProps,F=A.id,Y=A.onPostCommit;typeof Y=="function"&&Y(F,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(pt){Ne(o,o.return,pt)}}else Ii(i,o,u,m);break;case 31:Ii(i,o,u,m);break;case 13:Ii(i,o,u,m);break;case 23:break;case 22:A=o.stateNode,F=o.alternate,o.memoizedState!==null?A._visibility&2?Ii(i,o,u,m):Qo(i,o):A._visibility&2?Ii(i,o,u,m):(A._visibility|=2,Sa(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),w&2048&&vd(F,o);break;case 24:Ii(i,o,u,m),w&2048&&wd(o.alternate,o);break;default:Ii(i,o,u,m)}}function Sa(i,o,u,m,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var A=i,F=o,Y=u,pt=m,Ct=F.flags;switch(F.tag){case 0:case 11:case 15:Sa(A,F,Y,pt,w),Ko(8,F);break;case 23:break;case 22:var Lt=F.stateNode;F.memoizedState!==null?Lt._visibility&2?Sa(A,F,Y,pt,w):Qo(A,F):(Lt._visibility|=2,Sa(A,F,Y,pt,w)),w&&Ct&2048&&vd(F.alternate,F);break;case 24:Sa(A,F,Y,pt,w),w&&Ct&2048&&wd(F.alternate,F);break;default:Sa(A,F,Y,pt,w)}o=o.sibling}}function Qo(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,w=m.flags;switch(m.tag){case 22:Qo(u,m),w&2048&&vd(m.alternate,m);break;case 24:Qo(u,m),w&2048&&wd(m.alternate,m);break;default:Qo(u,m)}o=o.sibling}}var Jo=8192;function xa(i,o,u){if(i.subtreeFlags&Jo)for(i=i.child;i!==null;)Ev(i,o,u),i=i.sibling}function Ev(i,o,u){switch(i.tag){case 26:xa(i,o,u),i.flags&Jo&&i.memoizedState!==null&&pO(u,Di,i.memoizedState,i.memoizedProps);break;case 5:xa(i,o,u);break;case 3:case 4:var m=Di;Di=su(i.stateNode.containerInfo),xa(i,o,u),Di=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=Jo,Jo=16777216,xa(i,o,u),Jo=m):xa(i,o,u));break;default:xa(i,o,u)}}function Av(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function tl(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];wn=m,xv(m,i)}Av(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sv(i),i=i.sibling}function Sv(i){switch(i.tag){case 0:case 11:case 15:tl(i),i.flags&2048&&$r(9,i,i.return);break;case 3:tl(i);break;case 12:tl(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Yc(i)):tl(i);break;default:tl(i)}}function Yc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];wn=m,xv(m,i)}Av(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:$r(8,o,o.return),Yc(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Yc(o));break;default:Yc(o)}i=i.sibling}}function xv(i,o){for(;wn!==null;){var u=wn;switch(u.tag){case 0:case 11:case 15:$r(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Bo(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,wn=m;else t:for(u=i;wn!==null;){m=wn;var w=m.sibling,A=m.return;if(mv(m),m===u){wn=null;break t}if(w!==null){w.return=A,wn=w;break t}wn=A}}}var OR={getCacheForType:function(i){var o=xn(on),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return xn(on).controller.signal}},NR=typeof WeakMap=="function"?WeakMap:Map,Se=0,Pe=null,fe=null,pe=0,Oe=0,ei=null,Wr=!1,Ta=!1,_d=!1,wr=0,tn=0,Xr=0,Ls=0,Ed=0,ni=0,Ca=0,el=null,Yn=null,Ad=!1,$c=0,Tv=0,Wc=1/0,Xc=null,Kr=null,dn=0,Zr=null,Ra=null,_r=0,Sd=0,xd=null,Cv=null,nl=0,Td=null;function ii(){return(Se&2)!==0&&pe!==0?pe&-pe:et.T!==null?Id():Fe()}function Rv(){if(ni===0)if((pe&536870912)===0||ge){var i=he;he<<=1,(he&3932160)===0&&(he=262144),ni=i}else ni=536870912;return i=Jn.current,i!==null&&(i.flags|=32),ni}function $n(i,o,u){(i===Pe&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)&&(Oa(i,0),Qr(i,pe,ni,!1)),O(i,u),((Se&2)===0||i!==Pe)&&(i===Pe&&((Se&2)===0&&(Ls|=u),tn===4&&Qr(i,pe,ni,!1)),Hi(i))}function Ov(i,o,u){if((Se&6)!==0)throw Error(n(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||ys(i,o),w=m?MR(i,o):Rd(i,o,!0),A=m;do{if(w===0){Ta&&!m&&Qr(i,o,0,!1);break}else{if(u=i.current.alternate,A&&!DR(u)){w=Rd(i,o,!1),A=!1;continue}if(w===2){if(A=o,i.errorRecoveryDisabledLanes&A)var F=0;else F=i.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){o=F;t:{var Y=i;w=el;var pt=Y.current.memoizedState.isDehydrated;if(pt&&(Oa(Y,F).flags|=256),F=Rd(Y,F,!1),F!==2){if(_d&&!pt){Y.errorRecoveryDisabledLanes|=A,Ls|=A,w=4;break t}A=Yn,Yn=w,A!==null&&(Yn===null?Yn=A:Yn.push.apply(Yn,A))}w=F}if(A=!1,w!==2)continue}}if(w===1){Oa(i,0),Qr(i,o,0,!0);break}t:{switch(m=i,A=w,A){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Qr(m,o,ni,!Wr);break t;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(w=$c+300-zt(),10<w)){if(Qr(m,o,ni,!Wr),Pr(m,0,!0)!==0)break t;_r=o,m.timeoutHandle=a1(Nv.bind(null,m,u,Yn,Xc,Ad,o,ni,Ls,Ca,Wr,A,"Throttled",-0,0),w);break t}Nv(m,u,Yn,Xc,Ad,o,ni,Ls,Ca,Wr,A,null,-0,0)}}break}while(!0);Hi(i)}function Nv(i,o,u,m,w,A,F,Y,pt,Ct,Lt,Ut,Rt,Nt){if(i.timeoutHandle=-1,Ut=o.subtreeFlags,Ut&8192||(Ut&16785408)===16785408){Ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ar},Ev(o,A,Ut);var qt=(A&62914560)===A?$c-zt():(A&4194048)===A?Tv-zt():0;if(qt=mO(Ut,qt),qt!==null){_r=A,i.cancelPendingCommit=qt(Fv.bind(null,i,o,A,u,m,w,F,Y,pt,Lt,Ut,null,Rt,Nt)),Qr(i,A,F,!Ct);return}}Fv(i,o,A,u,m,w,F,Y,pt)}function DR(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var w=u[m],A=w.getSnapshot;w=w.value;try{if(!Zn(A(),w))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qr(i,o,u,m){o&=~Ed,o&=~Ls,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var w=o;0<w;){var A=31-Dt(w),F=1<<A;m[A]=-1,w&=~F}u!==0&&lt(i,u,o)}function Kc(){return(Se&6)===0?(il(0),!1):!0}function Cd(){if(fe!==null){if(Oe===0)var i=fe.return;else i=fe,ur=xs=null,Gf(i),va=null,Uo=0,i=fe;for(;i!==null;)ov(i.alternate,i),i=i.return;fe=null}}function Oa(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,ZR(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),_r=0,Cd(),Pe=i,fe=u=lr(i.current,null),pe=o,Oe=0,ei=null,Wr=!1,Ta=ys(i,o),_d=!1,Ca=ni=Ed=Ls=Xr=tn=0,Yn=el=null,Ad=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var w=31-Dt(m),A=1<<w;o|=i[w],m&=~A}return wr=o,yc(),u}function Dv(i,o){ae=null,et.H=$o,o===ba||o===xc?(o=$y(),Oe=3):o===Df?(o=$y(),Oe=4):Oe=o===sd?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ei=o,fe===null&&(tn=1,Uc(i,fi(o,i.current)))}function Iv(){var i=Jn.current;return i===null?!0:(pe&4194048)===pe?gi===null:(pe&62914560)===pe||(pe&536870912)!==0?i===gi:!1}function Mv(){var i=et.H;return et.H=$o,i===null?$o:i}function Lv(){var i=et.A;return et.A=OR,i}function Zc(){tn=4,Wr||(pe&4194048)!==pe&&Jn.current!==null||(Ta=!0),(Xr&134217727)===0&&(Ls&134217727)===0||Pe===null||Qr(Pe,pe,ni,!1)}function Rd(i,o,u){var m=Se;Se|=2;var w=Mv(),A=Lv();(Pe!==i||pe!==o)&&(Xc=null,Oa(i,o)),o=!1;var F=tn;t:do try{if(Oe!==0&&fe!==null){var Y=fe,pt=ei;switch(Oe){case 8:Cd(),F=6;break t;case 3:case 2:case 9:case 6:Jn.current===null&&(o=!0);var Ct=Oe;if(Oe=0,ei=null,Na(i,Y,pt,Ct),u&&Ta){F=0;break t}break;default:Ct=Oe,Oe=0,ei=null,Na(i,Y,pt,Ct)}}IR(),F=tn;break}catch(Lt){Dv(i,Lt)}while(!0);return o&&i.shellSuspendCounter++,ur=xs=null,Se=m,et.H=w,et.A=A,fe===null&&(Pe=null,pe=0,yc()),F}function IR(){for(;fe!==null;)kv(fe)}function MR(i,o){var u=Se;Se|=2;var m=Mv(),w=Lv();Pe!==i||pe!==o?(Xc=null,Wc=zt()+500,Oa(i,o)):Ta=ys(i,o);t:do try{if(Oe!==0&&fe!==null){o=fe;var A=ei;e:switch(Oe){case 1:Oe=0,ei=null,Na(i,o,A,1);break;case 2:case 9:if(qy(A)){Oe=0,ei=null,Pv(o);break}o=function(){Oe!==2&&Oe!==9||Pe!==i||(Oe=7),Hi(i)},A.then(o,o);break t;case 3:Oe=7;break t;case 4:Oe=5;break t;case 7:qy(A)?(Oe=0,ei=null,Pv(o)):(Oe=0,ei=null,Na(i,o,A,7));break;case 5:var F=null;switch(fe.tag){case 26:F=fe.memoizedState;case 5:case 27:var Y=fe;if(F?_1(F):Y.stateNode.complete){Oe=0,ei=null;var pt=Y.sibling;if(pt!==null)fe=pt;else{var Ct=Y.return;Ct!==null?(fe=Ct,Qc(Ct)):fe=null}break e}}Oe=0,ei=null,Na(i,o,A,5);break;case 6:Oe=0,ei=null,Na(i,o,A,6);break;case 8:Cd(),tn=6;break t;default:throw Error(n(462))}}LR();break}catch(Lt){Dv(i,Lt)}while(!0);return ur=xs=null,et.H=m,et.A=w,Se=u,fe!==null?0:(Pe=null,pe=0,yc(),tn)}function LR(){for(;fe!==null&&!_t();)kv(fe)}function kv(i){var o=sv(i.alternate,i,wr);i.memoizedProps=i.pendingProps,o===null?Qc(i):fe=o}function Pv(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=Jb(u,o,o.pendingProps,o.type,void 0,pe);break;case 11:o=Jb(u,o,o.pendingProps,o.type.render,o.ref,pe);break;case 5:Gf(o);default:ov(u,o),o=fe=Ly(o,wr),o=sv(u,o,wr)}i.memoizedProps=i.pendingProps,o===null?Qc(i):fe=o}function Na(i,o,u,m){ur=xs=null,Gf(o),va=null,Uo=0;var w=o.return;try{if(ER(i,w,o,u,pe)){tn=1,Uc(i,fi(u,i.current)),fe=null;return}}catch(A){if(w!==null)throw fe=w,A;tn=1,Uc(i,fi(u,i.current)),fe=null;return}o.flags&32768?(ge||m===1?i=!0:Ta||(pe&536870912)!==0?i=!1:(Wr=i=!0,(m===2||m===9||m===3||m===6)&&(m=Jn.current,m!==null&&m.tag===13&&(m.flags|=16384))),Bv(o,i)):Qc(o)}function Qc(i){var o=i;do{if((o.flags&32768)!==0){Bv(o,Wr);return}i=o.return;var u=xR(o.alternate,o,wr);if(u!==null){fe=u;return}if(o=o.sibling,o!==null){fe=o;return}fe=o=i}while(o!==null);tn===0&&(tn=5)}function Bv(i,o){do{var u=TR(i.alternate,i);if(u!==null){u.flags&=32767,fe=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){fe=i;return}fe=i=u}while(i!==null);tn=6,fe=null}function Fv(i,o,u,m,w,A,F,Y,pt){i.cancelPendingCommit=null;do Jc();while(dn!==0);if((Se&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(A=o.lanes|o.childLanes,A|=gf,B(i,u,A,F,Y,pt),i===Pe&&(fe=Pe=null,pe=0),Ra=o,Zr=i,_r=u,Sd=A,xd=w,Cv=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FR(Xt,function(){return Gv(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=et.T,et.T=null,w=Q.p,Q.p=2,F=Se,Se|=4;try{CR(i,o,u)}finally{Se=F,Q.p=w,et.T=m}}dn=1,Uv(),jv(),zv()}}function Uv(){if(dn===1){dn=0;var i=Zr,o=Ra,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=et.T,et.T=null;var m=Q.p;Q.p=2;var w=Se;Se|=4;try{vv(o,i);var A=jd,F=xy(i.containerInfo),Y=A.focusedElem,pt=A.selectionRange;if(F!==Y&&Y&&Y.ownerDocument&&Sy(Y.ownerDocument.documentElement,Y)){if(pt!==null&&hf(Y)){var Ct=pt.start,Lt=pt.end;if(Lt===void 0&&(Lt=Ct),"selectionStart"in Y)Y.selectionStart=Ct,Y.selectionEnd=Math.min(Lt,Y.value.length);else{var Ut=Y.ownerDocument||document,Rt=Ut&&Ut.defaultView||window;if(Rt.getSelection){var Nt=Rt.getSelection(),qt=Y.textContent.length,Jt=Math.min(pt.start,qt),Me=pt.end===void 0?Jt:Math.min(pt.end,qt);!Nt.extend&&Jt>Me&&(F=Me,Me=Jt,Jt=F);var Et=Ay(Y,Jt),bt=Ay(Y,Me);if(Et&&bt&&(Nt.rangeCount!==1||Nt.anchorNode!==Et.node||Nt.anchorOffset!==Et.offset||Nt.focusNode!==bt.node||Nt.focusOffset!==bt.offset)){var Tt=Ut.createRange();Tt.setStart(Et.node,Et.offset),Nt.removeAllRanges(),Jt>Me?(Nt.addRange(Tt),Nt.extend(bt.node,bt.offset)):(Tt.setEnd(bt.node,bt.offset),Nt.addRange(Tt))}}}}for(Ut=[],Nt=Y;Nt=Nt.parentNode;)Nt.nodeType===1&&Ut.push({element:Nt,left:Nt.scrollLeft,top:Nt.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Ut.length;Y++){var Pt=Ut[Y];Pt.element.scrollLeft=Pt.left,Pt.element.scrollTop=Pt.top}}hu=!!Ud,jd=Ud=null}finally{Se=w,Q.p=m,et.T=u}}i.current=o,dn=2}}function jv(){if(dn===2){dn=0;var i=Zr,o=Ra,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=et.T,et.T=null;var m=Q.p;Q.p=2;var w=Se;Se|=4;try{pv(i,o.alternate,o)}finally{Se=w,Q.p=m,et.T=u}}dn=3}}function zv(){if(dn===4||dn===3){dn=0,Ft();var i=Zr,o=Ra,u=_r,m=Cv;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?dn=5:(dn=0,Ra=Zr=null,Hv(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(Kr=null),le(u),o=o.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(nt,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=et.T,w=Q.p,Q.p=2,et.T=null;try{for(var A=i.onRecoverableError,F=0;F<m.length;F++){var Y=m[F];A(Y.value,{componentStack:Y.stack})}}finally{et.T=o,Q.p=w}}(_r&3)!==0&&Jc(),Hi(i),w=i.pendingLanes,(u&261930)!==0&&(w&42)!==0?i===Td?nl++:(nl=0,Td=i):nl=0,il(0)}}function Hv(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Bo(o)))}function Jc(){return Uv(),jv(),zv(),Gv()}function Gv(){if(dn!==5)return!1;var i=Zr,o=Sd;Sd=0;var u=le(_r),m=et.T,w=Q.p;try{Q.p=32>u?32:u,et.T=null,u=xd,xd=null;var A=Zr,F=_r;if(dn=0,Ra=Zr=null,_r=0,(Se&6)!==0)throw Error(n(331));var Y=Se;if(Se|=4,Sv(A.current),_v(A,A.current,F,u),Se=Y,il(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(nt,A)}catch{}return!0}finally{Q.p=w,et.T=m,Hv(i,o)}}function Vv(i,o,u){o=fi(u,o),o=rd(i.stateNode,o,2),i=Vr(i,o,2),i!==null&&(O(i,2),Hi(i))}function Ne(i,o,u){if(i.tag===3)Vv(i,i,u);else for(;o!==null;){if(o.tag===3){Vv(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Kr===null||!Kr.has(m))){i=fi(u,i),u=qb(2),m=Vr(o,u,2),m!==null&&(Yb(u,m,o,i),O(m,2),Hi(m));break}}o=o.return}}function Od(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new NR;var w=new Set;m.set(o,w)}else w=m.get(o),w===void 0&&(w=new Set,m.set(o,w));w.has(u)||(_d=!0,w.add(u),i=kR.bind(null,i,o,u),o.then(i,i))}function kR(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Pe===i&&(pe&u)===u&&(tn===4||tn===3&&(pe&62914560)===pe&&300>zt()-$c?(Se&2)===0&&Oa(i,0):Ed|=u,Ca===pe&&(Ca=0)),Hi(i)}function qv(i,o){o===0&&(o=sc()),i=Es(i,o),i!==null&&(O(i,o),Hi(i))}function PR(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),qv(i,u)}function BR(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),qv(i,u)}function FR(i,o){return Mt(i,o)}var tu=null,Da=null,Nd=!1,eu=!1,Dd=!1,Jr=0;function Hi(i){i!==Da&&i.next===null&&(Da===null?tu=Da=i:Da=Da.next=i),eu=!0,Nd||(Nd=!0,jR())}function il(i,o){if(!Dd&&eu){Dd=!0;do for(var u=!1,m=tu;m!==null;){if(i!==0){var w=m.pendingLanes;if(w===0)var A=0;else{var F=m.suspendedLanes,Y=m.pingedLanes;A=(1<<31-Dt(42|i)+1)-1,A&=w&~(F&~Y),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(u=!0,Xv(m,A))}else A=pe,A=Pr(m,m===Pe?A:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(A&3)===0||ys(m,A)||(u=!0,Xv(m,A));m=m.next}while(u);Dd=!1}}function UR(){Yv()}function Yv(){eu=Nd=!1;var i=0;Jr!==0&&KR()&&(i=Jr);for(var o=zt(),u=null,m=tu;m!==null;){var w=m.next,A=$v(m,o);A===0?(m.next=null,u===null?tu=w:u.next=w,w===null&&(Da=u)):(u=m,(i!==0||(A&3)!==0)&&(eu=!0)),m=w}dn!==0&&dn!==5||il(i),Jr!==0&&(Jr=0)}function $v(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,w=i.expirationTimes,A=i.pendingLanes&-62914561;0<A;){var F=31-Dt(A),Y=1<<F,pt=w[F];pt===-1?((Y&u)===0||(Y&m)!==0)&&(w[F]=Fi(Y,o)):pt<=o&&(i.expiredLanes|=Y),A&=~Y}if(o=Pe,u=pe,u=Pr(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&kt(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ys(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&kt(m),le(u)){case 2:case 8:u=oe;break;case 32:u=Xt;break;case 268435456:u=q;break;default:u=Xt}return m=Wv.bind(null,i),u=Mt(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&kt(m),i.callbackPriority=2,i.callbackNode=null,2}function Wv(i,o){if(dn!==0&&dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Jc()&&i.callbackNode!==u)return null;var m=pe;return m=Pr(i,i===Pe?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(Ov(i,m,o),$v(i,zt()),i.callbackNode!=null&&i.callbackNode===u?Wv.bind(null,i):null)}function Xv(i,o){if(Jc())return null;Ov(i,o,!0)}function jR(){QR(function(){(Se&6)!==0?Mt(Gt,UR):Yv()})}function Id(){if(Jr===0){var i=ga;i===0&&(i=Ee,Ee<<=1,(Ee&261888)===0&&(Ee=256)),Jr=i}return Jr}function Kv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:cc(""+i)}function Zv(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function zR(i,o,u,m,w){if(o==="submit"&&u&&u.stateNode===w){var A=Kv((w[zn]||null).action),F=m.submitter;F&&(o=(o=F[zn]||null)?Kv(o.formAction):F.getAttribute("formAction"),o!==null&&(A=o,F=null));var Y=new dc("action","action",null,m,w);i.push({event:Y,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Jr!==0){var pt=F?Zv(w,F):new FormData(w);Qf(u,{pending:!0,data:pt,method:w.method,action:A},null,pt)}}else typeof A=="function"&&(Y.preventDefault(),pt=F?Zv(w,F):new FormData(w),Qf(u,{pending:!0,data:pt,method:w.method,action:A},A,pt))},currentTarget:w}]})}}for(var Md=0;Md<mf.length;Md++){var Ld=mf[Md],HR=Ld.toLowerCase(),GR=Ld[0].toUpperCase()+Ld.slice(1);Ni(HR,"on"+GR)}Ni(Ry,"onAnimationEnd"),Ni(Oy,"onAnimationIteration"),Ni(Ny,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(sR,"onTransitionRun"),Ni(aR,"onTransitionStart"),Ni(oR,"onTransitionCancel"),Ni(Dy,"onTransitionEnd"),na("onMouseEnter",["mouseout","mouseover"]),na("onMouseLeave",["mouseout","mouseover"]),na("onPointerEnter",["pointerout","pointerover"]),na("onPointerLeave",["pointerout","pointerover"]),bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Qv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],w=m.event;m=m.listeners;t:{var A=void 0;if(o)for(var F=m.length-1;0<=F;F--){var Y=m[F],pt=Y.instance,Ct=Y.currentTarget;if(Y=Y.listener,pt!==A&&w.isPropagationStopped())break t;A=Y,w.currentTarget=Ct;try{A(w)}catch(Lt){gc(Lt)}w.currentTarget=null,A=pt}else for(F=0;F<m.length;F++){if(Y=m[F],pt=Y.instance,Ct=Y.currentTarget,Y=Y.listener,pt!==A&&w.isPropagationStopped())break t;A=Y,w.currentTarget=Ct;try{A(w)}catch(Lt){gc(Lt)}w.currentTarget=null,A=pt}}}}function de(i,o){var u=o[Yh];u===void 0&&(u=o[Yh]=new Set);var m=i+"__bubble";u.has(m)||(Jv(o,i,2,!1),u.add(m))}function kd(i,o,u){var m=0;o&&(m|=4),Jv(u,i,m,o)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Pd(i){if(!i[nu]){i[nu]=!0,Y0.forEach(function(u){u!=="selectionchange"&&(VR.has(u)||kd(u,!1,i),kd(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[nu]||(o[nu]=!0,kd("selectionchange",!1,o))}}function Jv(i,o,u,m){switch(R1(o)){case 2:var w=bO;break;case 8:w=vO;break;default:w=Zd}u=w.bind(null,o,u,i),w=void 0,!ef||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),m?w!==void 0?i.addEventListener(o,u,{capture:!0,passive:w}):i.addEventListener(o,u,!0):w!==void 0?i.addEventListener(o,u,{passive:w}):i.addEventListener(o,u,!1)}function Bd(i,o,u,m,w){var A=m;if((o&1)===0&&(o&2)===0&&m!==null)t:for(;;){if(m===null)return;var F=m.tag;if(F===3||F===4){var Y=m.stateNode.containerInfo;if(Y===w)break;if(F===4)for(F=m.return;F!==null;){var pt=F.tag;if((pt===3||pt===4)&&F.stateNode.containerInfo===w)return;F=F.return}for(;Y!==null;){if(F=Js(Y),F===null)return;if(pt=F.tag,pt===5||pt===6||pt===26||pt===27){m=A=F;continue t}Y=Y.parentNode}}m=m.return}ry(function(){var Ct=A,Lt=Jh(u),Ut=[];t:{var Rt=Iy.get(i);if(Rt!==void 0){var Nt=dc,qt=i;switch(i){case"keypress":if(hc(u)===0)break t;case"keydown":case"keyup":Nt=BC;break;case"focusin":qt="focus",Nt=af;break;case"focusout":qt="blur",Nt=af;break;case"beforeblur":case"afterblur":Nt=af;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=xC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=jC;break;case Ry:case Oy:case Ny:Nt=RC;break;case Dy:Nt=HC;break;case"scroll":case"scrollend":Nt=AC;break;case"wheel":Nt=VC;break;case"copy":case"cut":case"paste":Nt=NC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=cy;break;case"toggle":case"beforetoggle":Nt=YC}var Jt=(o&4)!==0,Me=!Jt&&(i==="scroll"||i==="scrollend"),Et=Jt?Rt!==null?Rt+"Capture":null:Rt;Jt=[];for(var bt=Ct,Tt;bt!==null;){var Pt=bt;if(Tt=Pt.stateNode,Pt=Pt.tag,Pt!==5&&Pt!==26&&Pt!==27||Tt===null||Et===null||(Pt=To(bt,Et),Pt!=null&&Jt.push(sl(bt,Pt,Tt))),Me)break;bt=bt.return}0<Jt.length&&(Rt=new Nt(Rt,qt,null,u,Lt),Ut.push({event:Rt,listeners:Jt}))}}if((o&7)===0){t:{if(Rt=i==="mouseover"||i==="pointerover",Nt=i==="mouseout"||i==="pointerout",Rt&&u!==Qh&&(qt=u.relatedTarget||u.fromElement)&&(Js(qt)||qt[Qs]))break t;if((Nt||Rt)&&(Rt=Lt.window===Lt?Lt:(Rt=Lt.ownerDocument)?Rt.defaultView||Rt.parentWindow:window,Nt?(qt=u.relatedTarget||u.toElement,Nt=Ct,qt=qt?Js(qt):null,qt!==null&&(Me=a(qt),Jt=qt.tag,qt!==Me||Jt!==5&&Jt!==27&&Jt!==6)&&(qt=null)):(Nt=null,qt=Ct),Nt!==qt)){if(Jt=oy,Pt="onMouseLeave",Et="onMouseEnter",bt="mouse",(i==="pointerout"||i==="pointerover")&&(Jt=cy,Pt="onPointerLeave",Et="onPointerEnter",bt="pointer"),Me=Nt==null?Rt:xo(Nt),Tt=qt==null?Rt:xo(qt),Rt=new Jt(Pt,bt+"leave",Nt,u,Lt),Rt.target=Me,Rt.relatedTarget=Tt,Pt=null,Js(Lt)===Ct&&(Jt=new Jt(Et,bt+"enter",qt,u,Lt),Jt.target=Tt,Jt.relatedTarget=Me,Pt=Jt),Me=Pt,Nt&&qt)e:{for(Jt=qR,Et=Nt,bt=qt,Tt=0,Pt=Et;Pt;Pt=Jt(Pt))Tt++;Pt=0;for(var Kt=bt;Kt;Kt=Jt(Kt))Pt++;for(;0<Tt-Pt;)Et=Jt(Et),Tt--;for(;0<Pt-Tt;)bt=Jt(bt),Pt--;for(;Tt--;){if(Et===bt||bt!==null&&Et===bt.alternate){Jt=Et;break e}Et=Jt(Et),bt=Jt(bt)}Jt=null}else Jt=null;Nt!==null&&t1(Ut,Rt,Nt,Jt,!1),qt!==null&&Me!==null&&t1(Ut,Me,qt,Jt,!0)}}t:{if(Rt=Ct?xo(Ct):window,Nt=Rt.nodeName&&Rt.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&Rt.type==="file")var we=yy;else if(my(Rt))if(by)we=nR;else{we=tR;var Wt=JC}else Nt=Rt.nodeName,!Nt||Nt.toLowerCase()!=="input"||Rt.type!=="checkbox"&&Rt.type!=="radio"?Ct&&Zh(Ct.elementType)&&(we=yy):we=eR;if(we&&(we=we(i,Ct))){gy(Ut,we,u,Lt);break t}Wt&&Wt(i,Rt,Ct),i==="focusout"&&Ct&&Rt.type==="number"&&Ct.memoizedProps.value!=null&&Kh(Rt,"number",Rt.value)}switch(Wt=Ct?xo(Ct):window,i){case"focusin":(my(Wt)||Wt.contentEditable==="true")&&(la=Wt,ff=Ct,Lo=null);break;case"focusout":Lo=ff=la=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,Ty(Ut,u,Lt);break;case"selectionchange":if(rR)break;case"keydown":case"keyup":Ty(Ut,u,Lt)}var ce;if(lf)t:{switch(i){case"compositionstart":var me="onCompositionStart";break t;case"compositionend":me="onCompositionEnd";break t;case"compositionupdate":me="onCompositionUpdate";break t}me=void 0}else oa?dy(i,u)&&(me="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(me="onCompositionStart");me&&(uy&&u.locale!=="ko"&&(oa||me!=="onCompositionStart"?me==="onCompositionEnd"&&oa&&(ce=sy()):(Br=Lt,nf="value"in Br?Br.value:Br.textContent,oa=!0)),Wt=iu(Ct,me),0<Wt.length&&(me=new ly(me,i,null,u,Lt),Ut.push({event:me,listeners:Wt}),ce?me.data=ce:(ce=py(u),ce!==null&&(me.data=ce)))),(ce=WC?XC(i,u):KC(i,u))&&(me=iu(Ct,"onBeforeInput"),0<me.length&&(Wt=new ly("onBeforeInput","beforeinput",null,u,Lt),Ut.push({event:Wt,listeners:me}),Wt.data=ce)),zR(Ut,i,Ct,u,Lt)}Qv(Ut,o)})}function sl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function iu(i,o){for(var u=o+"Capture",m=[];i!==null;){var w=i,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=To(i,u),w!=null&&m.unshift(sl(i,w,A)),w=To(i,o),w!=null&&m.push(sl(i,w,A))),i.tag===3)return m;i=i.return}return[]}function qR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function t1(i,o,u,m,w){for(var A=o._reactName,F=[];u!==null&&u!==m;){var Y=u,pt=Y.alternate,Ct=Y.stateNode;if(Y=Y.tag,pt!==null&&pt===m)break;Y!==5&&Y!==26&&Y!==27||Ct===null||(pt=Ct,w?(Ct=To(u,A),Ct!=null&&F.unshift(sl(u,Ct,pt))):w||(Ct=To(u,A),Ct!=null&&F.push(sl(u,Ct,pt)))),u=u.return}F.length!==0&&i.push({event:o,listeners:F})}var YR=/\r\n?/g,$R=/\u0000|\uFFFD/g;function e1(i){return(typeof i=="string"?i:""+i).replace(YR,`
`).replace($R,"")}function n1(i,o){return o=e1(o),e1(i)===o}function Ie(i,o,u,m,w,A){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||ra(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&ra(i,""+m);break;case"className":oc(i,"class",m);break;case"tabIndex":oc(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":oc(i,u,m);break;case"style":ny(i,m,A);break;case"data":if(o!=="object"){oc(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=cc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(u==="formAction"?(o!=="input"&&Ie(i,o,"name",w.name,w,null),Ie(i,o,"formEncType",w.formEncType,w,null),Ie(i,o,"formMethod",w.formMethod,w,null),Ie(i,o,"formTarget",w.formTarget,w,null)):(Ie(i,o,"encType",w.encType,w,null),Ie(i,o,"method",w.method,w,null),Ie(i,o,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=cc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=ar);break;case"onScroll":m!=null&&de("scroll",i);break;case"onScrollEnd":m!=null&&de("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(w.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=cc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":de("beforetoggle",i),de("toggle",i),ac(i,"popover",m);break;case"xlinkActuate":sr(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":sr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":sr(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":sr(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":sr(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":sr(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":sr(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":sr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":sr(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ac(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=_C.get(u)||u,ac(i,u,m))}}function Fd(i,o,u,m,w,A){switch(u){case"style":ny(i,m,A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(w.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof m=="string"?ra(i,m):(typeof m=="number"||typeof m=="bigint")&&ra(i,""+m);break;case"onScroll":m!=null&&de("scroll",i);break;case"onScrollEnd":m!=null&&de("scrollend",i);break;case"onClick":m!=null&&(i.onclick=ar);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$0.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(w=u.endsWith("Capture"),o=u.slice(2,w?u.length-7:void 0),A=i[zn]||null,A=A!=null?A[u]:null,typeof A=="function"&&i.removeEventListener(o,A,w),typeof m=="function")){typeof A!="function"&&A!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,w);break t}u in i?i[u]=m:m===!0?i.setAttribute(u,""):ac(i,u,m)}}}function Cn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",i),de("load",i);var m=!1,w=!1,A;for(A in u)if(u.hasOwnProperty(A)){var F=u[A];if(F!=null)switch(A){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ie(i,o,A,F,u,null)}}w&&Ie(i,o,"srcSet",u.srcSet,u,null),m&&Ie(i,o,"src",u.src,u,null);return;case"input":de("invalid",i);var Y=A=F=w=null,pt=null,Ct=null;for(m in u)if(u.hasOwnProperty(m)){var Lt=u[m];if(Lt!=null)switch(m){case"name":w=Lt;break;case"type":F=Lt;break;case"checked":pt=Lt;break;case"defaultChecked":Ct=Lt;break;case"value":A=Lt;break;case"defaultValue":Y=Lt;break;case"children":case"dangerouslySetInnerHTML":if(Lt!=null)throw Error(n(137,o));break;default:Ie(i,o,m,Lt,u,null)}}Q0(i,A,Y,pt,Ct,F,w,!1);return;case"select":de("invalid",i),m=F=A=null;for(w in u)if(u.hasOwnProperty(w)&&(Y=u[w],Y!=null))switch(w){case"value":A=Y;break;case"defaultValue":F=Y;break;case"multiple":m=Y;default:Ie(i,o,w,Y,u,null)}o=A,u=F,i.multiple=!!m,o!=null?ia(i,!!m,o,!1):u!=null&&ia(i,!!m,u,!0);return;case"textarea":de("invalid",i),A=w=m=null;for(F in u)if(u.hasOwnProperty(F)&&(Y=u[F],Y!=null))switch(F){case"value":m=Y;break;case"defaultValue":w=Y;break;case"children":A=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(91));break;default:Ie(i,o,F,Y,u,null)}ty(i,m,w,A);return;case"option":for(pt in u)u.hasOwnProperty(pt)&&(m=u[pt],m!=null)&&(pt==="selected"?i.selected=m&&typeof m!="function"&&typeof m!="symbol":Ie(i,o,pt,m,u,null));return;case"dialog":de("beforetoggle",i),de("toggle",i),de("cancel",i),de("close",i);break;case"iframe":case"object":de("load",i);break;case"video":case"audio":for(m=0;m<rl.length;m++)de(rl[m],i);break;case"image":de("error",i),de("load",i);break;case"details":de("toggle",i);break;case"embed":case"source":case"link":de("error",i),de("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ct in u)if(u.hasOwnProperty(Ct)&&(m=u[Ct],m!=null))switch(Ct){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ie(i,o,Ct,m,u,null)}return;default:if(Zh(o)){for(Lt in u)u.hasOwnProperty(Lt)&&(m=u[Lt],m!==void 0&&Fd(i,o,Lt,m,u,void 0));return}}for(Y in u)u.hasOwnProperty(Y)&&(m=u[Y],m!=null&&Ie(i,o,Y,m,u,null))}function WR(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,F=null,Y=null,pt=null,Ct=null,Lt=null;for(Nt in u){var Ut=u[Nt];if(u.hasOwnProperty(Nt)&&Ut!=null)switch(Nt){case"checked":break;case"value":break;case"defaultValue":pt=Ut;default:m.hasOwnProperty(Nt)||Ie(i,o,Nt,null,m,Ut)}}for(var Rt in m){var Nt=m[Rt];if(Ut=u[Rt],m.hasOwnProperty(Rt)&&(Nt!=null||Ut!=null))switch(Rt){case"type":A=Nt;break;case"name":w=Nt;break;case"checked":Ct=Nt;break;case"defaultChecked":Lt=Nt;break;case"value":F=Nt;break;case"defaultValue":Y=Nt;break;case"children":case"dangerouslySetInnerHTML":if(Nt!=null)throw Error(n(137,o));break;default:Nt!==Ut&&Ie(i,o,Rt,Nt,m,Ut)}}Xh(i,F,Y,pt,Ct,Lt,A,w);return;case"select":Nt=F=Y=Rt=null;for(A in u)if(pt=u[A],u.hasOwnProperty(A)&&pt!=null)switch(A){case"value":break;case"multiple":Nt=pt;default:m.hasOwnProperty(A)||Ie(i,o,A,null,m,pt)}for(w in m)if(A=m[w],pt=u[w],m.hasOwnProperty(w)&&(A!=null||pt!=null))switch(w){case"value":Rt=A;break;case"defaultValue":Y=A;break;case"multiple":F=A;default:A!==pt&&Ie(i,o,w,A,m,pt)}o=Y,u=F,m=Nt,Rt!=null?ia(i,!!u,Rt,!1):!!m!=!!u&&(o!=null?ia(i,!!u,o,!0):ia(i,!!u,u?[]:"",!1));return;case"textarea":Nt=Rt=null;for(Y in u)if(w=u[Y],u.hasOwnProperty(Y)&&w!=null&&!m.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Ie(i,o,Y,null,m,w)}for(F in m)if(w=m[F],A=u[F],m.hasOwnProperty(F)&&(w!=null||A!=null))switch(F){case"value":Rt=w;break;case"defaultValue":Nt=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==A&&Ie(i,o,F,w,m,A)}J0(i,Rt,Nt);return;case"option":for(var qt in u)Rt=u[qt],u.hasOwnProperty(qt)&&Rt!=null&&!m.hasOwnProperty(qt)&&(qt==="selected"?i.selected=!1:Ie(i,o,qt,null,m,Rt));for(pt in m)Rt=m[pt],Nt=u[pt],m.hasOwnProperty(pt)&&Rt!==Nt&&(Rt!=null||Nt!=null)&&(pt==="selected"?i.selected=Rt&&typeof Rt!="function"&&typeof Rt!="symbol":Ie(i,o,pt,Rt,m,Nt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in u)Rt=u[Jt],u.hasOwnProperty(Jt)&&Rt!=null&&!m.hasOwnProperty(Jt)&&Ie(i,o,Jt,null,m,Rt);for(Ct in m)if(Rt=m[Ct],Nt=u[Ct],m.hasOwnProperty(Ct)&&Rt!==Nt&&(Rt!=null||Nt!=null))switch(Ct){case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(n(137,o));break;default:Ie(i,o,Ct,Rt,m,Nt)}return;default:if(Zh(o)){for(var Me in u)Rt=u[Me],u.hasOwnProperty(Me)&&Rt!==void 0&&!m.hasOwnProperty(Me)&&Fd(i,o,Me,void 0,m,Rt);for(Lt in m)Rt=m[Lt],Nt=u[Lt],!m.hasOwnProperty(Lt)||Rt===Nt||Rt===void 0&&Nt===void 0||Fd(i,o,Lt,Rt,m,Nt);return}}for(var Et in u)Rt=u[Et],u.hasOwnProperty(Et)&&Rt!=null&&!m.hasOwnProperty(Et)&&Ie(i,o,Et,null,m,Rt);for(Ut in m)Rt=m[Ut],Nt=u[Ut],!m.hasOwnProperty(Ut)||Rt===Nt||Rt==null&&Nt==null||Ie(i,o,Ut,Rt,m,Nt)}function i1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var w=u[m],A=w.transferSize,F=w.initiatorType,Y=w.duration;if(A&&Y&&i1(F)){for(F=0,Y=w.responseEnd,m+=1;m<u.length;m++){var pt=u[m],Ct=pt.startTime;if(Ct>Y)break;var Lt=pt.transferSize,Ut=pt.initiatorType;Lt&&i1(Ut)&&(pt=pt.responseEnd,F+=Lt*(pt<Y?1:(Y-Ct)/(pt-Ct)))}if(--m,o+=8*(A+F)/(w.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ud=null,jd=null;function ru(i){return i.nodeType===9?i:i.ownerDocument}function r1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s1(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function zd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hd=null;function KR(){var i=window.event;return i&&i.type==="popstate"?i===Hd?!1:(Hd=i,!0):(Hd=null,!1)}var a1=typeof setTimeout=="function"?setTimeout:void 0,ZR=typeof clearTimeout=="function"?clearTimeout:void 0,o1=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof o1<"u"?function(i){return o1.resolve(null).then(i).catch(JR)}:a1;function JR(i){setTimeout(function(){throw i})}function ts(i){return i==="head"}function l1(i,o){var u=o,m=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(w),ka(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")al(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,al(u);for(var A=u.firstChild;A;){var F=A.nextSibling,Y=A.nodeName;A[So]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=F}}else u==="body"&&al(i.ownerDocument.body);u=w}while(u);ka(o)}function c1(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Gd(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Gd(u),$h(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function tO(i,o,u,m){for(;i.nodeType===1;){var w=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[So])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(A=i.getAttribute("rel"),A==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(A!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(A=i.getAttribute("src"),(A!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===A)return i}else return i;if(i=yi(i.nextSibling),i===null)break}return null}function eO(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=yi(i.nextSibling),i===null))return null;return i}function u1(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=yi(i.nextSibling),i===null))return null;return i}function Vd(i){return i.data==="$?"||i.data==="$~"}function qd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function nO(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function yi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Yd=null;function h1(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return yi(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function f1(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function d1(i,o,u){switch(o=ru(u),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function al(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);$h(i)}var bi=new Map,p1=new Set;function su(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Er=Q.d;Q.d={f:iO,r:rO,D:sO,C:aO,L:oO,m:lO,X:uO,S:cO,M:hO};function iO(){var i=Er.f(),o=Kc();return i||o}function rO(i){var o=ta(i);o!==null&&o.tag===5&&o.type==="form"?Db(o):Er.r(i)}var Ia=typeof document>"u"?null:document;function m1(i,o,u){var m=Ia;if(m&&typeof o=="string"&&o){var w=ui(o);w='link[rel="'+i+'"][href="'+w+'"]',typeof u=="string"&&(w+='[crossorigin="'+u+'"]'),p1.has(w)||(p1.add(w),i={rel:i,crossOrigin:u,href:o},m.querySelector(w)===null&&(o=m.createElement("link"),Cn(o,"link",i),vn(o),m.head.appendChild(o)))}}function sO(i){Er.D(i),m1("dns-prefetch",i,null)}function aO(i,o){Er.C(i,o),m1("preconnect",i,o)}function oO(i,o,u){Er.L(i,o,u);var m=Ia;if(m&&i&&o){var w='link[rel="preload"][as="'+ui(o)+'"]';o==="image"&&u&&u.imageSrcSet?(w+='[imagesrcset="'+ui(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(w+='[imagesizes="'+ui(u.imageSizes)+'"]')):w+='[href="'+ui(i)+'"]';var A=w;switch(o){case"style":A=Ma(i);break;case"script":A=La(i)}bi.has(A)||(i=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),bi.set(A,i),m.querySelector(w)!==null||o==="style"&&m.querySelector(ol(A))||o==="script"&&m.querySelector(ll(A))||(o=m.createElement("link"),Cn(o,"link",i),vn(o),m.head.appendChild(o)))}}function lO(i,o){Er.m(i,o);var u=Ia;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+ui(m)+'"][href="'+ui(i)+'"]',A=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=La(i)}if(!bi.has(A)&&(i=p({rel:"modulepreload",href:i},o),bi.set(A,i),u.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ll(A)))return}m=u.createElement("link"),Cn(m,"link",i),vn(m),u.head.appendChild(m)}}}function cO(i,o,u){Er.S(i,o,u);var m=Ia;if(m&&i){var w=ea(m).hoistableStyles,A=Ma(i);o=o||"default";var F=w.get(A);if(!F){var Y={loading:0,preload:null};if(F=m.querySelector(ol(A)))Y.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":o},u),(u=bi.get(A))&&$d(i,u);var pt=F=m.createElement("link");vn(pt),Cn(pt,"link",i),pt._p=new Promise(function(Ct,Lt){pt.onload=Ct,pt.onerror=Lt}),pt.addEventListener("load",function(){Y.loading|=1}),pt.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,au(F,o,m)}F={type:"stylesheet",instance:F,count:1,state:Y},w.set(A,F)}}}function uO(i,o){Er.X(i,o);var u=Ia;if(u&&i){var m=ea(u).hoistableScripts,w=La(i),A=m.get(w);A||(A=u.querySelector(ll(w)),A||(i=p({src:i,async:!0},o),(o=bi.get(w))&&Wd(i,o),A=u.createElement("script"),vn(A),Cn(A,"link",i),u.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(w,A))}}function hO(i,o){Er.M(i,o);var u=Ia;if(u&&i){var m=ea(u).hoistableScripts,w=La(i),A=m.get(w);A||(A=u.querySelector(ll(w)),A||(i=p({src:i,async:!0,type:"module"},o),(o=bi.get(w))&&Wd(i,o),A=u.createElement("script"),vn(A),Cn(A,"link",i),u.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(w,A))}}function g1(i,o,u,m){var w=(w=ct.current)?su(w):null;if(!w)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ma(u.href),u=ea(w).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Ma(u.href);var A=ea(w).hoistableStyles,F=A.get(i);if(F||(w=w.ownerDocument||w,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(i,F),(A=w.querySelector(ol(i)))&&!A._p&&(F.instance=A,F.state.loading=5),bi.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},bi.set(i,u),A||fO(w,i,u,F.state))),o&&m===null)throw Error(n(528,""));return F}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=La(u),u=ea(w).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Ma(i){return'href="'+ui(i)+'"'}function ol(i){return'link[rel="stylesheet"]['+i+"]"}function y1(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function fO(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Cn(o,"link",u),vn(o),i.head.appendChild(o))}function La(i){return'[src="'+ui(i)+'"]'}function ll(i){return"script[async]"+i}function b1(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+ui(u.href)+'"]');if(m)return o.instance=m,vn(m),m;var w=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),vn(m),Cn(m,"style",w),au(m,u.precedence,i),o.instance=m;case"stylesheet":w=Ma(u.href);var A=i.querySelector(ol(w));if(A)return o.state.loading|=4,o.instance=A,vn(A),A;m=y1(u),(w=bi.get(w))&&$d(m,w),A=(i.ownerDocument||i).createElement("link"),vn(A);var F=A;return F._p=new Promise(function(Y,pt){F.onload=Y,F.onerror=pt}),Cn(A,"link",m),o.state.loading|=4,au(A,u.precedence,i),o.instance=A;case"script":return A=La(u.src),(w=i.querySelector(ll(A)))?(o.instance=w,vn(w),w):(m=u,(w=bi.get(A))&&(m=p({},u),Wd(m,w)),i=i.ownerDocument||i,w=i.createElement("script"),vn(w),Cn(w,"link",m),i.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,au(m,u.precedence,i));return o.instance}function au(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,A=w,F=0;F<m.length;F++){var Y=m[F];if(Y.dataset.precedence===o)A=Y;else if(A!==w)break}A?A.parentNode.insertBefore(i,A.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function $d(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Wd(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var ou=null;function v1(i,o,u){if(ou===null){var m=new Map,w=ou=new Map;w.set(u,m)}else w=ou,m=w.get(u),m||(m=new Map,w.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),w=0;w<u.length;w++){var A=u[w];if(!(A[So]||A[te]||i==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var F=A.getAttribute(o)||"";F=i+F;var Y=m.get(F);Y?Y.push(A):m.set(F,[A])}}return m}function w1(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function dO(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function _1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function pO(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var w=Ma(m.href),A=o.querySelector(ol(w));if(A){o=A._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=lu.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=A,vn(A);return}A=o.ownerDocument||o,m=y1(m),(w=bi.get(w))&&$d(m,w),A=A.createElement("link"),vn(A);var F=A;F._p=new Promise(function(Y,pt){F.onload=Y,F.onerror=pt}),Cn(A,"link",m),u.instance=A}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=lu.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Xd=0;function mO(i,o){return i.stylesheets&&i.count===0&&uu(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&uu(i,i.stylesheets),i.unsuspend){var A=i.unsuspend;i.unsuspend=null,A()}},6e4+o);0<i.imgBytes&&Xd===0&&(Xd=62500*XR());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&uu(i,i.stylesheets),i.unsuspend)){var A=i.unsuspend;i.unsuspend=null,A()}},(i.imgBytes>Xd?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uu(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var cu=null;function uu(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,cu=new Map,o.forEach(gO,i),cu=null,lu.call(i))}function gO(i,o){if(!(o.state.loading&4)){var u=cu.get(i);if(u)var m=u.get(null);else{u=new Map,cu.set(i,u);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var F=w[A];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(u.set(F.dataset.precedence,F),m=F)}m&&u.set(null,m)}w=o.instance,F=w.getAttribute("data-precedence"),A=u.get(F)||m,A===m&&u.set(null,w),u.set(F,w),this.count++,m=lu.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),A?A.parentNode.insertBefore(w,A.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),o.state.loading|=4}}var cl={$$typeof:x,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function yO(i,o,u,m,w,A,F,Y,pt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$(0),this.hiddenUpdates=$(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pt,this.incompleteTransitions=new Map}function E1(i,o,u,m,w,A,F,Y,pt,Ct,Lt,Ut){return i=new yO(i,o,u,F,pt,Ct,Lt,Ut,Y),o=1,A===!0&&(o|=24),A=Qn(3,null,null,o),i.current=A,A.stateNode=i,o=Rf(),o.refCount++,i.pooledCache=o,o.refCount++,A.memoizedState={element:m,isDehydrated:u,cache:o},If(A),i}function A1(i){return i?(i=ha,i):ha}function S1(i,o,u,m,w,A){w=A1(w),m.context===null?m.context=w:m.pendingContext=w,m=Gr(o),m.payload={element:u},A=A===void 0?null:A,A!==null&&(m.callback=A),u=Vr(i,m,o),u!==null&&($n(u,i,o),zo(u,i,o))}function x1(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Kd(i,o){x1(i,o),(i=i.alternate)&&x1(i,o)}function T1(i){if(i.tag===13||i.tag===31){var o=Es(i,67108864);o!==null&&$n(o,i,67108864),Kd(i,67108864)}}function C1(i){if(i.tag===13||i.tag===31){var o=ii();o=Bt(o);var u=Es(i,o);u!==null&&$n(u,i,o),Kd(i,o)}}var hu=!0;function bO(i,o,u,m){var w=et.T;et.T=null;var A=Q.p;try{Q.p=2,Zd(i,o,u,m)}finally{Q.p=A,et.T=w}}function vO(i,o,u,m){var w=et.T;et.T=null;var A=Q.p;try{Q.p=8,Zd(i,o,u,m)}finally{Q.p=A,et.T=w}}function Zd(i,o,u,m){if(hu){var w=Qd(m);if(w===null)Bd(i,o,m,fu,u),O1(i,m);else if(_O(w,i,o,u,m))m.stopPropagation();else if(O1(i,m),o&4&&-1<wO.indexOf(i)){for(;w!==null;){var A=ta(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var F=We(A.pendingLanes);if(F!==0){var Y=A;for(Y.pendingLanes|=2,Y.entangledLanes|=2;F;){var pt=1<<31-Dt(F);Y.entanglements[1]|=pt,F&=~pt}Hi(A),(Se&6)===0&&(Wc=zt()+500,il(0))}}break;case 31:case 13:Y=Es(A,2),Y!==null&&$n(Y,A,2),Kc(),Kd(A,2)}if(A=Qd(m),A===null&&Bd(i,o,m,fu,u),A===w)break;w=A}w!==null&&m.stopPropagation()}else Bd(i,o,m,null,u)}}function Qd(i){return i=Jh(i),Jd(i)}var fu=null;function Jd(i){if(fu=null,i=Js(i),i!==null){var o=a(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return fu=i,null}function R1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case Gt:return 2;case oe:return 8;case Xt:case $e:return 32;case q:return 268435456;default:return 32}default:return 32}}var tp=!1,es=null,ns=null,is=null,ul=new Map,hl=new Map,rs=[],wO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O1(i,o){switch(i){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":ul.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(o.pointerId)}}function fl(i,o,u,m,w,A){return i===null||i.nativeEvent!==A?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:A,targetContainers:[w]},o!==null&&(o=ta(o),o!==null&&T1(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),i)}function _O(i,o,u,m,w){switch(o){case"focusin":return es=fl(es,i,o,u,m,w),!0;case"dragenter":return ns=fl(ns,i,o,u,m,w),!0;case"mouseover":return is=fl(is,i,o,u,m,w),!0;case"pointerover":var A=w.pointerId;return ul.set(A,fl(ul.get(A)||null,i,o,u,m,w)),!0;case"gotpointercapture":return A=w.pointerId,hl.set(A,fl(hl.get(A)||null,i,o,u,m,w)),!0}return!1}function N1(i){var o=Js(i.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,ke(i.priority,function(){C1(u)});return}}else if(o===31){if(o=c(u),o!==null){i.blockedOn=o,ke(i.priority,function(){C1(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function du(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Qd(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Qh=m,u.target.dispatchEvent(m),Qh=null}else return o=ta(u),o!==null&&T1(o),i.blockedOn=u,!1;o.shift()}return!0}function D1(i,o,u){du(i)&&u.delete(o)}function EO(){tp=!1,es!==null&&du(es)&&(es=null),ns!==null&&du(ns)&&(ns=null),is!==null&&du(is)&&(is=null),ul.forEach(D1),hl.forEach(D1)}function pu(i,o){i.blockedOn===o&&(i.blockedOn=null,tp||(tp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,EO)))}var mu=null;function I1(i){mu!==i&&(mu=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mu===i&&(mu=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],w=i[o+2];if(typeof m!="function"){if(Jd(m||u)===null)continue;break}var A=ta(u);A!==null&&(i.splice(o,3),o-=3,Qf(A,{pending:!0,data:w,method:u.method,action:m},m,w))}}))}function ka(i){function o(pt){return pu(pt,i)}es!==null&&pu(es,i),ns!==null&&pu(ns,i),is!==null&&pu(is,i),ul.forEach(o),hl.forEach(o);for(var u=0;u<rs.length;u++){var m=rs[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<rs.length&&(u=rs[0],u.blockedOn===null);)N1(u),u.blockedOn===null&&rs.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var w=u[m],A=u[m+1],F=w[zn]||null;if(typeof A=="function")F||I1(u);else if(F){var Y=null;if(A&&A.hasAttribute("formAction")){if(w=A,F=A[zn]||null)Y=F.formAction;else if(Jd(w)!==null)continue}else Y=F.action;typeof Y=="function"?u[m+1]=Y:(u.splice(m,3),m-=3),I1(u)}}}function M1(){function i(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(F){return w=F})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function ep(i){this._internalRoot=i}gu.prototype.render=ep.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,m=ii();S1(u,m,i,o,null,null)},gu.prototype.unmount=ep.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;S1(i.current,2,null,i,null,null),Kc(),o[Qs]=null}};function gu(i){this._internalRoot=i}gu.prototype.unstable_scheduleHydration=function(i){if(i){var o=Fe();i={blockedOn:null,target:i,priority:o};for(var u=0;u<rs.length&&o!==0&&o<rs[u].priority;u++);rs.splice(u,0,i),u===0&&N1(i)}};var L1=t.version;if(L1!=="19.2.3")throw Error(n(527,L1,"19.2.3"));Q.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(o),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var AO={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{nt=yu.inject(AO),mt=yu}catch{}}return pl.createRoot=function(i,o){if(!s(i))throw Error(n(299));var u=!1,m="",w=zb,A=Hb,F=Gb;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(F=o.onRecoverableError)),o=E1(i,1,!1,null,null,u,m,null,w,A,F,M1),i[Qs]=o.current,Pd(i),new ep(o)},pl.hydrateRoot=function(i,o,u){if(!s(i))throw Error(n(299));var m=!1,w="",A=zb,F=Hb,Y=Gb,pt=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(A=u.onUncaughtError),u.onCaughtError!==void 0&&(F=u.onCaughtError),u.onRecoverableError!==void 0&&(Y=u.onRecoverableError),u.formState!==void 0&&(pt=u.formState)),o=E1(i,1,!0,o,u??null,m,w,pt,A,F,Y,M1),o.context=A1(null),u=o.current,m=ii(),m=Bt(m),w=Gr(m),w.callback=null,Vr(u,w,m),u=m,o.current.lanes=u,O(o,u),Hi(o),i[Qs]=o.current,Pd(i),new gu(o)},pl.version="19.2.3",pl}var Y1;function BO(){if(Y1)return sp.exports;Y1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sp.exports=PO(),sp.exports}var FO=BO();function He(r,t,{checkForDefaultPrevented:e=!0}={}){return function(s){if(r?.(s),e===!1||!s.defaultPrevented)return t?.(s)}}function ms(r,t=[]){let e=[];function n(a,l){const c=V.createContext(l),h=e.length;e=[...e,l];const f=p=>{const{scope:g,children:y,...E}=p,b=g?.[r]?.[h]||c,_=V.useMemo(()=>E,Object.values(E));return X.jsx(b.Provider,{value:_,children:y})};f.displayName=a+"Provider";function d(p,g){const y=g?.[r]?.[h]||c,E=V.useContext(y);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[f,d]}const s=()=>{const a=e.map(l=>V.createContext(l));return function(c){const h=c?.[r]||a;return V.useMemo(()=>({[`__scope${r}`]:{...c,[r]:h}}),[c,h])}};return s.scopeName=r,[n,UO(s,...t)]}function UO(...r){const t=r[0];if(r.length===1)return t;const e=()=>{const n=r.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=n.reduce((c,{useScope:h,scopeName:f})=>{const p=h(a)[`__scope${f}`];return{...c,...p}},{});return V.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return e.scopeName=t.scopeName,e}function $1(r,t){if(typeof r=="function")return r(t);r!=null&&(r.current=t)}function tS(...r){return t=>{let e=!1;const n=r.map(s=>{const a=$1(s,t);return!e&&typeof a=="function"&&(e=!0),a});if(e)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():$1(r[s],null)}}}}function bn(...r){return V.useCallback(tS(...r),r)}function eh(r){const t=jO(r),e=V.forwardRef((n,s)=>{const{children:a,...l}=n,c=V.Children.toArray(a),h=c.find(HO);if(h){const f=h.props.children,d=c.map(p=>p===h?V.Children.count(f)>1?V.Children.only(null):V.isValidElement(f)?f.props.children:null:p);return X.jsx(t,{...l,ref:s,children:V.isValidElement(f)?V.cloneElement(f,void 0,d):null})}return X.jsx(t,{...l,ref:s,children:a})});return e.displayName=`${r}.Slot`,e}function jO(r){const t=V.forwardRef((e,n)=>{const{children:s,...a}=e;if(V.isValidElement(s)){const l=VO(s),c=GO(a,s.props);return s.type!==V.Fragment&&(c.ref=n?tS(n,l):l),V.cloneElement(s,c)}return V.Children.count(s)>1?V.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var zO=Symbol("radix.slottable");function HO(r){return V.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===zO}function GO(r,t){const e={...t};for(const n in t){const s=r[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const h=a(...c);return s(...c),h}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...r,...e}}function VO(r){let t=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?r.ref:(t=Object.getOwnPropertyDescriptor(r,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?r.props.ref:r.props.ref||r.ref)}function qg(r){const t=r+"CollectionProvider",[e,n]=ms(t),[s,a]=e(t,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:_,children:v}=b,S=ve.useRef(null),x=ve.useRef(new Map).current;return X.jsx(s,{scope:_,itemMap:x,collectionRef:S,children:v})};l.displayName=t;const c=r+"CollectionSlot",h=eh(c),f=ve.forwardRef((b,_)=>{const{scope:v,children:S}=b,x=a(c,v),T=bn(_,x.collectionRef);return X.jsx(h,{ref:T,children:S})});f.displayName=c;const d=r+"CollectionItemSlot",p="data-radix-collection-item",g=eh(d),y=ve.forwardRef((b,_)=>{const{scope:v,children:S,...x}=b,T=ve.useRef(null),C=bn(_,T),M=a(d,v);return ve.useEffect(()=>(M.itemMap.set(T,{ref:T,...x}),()=>{M.itemMap.delete(T)})),X.jsx(g,{[p]:"",ref:C,children:S})});y.displayName=d;function E(b){const _=a(r+"CollectionConsumer",b);return ve.useCallback(()=>{const S=_.collectionRef.current;if(!S)return[];const x=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((M,L)=>x.indexOf(M.ref.current)-x.indexOf(L.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:l,Slot:f,ItemSlot:y},E,n]}var Nr=globalThis?.document?V.useLayoutEffect:()=>{},qO=QA[" useId ".trim().toString()]||(()=>{}),YO=0;function Ul(r){const[t,e]=V.useState(qO());return Nr(()=>{e(n=>n??String(YO++))},[r]),t?`radix-${t}`:""}var Yg=JA();const $O=mh(Yg);var WO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=WO.reduce((r,t)=>{const e=eh(`Primitive.${t}`),n=V.forwardRef((s,a)=>{const{asChild:l,...c}=s,h=l?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),X.jsx(h,{...c,ref:a})});return n.displayName=`Primitive.${t}`,{...r,[t]:n}},{});function XO(r,t){r&&Yg.flushSync(()=>r.dispatchEvent(t))}function Hs(r){const t=V.useRef(r);return V.useEffect(()=>{t.current=r}),V.useMemo(()=>(...e)=>t.current?.(...e),[])}var KO=QA[" useInsertionEffect ".trim().toString()]||Nr;function Ys({prop:r,defaultProp:t,onChange:e=()=>{},caller:n}){const[s,a,l]=ZO({defaultProp:t,onChange:e}),c=r!==void 0,h=c?r:s;{const d=V.useRef(r!==void 0);V.useEffect(()=>{const p=d.current;p!==c&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const f=V.useCallback(d=>{if(c){const p=QO(d)?d(r):d;p!==r&&l.current?.(p)}else a(d)},[c,r,a,l]);return[h,f]}function ZO({defaultProp:r,onChange:t}){const[e,n]=V.useState(r),s=V.useRef(e),a=V.useRef(t);return KO(()=>{a.current=t},[t]),V.useEffect(()=>{s.current!==e&&(a.current?.(e),s.current=e)},[e,s]),[e,n,a]}function QO(r){return typeof r=="function"}var JO=V.createContext(void 0);function gh(r){const t=V.useContext(JO);return r||t||"ltr"}var cp="rovingFocusGroup.onEntryFocus",tN={bubbles:!1,cancelable:!0},jl="RovingFocusGroup",[hg,eS,eN]=qg(jl),[nN,nS]=ms(jl,[eN]),[iN,rN]=nN(jl),iS=V.forwardRef((r,t)=>X.jsx(hg.Provider,{scope:r.__scopeRovingFocusGroup,children:X.jsx(hg.Slot,{scope:r.__scopeRovingFocusGroup,children:X.jsx(sN,{...r,ref:t})})}));iS.displayName=jl;var sN=V.forwardRef((r,t)=>{const{__scopeRovingFocusGroup:e,orientation:n,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...p}=r,g=V.useRef(null),y=bn(t,g),E=gh(a),[b,_]=Ys({prop:l,defaultProp:c??null,onChange:h,caller:jl}),[v,S]=V.useState(!1),x=Hs(f),T=eS(e),C=V.useRef(!1),[M,L]=V.useState(0);return V.useEffect(()=>{const z=g.current;if(z)return z.addEventListener(cp,x),()=>z.removeEventListener(cp,x)},[x]),X.jsx(iN,{scope:e,orientation:n,dir:E,loop:s,currentTabStopId:b,onItemFocus:V.useCallback(z=>_(z),[_]),onItemShiftTab:V.useCallback(()=>S(!0),[]),onFocusableItemAdd:V.useCallback(()=>L(z=>z+1),[]),onFocusableItemRemove:V.useCallback(()=>L(z=>z-1),[]),children:X.jsx(Ge.div,{tabIndex:v||M===0?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...r.style},onMouseDown:He(r.onMouseDown,()=>{C.current=!0}),onFocus:He(r.onFocus,z=>{const k=!C.current;if(z.target===z.currentTarget&&k&&!v){const rt=new CustomEvent(cp,tN);if(z.currentTarget.dispatchEvent(rt),!rt.defaultPrevented){const ht=T().filter(et=>et.focusable),U=ht.find(et=>et.active),dt=ht.find(et=>et.id===b),yt=[U,dt,...ht].filter(Boolean).map(et=>et.ref.current);aS(yt,d)}}C.current=!1}),onBlur:He(r.onBlur,()=>S(!1))})})}),rS="RovingFocusGroupItem",sS=V.forwardRef((r,t)=>{const{__scopeRovingFocusGroup:e,focusable:n=!0,active:s=!1,tabStopId:a,children:l,...c}=r,h=Ul(),f=a||h,d=rN(rS,e),p=d.currentTabStopId===f,g=eS(e),{onFocusableItemAdd:y,onFocusableItemRemove:E,currentTabStopId:b}=d;return V.useEffect(()=>{if(n)return y(),()=>E()},[n,y,E]),X.jsx(hg.ItemSlot,{scope:e,id:f,focusable:n,active:s,children:X.jsx(Ge.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...c,ref:t,onMouseDown:He(r.onMouseDown,_=>{n?d.onItemFocus(f):_.preventDefault()}),onFocus:He(r.onFocus,()=>d.onItemFocus(f)),onKeyDown:He(r.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const v=lN(_,d.orientation,d.dir);if(v!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let x=g().filter(T=>T.focusable).map(T=>T.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const T=x.indexOf(_.currentTarget);x=d.loop?cN(x,T+1):x.slice(T+1)}setTimeout(()=>aS(x))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:b!=null}):l})})});sS.displayName=rS;var aN={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oN(r,t){return t!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function lN(r,t,e){const n=oN(r.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return aN[n]}function aS(r,t=!1){const e=document.activeElement;for(const n of r)if(n===e||(n.focus({preventScroll:t}),document.activeElement!==e))return}function cN(r,t){return r.map((e,n)=>r[(t+n)%r.length])}var uN=iS,hN=sS;function fN(r,t){return V.useReducer((e,n)=>t[e][n]??e,r)}var zl=r=>{const{present:t,children:e}=r,n=dN(t),s=typeof e=="function"?e({present:n.isPresent}):V.Children.only(e),a=bn(n.ref,pN(s));return typeof e=="function"||n.isPresent?V.cloneElement(s,{ref:a}):null};zl.displayName="Presence";function dN(r){const[t,e]=V.useState(),n=V.useRef(null),s=V.useRef(r),a=V.useRef("none"),l=r?"mounted":"unmounted",[c,h]=fN(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const f=bu(n.current);a.current=c==="mounted"?f:"none"},[c]),Nr(()=>{const f=n.current,d=s.current;if(d!==r){const g=a.current,y=bu(f);r?h("MOUNT"):y==="none"||f?.display==="none"?h("UNMOUNT"):h(d&&g!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=r}},[r,h]),Nr(()=>{if(t){let f;const d=t.ownerDocument.defaultView??window,p=y=>{const b=bu(n.current).includes(CSS.escape(y.animationName));if(y.target===t&&b&&(h("ANIMATION_END"),!s.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",f=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},g=y=>{y.target===t&&(a.current=bu(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{d.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:V.useCallback(f=>{n.current=f?getComputedStyle(f):null,e(f)},[])}}function bu(r){return r?.animationName||"none"}function pN(r){let t=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?r.ref:(t=Object.getOwnPropertyDescriptor(r,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?r.props.ref:r.props.ref||r.ref)}var yh="Tabs",[mN]=ms(yh,[nS]),oS=nS(),[gN,$g]=mN(yh),lS=V.forwardRef((r,t)=>{const{__scopeTabs:e,value:n,onValueChange:s,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:h="automatic",...f}=r,d=gh(c),[p,g]=Ys({prop:n,onChange:s,defaultProp:a??"",caller:yh});return X.jsx(gN,{scope:e,baseId:Ul(),value:p,onValueChange:g,orientation:l,dir:d,activationMode:h,children:X.jsx(Ge.div,{dir:d,"data-orientation":l,...f,ref:t})})});lS.displayName=yh;var cS="TabsList",uS=V.forwardRef((r,t)=>{const{__scopeTabs:e,loop:n=!0,...s}=r,a=$g(cS,e),l=oS(e);return X.jsx(uN,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:n,children:X.jsx(Ge.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});uS.displayName=cS;var hS="TabsTrigger",fS=V.forwardRef((r,t)=>{const{__scopeTabs:e,value:n,disabled:s=!1,...a}=r,l=$g(hS,e),c=oS(e),h=mS(l.baseId,n),f=gS(l.baseId,n),d=n===l.value;return X.jsx(hN,{asChild:!0,...c,focusable:!s,active:d,children:X.jsx(Ge.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":f,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:h,...a,ref:t,onMouseDown:He(r.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?l.onValueChange(n):p.preventDefault()}),onKeyDown:He(r.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(n)}),onFocus:He(r.onFocus,()=>{const p=l.activationMode!=="manual";!d&&!s&&p&&l.onValueChange(n)})})})});fS.displayName=hS;var dS="TabsContent",pS=V.forwardRef((r,t)=>{const{__scopeTabs:e,value:n,forceMount:s,children:a,...l}=r,c=$g(dS,e),h=mS(c.baseId,n),f=gS(c.baseId,n),d=n===c.value,p=V.useRef(d);return V.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),X.jsx(zl,{present:s||d,children:({present:g})=>X.jsx(Ge.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":h,hidden:!g,id:f,tabIndex:0,...l,ref:t,style:{...r.style,animationDuration:p.current?"0s":void 0},children:g&&a})})});pS.displayName=dS;function mS(r,t){return`${r}-trigger-${t}`}function gS(r,t){return`${r}-content-${t}`}var yN=lS,bN=uS,vN=fS,wN=pS;function yS(r){var t,e,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(t=0;t<s;t++)r[t]&&(e=yS(r[t]))&&(n&&(n+=" "),n+=e)}else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function bS(){for(var r,t,e=0,n="",s=arguments.length;e<s;e++)(r=arguments[e])&&(t=yS(r))&&(n&&(n+=" "),n+=t);return n}const _N=(r,t)=>{const e=new Array(r.length+t.length);for(let n=0;n<r.length;n++)e[n]=r[n];for(let n=0;n<t.length;n++)e[r.length+n]=t[n];return e},EN=(r,t)=>({classGroupId:r,validator:t}),vS=(r=new Map,t=null,e)=>({nextPart:r,validators:t,classGroupId:e}),nh="-",W1=[],AN="arbitrary..",SN=r=>{const t=TN(r),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return xN(l);const c=l.split(nh),h=c[0]===""&&c.length>1?1:0;return wS(c,h,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const h=n[l],f=e[l];return h?f?_N(f,h):h:f||W1}return e[l]||W1}}},wS=(r,t,e)=>{if(r.length-t===0)return e.classGroupId;const s=r[t],a=e.nextPart.get(s);if(a){const f=wS(r,t+1,a);if(f)return f}const l=e.validators;if(l===null)return;const c=t===0?r.join(nh):r.slice(t).join(nh),h=l.length;for(let f=0;f<h;f++){const d=l[f];if(d.validator(c))return d.classGroupId}},xN=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=r.slice(1,-1),e=t.indexOf(":"),n=t.slice(0,e);return n?AN+n:void 0})(),TN=r=>{const{theme:t,classGroups:e}=r;return CN(e,t)},CN=(r,t)=>{const e=vS();for(const n in r){const s=r[n];Wg(s,e,n,t)}return e},Wg=(r,t,e,n)=>{const s=r.length;for(let a=0;a<s;a++){const l=r[a];RN(l,t,e,n)}},RN=(r,t,e,n)=>{if(typeof r=="string"){ON(r,t,e);return}if(typeof r=="function"){NN(r,t,e,n);return}DN(r,t,e,n)},ON=(r,t,e)=>{const n=r===""?t:_S(t,r);n.classGroupId=e},NN=(r,t,e,n)=>{if(IN(r)){Wg(r(n),t,e,n);return}t.validators===null&&(t.validators=[]),t.validators.push(EN(e,r))},DN=(r,t,e,n)=>{const s=Object.entries(r),a=s.length;for(let l=0;l<a;l++){const[c,h]=s[l];Wg(h,_S(t,c),e,n)}},_S=(r,t)=>{let e=r;const n=t.split(nh),s=n.length;for(let a=0;a<s;a++){const l=n[a];let c=e.nextPart.get(l);c||(c=vS(),e.nextPart.set(l,c)),e=c}return e},IN=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,MN=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,e=Object.create(null),n=Object.create(null);const s=(a,l)=>{e[a]=l,t++,t>r&&(t=0,n=e,e=Object.create(null))};return{get(a){let l=e[a];if(l!==void 0)return l;if((l=n[a])!==void 0)return s(a,l),l},set(a,l){a in e?e[a]=l:s(a,l)}}},fg="!",X1=":",LN=[],K1=(r,t,e,n,s)=>({modifiers:r,hasImportantModifier:t,baseClassName:e,maybePostfixModifierPosition:n,isExternal:s}),kN=r=>{const{prefix:t,experimentalParseClassName:e}=r;let n=s=>{const a=[];let l=0,c=0,h=0,f;const d=s.length;for(let b=0;b<d;b++){const _=s[b];if(l===0&&c===0){if(_===X1){a.push(s.slice(h,b)),h=b+1;continue}if(_==="/"){f=b;continue}}_==="["?l++:_==="]"?l--:_==="("?c++:_===")"&&c--}const p=a.length===0?s:s.slice(h);let g=p,y=!1;p.endsWith(fg)?(g=p.slice(0,-1),y=!0):p.startsWith(fg)&&(g=p.slice(1),y=!0);const E=f&&f>h?f-h:void 0;return K1(a,y,g,E)};if(t){const s=t+X1,a=n;n=l=>l.startsWith(s)?a(l.slice(s.length)):K1(LN,!1,l,void 0,!0)}if(e){const s=n;n=a=>e({className:a,parseClassName:s})}return n},PN=r=>{const t=new Map;return r.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let s=[];for(let a=0;a<e.length;a++){const l=e[a],c=l[0]==="[",h=t.has(l);c||h?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(l)):s.push(l)}return s.length>0&&(s.sort(),n.push(...s)),n}},BN=r=>({cache:MN(r.cacheSize),parseClassName:kN(r),sortModifiers:PN(r),...SN(r)}),FN=/\s+/,UN=(r,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:a}=t,l=[],c=r.trim().split(FN);let h="";for(let f=c.length-1;f>=0;f-=1){const d=c[f],{isExternal:p,modifiers:g,hasImportantModifier:y,baseClassName:E,maybePostfixModifierPosition:b}=e(d);if(p){h=d+(h.length>0?" "+h:h);continue}let _=!!b,v=n(_?E.substring(0,b):E);if(!v){if(!_){h=d+(h.length>0?" "+h:h);continue}if(v=n(E),!v){h=d+(h.length>0?" "+h:h);continue}_=!1}const S=g.length===0?"":g.length===1?g[0]:a(g).join(":"),x=y?S+fg:S,T=x+v;if(l.indexOf(T)>-1)continue;l.push(T);const C=s(v,_);for(let M=0;M<C.length;++M){const L=C[M];l.push(x+L)}h=d+(h.length>0?" "+h:h)}return h},jN=(...r)=>{let t=0,e,n,s="";for(;t<r.length;)(e=r[t++])&&(n=ES(e))&&(s&&(s+=" "),s+=n);return s},ES=r=>{if(typeof r=="string")return r;let t,e="";for(let n=0;n<r.length;n++)r[n]&&(t=ES(r[n]))&&(e&&(e+=" "),e+=t);return e},zN=(r,...t)=>{let e,n,s,a;const l=h=>{const f=t.reduce((d,p)=>p(d),r());return e=BN(f),n=e.cache.get,s=e.cache.set,a=c,c(h)},c=h=>{const f=n(h);if(f)return f;const d=UN(h,e);return s(h,d),d};return a=l,(...h)=>a(jN(...h))},HN=[],pn=r=>{const t=e=>e[r]||HN;return t.isThemeGetter=!0,t},AS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,SS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,GN=/^\d+\/\d+$/,VN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$N=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pa=r=>GN.test(r),ue=r=>!!r&&!Number.isNaN(Number(r)),as=r=>!!r&&Number.isInteger(Number(r)),up=r=>r.endsWith("%")&&ue(r.slice(0,-1)),Ar=r=>VN.test(r),XN=()=>!0,KN=r=>qN.test(r)&&!YN.test(r),xS=()=>!1,ZN=r=>$N.test(r),QN=r=>WN.test(r),JN=r=>!Yt(r)&&!$t(r),tD=r=>po(r,RS,xS),Yt=r=>AS.test(r),ks=r=>po(r,OS,KN),hp=r=>po(r,sD,ue),Z1=r=>po(r,TS,xS),eD=r=>po(r,CS,QN),vu=r=>po(r,NS,ZN),$t=r=>SS.test(r),ml=r=>mo(r,OS),nD=r=>mo(r,aD),Q1=r=>mo(r,TS),iD=r=>mo(r,RS),rD=r=>mo(r,CS),wu=r=>mo(r,NS,!0),po=(r,t,e)=>{const n=AS.exec(r);return n?n[1]?t(n[1]):e(n[2]):!1},mo=(r,t,e=!1)=>{const n=SS.exec(r);return n?n[1]?t(n[1]):e:!1},TS=r=>r==="position"||r==="percentage",CS=r=>r==="image"||r==="url",RS=r=>r==="length"||r==="size"||r==="bg-size",OS=r=>r==="length",sD=r=>r==="number",aD=r=>r==="family-name",NS=r=>r==="shadow",oD=()=>{const r=pn("color"),t=pn("font"),e=pn("text"),n=pn("font-weight"),s=pn("tracking"),a=pn("leading"),l=pn("breakpoint"),c=pn("container"),h=pn("spacing"),f=pn("radius"),d=pn("shadow"),p=pn("inset-shadow"),g=pn("text-shadow"),y=pn("drop-shadow"),E=pn("blur"),b=pn("perspective"),_=pn("aspect"),v=pn("ease"),S=pn("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...T(),$t,Yt],M=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],z=()=>[$t,Yt,h],k=()=>[Pa,"full","auto",...z()],rt=()=>[as,"none","subgrid",$t,Yt],ht=()=>["auto",{span:["full",as,$t,Yt]},as,$t,Yt],U=()=>[as,"auto",$t,Yt],dt=()=>["auto","min","max","fr",$t,Yt],j=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],yt=()=>["start","end","center","stretch","center-safe","end-safe"],et=()=>["auto",...z()],Q=()=>[Pa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],ft=()=>[r,$t,Yt],vt=()=>[...T(),Q1,Z1,{position:[$t,Yt]}],It=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",iD,tD,{size:[$t,Yt]}],Z=()=>[up,ml,ks],K=()=>["","none","full",f,$t,Yt],st=()=>["",ue,ml,ks],ut=()=>["solid","dashed","dotted","double"],ct=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>[ue,up,Q1,Z1],D=()=>["","none",E,$t,Yt],ot=()=>["none",ue,$t,Yt],J=()=>["none",ue,$t,Yt],G=()=>[ue,$t,Yt],W=()=>[Pa,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ar],breakpoint:[Ar],color:[XN],container:[Ar],"drop-shadow":[Ar],ease:["in","out","in-out"],font:[JN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ar],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ar],shadow:[Ar],spacing:["px",ue],text:[Ar],"text-shadow":[Ar],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pa,Yt,$t,_]}],container:["container"],columns:[{columns:[ue,Yt,$t,c]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[as,"auto",$t,Yt]}],basis:[{basis:[Pa,"full","auto",c,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ue,Pa,"auto","initial","none",Yt]}],grow:[{grow:["",ue,$t,Yt]}],shrink:[{shrink:["",ue,$t,Yt]}],order:[{order:[as,"first","last","none",$t,Yt]}],"grid-cols":[{"grid-cols":rt()}],"col-start-end":[{col:ht()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":rt()}],"row-start-end":[{row:ht()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":dt()}],"auto-rows":[{"auto-rows":dt()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...j(),"normal"]}],"justify-items":[{"justify-items":[...yt(),"normal"]}],"justify-self":[{"justify-self":["auto",...yt()]}],"align-content":[{content:["normal",...j()]}],"align-items":[{items:[...yt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...yt(),{baseline:["","last"]}]}],"place-content":[{"place-content":j()}],"place-items":[{"place-items":[...yt(),"baseline"]}],"place-self":[{"place-self":["auto",...yt()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:et()}],mx:[{mx:et()}],my:[{my:et()}],ms:[{ms:et()}],me:[{me:et()}],mt:[{mt:et()}],mr:[{mr:et()}],mb:[{mb:et()}],ml:[{ml:et()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[c,"screen",...Q()]}],"min-w":[{"min-w":[c,"screen","none",...Q()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",e,ml,ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,$t,hp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",up,Yt]}],"font-family":[{font:[nD,Yt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,$t,Yt]}],"line-clamp":[{"line-clamp":[ue,"none",$t,hp]}],leading:[{leading:[a,...z()]}],"list-image":[{"list-image":["none",$t,Yt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$t,Yt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ft()}],"text-color":[{text:ft()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ut(),"wavy"]}],"text-decoration-thickness":[{decoration:[ue,"from-font","auto",$t,ks]}],"text-decoration-color":[{decoration:ft()}],"underline-offset":[{"underline-offset":[ue,"auto",$t,Yt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$t,Yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$t,Yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:vt()}],"bg-repeat":[{bg:It()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},as,$t,Yt],radial:["",$t,Yt],conic:[as,$t,Yt]},rD,eD]}],"bg-color":[{bg:ft()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:ft()}],"gradient-via":[{via:ft()}],"gradient-to":[{to:ft()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:st()}],"border-w-x":[{"border-x":st()}],"border-w-y":[{"border-y":st()}],"border-w-s":[{"border-s":st()}],"border-w-e":[{"border-e":st()}],"border-w-t":[{"border-t":st()}],"border-w-r":[{"border-r":st()}],"border-w-b":[{"border-b":st()}],"border-w-l":[{"border-l":st()}],"divide-x":[{"divide-x":st()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":st()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ut(),"hidden","none"]}],"divide-style":[{divide:[...ut(),"hidden","none"]}],"border-color":[{border:ft()}],"border-color-x":[{"border-x":ft()}],"border-color-y":[{"border-y":ft()}],"border-color-s":[{"border-s":ft()}],"border-color-e":[{"border-e":ft()}],"border-color-t":[{"border-t":ft()}],"border-color-r":[{"border-r":ft()}],"border-color-b":[{"border-b":ft()}],"border-color-l":[{"border-l":ft()}],"divide-color":[{divide:ft()}],"outline-style":[{outline:[...ut(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ue,$t,Yt]}],"outline-w":[{outline:["",ue,ml,ks]}],"outline-color":[{outline:ft()}],shadow:[{shadow:["","none",d,wu,vu]}],"shadow-color":[{shadow:ft()}],"inset-shadow":[{"inset-shadow":["none",p,wu,vu]}],"inset-shadow-color":[{"inset-shadow":ft()}],"ring-w":[{ring:st()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ft()}],"ring-offset-w":[{"ring-offset":[ue,ks]}],"ring-offset-color":[{"ring-offset":ft()}],"inset-ring-w":[{"inset-ring":st()}],"inset-ring-color":[{"inset-ring":ft()}],"text-shadow":[{"text-shadow":["none",g,wu,vu]}],"text-shadow-color":[{"text-shadow":ft()}],opacity:[{opacity:[ue,$t,Yt]}],"mix-blend":[{"mix-blend":[...ct(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ct()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":N()}],"mask-image-linear-to-pos":[{"mask-linear-to":N()}],"mask-image-linear-from-color":[{"mask-linear-from":ft()}],"mask-image-linear-to-color":[{"mask-linear-to":ft()}],"mask-image-t-from-pos":[{"mask-t-from":N()}],"mask-image-t-to-pos":[{"mask-t-to":N()}],"mask-image-t-from-color":[{"mask-t-from":ft()}],"mask-image-t-to-color":[{"mask-t-to":ft()}],"mask-image-r-from-pos":[{"mask-r-from":N()}],"mask-image-r-to-pos":[{"mask-r-to":N()}],"mask-image-r-from-color":[{"mask-r-from":ft()}],"mask-image-r-to-color":[{"mask-r-to":ft()}],"mask-image-b-from-pos":[{"mask-b-from":N()}],"mask-image-b-to-pos":[{"mask-b-to":N()}],"mask-image-b-from-color":[{"mask-b-from":ft()}],"mask-image-b-to-color":[{"mask-b-to":ft()}],"mask-image-l-from-pos":[{"mask-l-from":N()}],"mask-image-l-to-pos":[{"mask-l-to":N()}],"mask-image-l-from-color":[{"mask-l-from":ft()}],"mask-image-l-to-color":[{"mask-l-to":ft()}],"mask-image-x-from-pos":[{"mask-x-from":N()}],"mask-image-x-to-pos":[{"mask-x-to":N()}],"mask-image-x-from-color":[{"mask-x-from":ft()}],"mask-image-x-to-color":[{"mask-x-to":ft()}],"mask-image-y-from-pos":[{"mask-y-from":N()}],"mask-image-y-to-pos":[{"mask-y-to":N()}],"mask-image-y-from-color":[{"mask-y-from":ft()}],"mask-image-y-to-color":[{"mask-y-to":ft()}],"mask-image-radial":[{"mask-radial":[$t,Yt]}],"mask-image-radial-from-pos":[{"mask-radial-from":N()}],"mask-image-radial-to-pos":[{"mask-radial-to":N()}],"mask-image-radial-from-color":[{"mask-radial-from":ft()}],"mask-image-radial-to-color":[{"mask-radial-to":ft()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":N()}],"mask-image-conic-to-pos":[{"mask-conic-to":N()}],"mask-image-conic-from-color":[{"mask-conic-from":ft()}],"mask-image-conic-to-color":[{"mask-conic-to":ft()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:vt()}],"mask-repeat":[{mask:It()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$t,Yt]}],filter:[{filter:["","none",$t,Yt]}],blur:[{blur:D()}],brightness:[{brightness:[ue,$t,Yt]}],contrast:[{contrast:[ue,$t,Yt]}],"drop-shadow":[{"drop-shadow":["","none",y,wu,vu]}],"drop-shadow-color":[{"drop-shadow":ft()}],grayscale:[{grayscale:["",ue,$t,Yt]}],"hue-rotate":[{"hue-rotate":[ue,$t,Yt]}],invert:[{invert:["",ue,$t,Yt]}],saturate:[{saturate:[ue,$t,Yt]}],sepia:[{sepia:["",ue,$t,Yt]}],"backdrop-filter":[{"backdrop-filter":["","none",$t,Yt]}],"backdrop-blur":[{"backdrop-blur":D()}],"backdrop-brightness":[{"backdrop-brightness":[ue,$t,Yt]}],"backdrop-contrast":[{"backdrop-contrast":[ue,$t,Yt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ue,$t,Yt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ue,$t,Yt]}],"backdrop-invert":[{"backdrop-invert":["",ue,$t,Yt]}],"backdrop-opacity":[{"backdrop-opacity":[ue,$t,Yt]}],"backdrop-saturate":[{"backdrop-saturate":[ue,$t,Yt]}],"backdrop-sepia":[{"backdrop-sepia":["",ue,$t,Yt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$t,Yt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ue,"initial",$t,Yt]}],ease:[{ease:["linear","initial",v,$t,Yt]}],delay:[{delay:[ue,$t,Yt]}],animate:[{animate:["none",S,$t,Yt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,$t,Yt]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:ot()}],"rotate-x":[{"rotate-x":ot()}],"rotate-y":[{"rotate-y":ot()}],"rotate-z":[{"rotate-z":ot()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:G()}],"skew-x":[{"skew-x":G()}],"skew-y":[{"skew-y":G()}],transform:[{transform:[$t,Yt,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:ft()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ft()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$t,Yt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$t,Yt]}],fill:[{fill:["none",...ft()]}],"stroke-w":[{stroke:[ue,ml,ks,hp]}],stroke:[{stroke:["none",...ft()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lD=zN(oD);function Mn(...r){return lD(bS(r))}function cD({className:r,...t}){return X.jsx(yN,{"data-slot":"tabs",className:Mn("flex flex-col gap-2",r),...t})}function uD({className:r,...t}){return X.jsx(bN,{"data-slot":"tabs-list",className:Mn("bg-muted text-on-disabled inline-flex h-9 w-fit items-center justify-center rounded-md p-[4px]",r),...t})}function J1({className:r,...t}){return X.jsx(vN,{"data-slot":"tabs-trigger",className:Mn("dark:data-[state=active]:rounded-sm dark:data-[state=active]:bg-surface-low dark:text-on-subtle dark:data-[state=active]:bg-surface-med dark:data-[state=active]:text-on focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...t})}function tw({className:r,...t}){return X.jsx(wN,{"data-slot":"tabs-content",className:Mn("flex-1 outline-none",r),...t})}function Xg({className:r}){return X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"24",viewBox:"0 0 33 24",fill:"none",className:r,children:X.jsx("path",{d:"M17.2931 23.121C16.4559 23.121 15.8281 22.9541 14.7156 21.9527L10.2547 18.2142C10.0895 18.2142 9.92423 18.2253 9.75901 18.2253C6.64186 18.2253 4.00935 17.3129 2.4012 15.0431C1.01335 15.0431 0 14.2309 0 12.9402C0 11.7942 0.89219 11.0153 2.07076 11.0153C3.55774 6.87622 6.34446 4.75104 10.0123 4.75104C13.537 4.75104 16.1585 6.60918 19.5511 8.58971C20.8838 9.36857 21.776 9.89152 22.6242 9.89152C23.1749 9.89152 23.6155 9.6356 24.1111 9.15716L17.7667 5.24061C16.3899 4.38387 14.6055 3.13769 14.6055 2.24757C14.6055 0.934631 16.9957 0 18.6038 0C20.5644 0 22.5581 1.03477 24.1993 3.2267L27.1512 7.19889C30.4887 7.18776 33 9.81363 33 13.3185C33 16.2225 31.6342 16.8901 28.5941 16.8901C27.1292 16.8901 25.7193 16.3449 24.4856 15.4993C23.3732 15.9889 22.6132 16.5118 21.9413 17.0125C21.3134 16.9235 20.7186 16.879 20.0688 16.879C19.2537 16.879 18.4496 16.9569 17.7116 17.1127L16.9516 15.2545C15.4977 11.6495 13.1185 9.85814 9.89119 9.85814C8.88885 9.85814 7.97463 10.025 7.97463 10.7149C7.97463 11.1377 8.26101 11.3268 8.69059 11.3268H9.99032C12.6559 11.3268 14.5394 13.0403 15.7069 15.6662L16.8965 18.4033C17.8218 18.1697 18.5487 18.0139 20.1789 18.0139C23.5053 18.0139 25.6091 19.3268 25.6091 21.2851C25.6091 22.4423 24.75 23.121 23.1198 23.121C22.0404 23.121 21.6439 22.7538 20.1899 22.7538C18.747 22.7538 18.0641 23.121 17.2931 23.121ZM28.3408 12.7844C28.8475 12.7844 29.255 12.3282 29.255 11.8275C29.255 11.3268 28.8585 10.9263 28.3518 10.9263C27.8561 10.9263 27.4486 11.3713 27.4486 11.872C27.4486 12.3616 27.8451 12.7844 28.3408 12.7844ZM9.32944 24C6.99433 24 5.49633 23.0097 5.49633 21.5188C5.49633 20.5174 6.25634 19.8498 7.48999 19.8498C8.45928 19.8498 9.27437 20.0167 9.8251 20.0167C10.0564 20.0167 10.2437 19.9944 10.3979 19.9833L13.8124 22.854C12.755 23.5883 11.4553 24 9.32944 24Z",fill:"currentColor"})})}function hD({className:r,...t}){return X.jsx("div",{"data-slot":"card",className:Mn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...t})}const fD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dD=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),ew=r=>{const t=dD(r);return t.charAt(0).toUpperCase()+t.slice(1)},DS=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),pD=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var mD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gD=V.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:l,...c},h)=>V.createElement("svg",{ref:h,...mD,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:DS("lucide",s),...!a&&!pD(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,d])=>V.createElement(f,d)),...Array.isArray(a)?a:[a]]));const ir=(r,t)=>{const e=V.forwardRef(({className:n,...s},a)=>V.createElement(gD,{ref:a,iconNode:t,className:DS(`lucide-${fD(ew(r))}`,`lucide-${r}`,n),...s}));return e.displayName=ew(r),e};const yD=[["path",{d:"m14 12 4 4 4-4",key:"buelq4"}],["path",{d:"M18 16V7",key:"ty0viw"}],["path",{d:"m2 16 4.039-9.69a.5.5 0 0 1 .923 0L11 16",key:"d5nyq2"}],["path",{d:"M3.304 13h6.392",key:"1q3zxz"}]],bD=ir("a-arrow-down",yD);const vD=[["path",{d:"m15 16 2.536-7.328a1.02 1.02 1 0 1 1.928 0L22 16",key:"xik6mr"}],["path",{d:"M15.697 14h5.606",key:"1stdlc"}],["path",{d:"m2 16 4.039-9.69a.5.5 0 0 1 .923 0L11 16",key:"d5nyq2"}],["path",{d:"M3.304 13h6.392",key:"1q3zxz"}]],wD=ir("a-large-small",vD);const _D=[["path",{d:"m14 11 4-4 4 4",key:"1pu57t"}],["path",{d:"M18 16V7",key:"ty0viw"}],["path",{d:"m2 16 4.039-9.69a.5.5 0 0 1 .923 0L11 16",key:"d5nyq2"}],["path",{d:"M3.304 13h6.392",key:"1q3zxz"}]],ED=ir("a-arrow-up",_D);const AD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],SD=ir("arrow-left",AD);const xD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],TD=ir("chevron-right",xD);const CD=[["path",{d:"M5 12h14",key:"1ays0h"}]],RD=ir("minus",CD);const OD=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ND=ir("palette",OD);const DD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ID=ir("plus",DD);const MD=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],LD=ir("undo-2",MD);const kD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],PD=ir("upload",kD);var fp,nw;function BD(){if(nw)return fp;nw=1;function r(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function t(s,a){for(var l="",c=0,h=-1,f=0,d,p=0;p<=s.length;++p){if(p<s.length)d=s.charCodeAt(p);else{if(d===47)break;d=47}if(d===47){if(!(h===p-1||f===1))if(h!==p-1&&f===2){if(l.length<2||c!==2||l.charCodeAt(l.length-1)!==46||l.charCodeAt(l.length-2)!==46){if(l.length>2){var g=l.lastIndexOf("/");if(g!==l.length-1){g===-1?(l="",c=0):(l=l.slice(0,g),c=l.length-1-l.lastIndexOf("/")),h=p,f=0;continue}}else if(l.length===2||l.length===1){l="",c=0,h=p,f=0;continue}}a&&(l.length>0?l+="/..":l="..",c=2)}else l.length>0?l+="/"+s.slice(h+1,p):l=s.slice(h+1,p),c=p-h-1;h=p,f=0}else d===46&&f!==-1?++f:f=-1}return l}function e(s,a){var l=a.dir||a.root,c=a.base||(a.name||"")+(a.ext||"");return l?l===a.root?l+c:l+s+c:c}var n={resolve:function(){for(var a="",l=!1,c,h=arguments.length-1;h>=-1&&!l;h--){var f;h>=0?f=arguments[h]:(c===void 0&&(c=Qt.cwd()),f=c),r(f),f.length!==0&&(a=f+"/"+a,l=f.charCodeAt(0)===47)}return a=t(a,!l),l?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(r(a),a.length===0)return".";var l=a.charCodeAt(0)===47,c=a.charCodeAt(a.length-1)===47;return a=t(a,!l),a.length===0&&!l&&(a="."),a.length>0&&c&&(a+="/"),l?"/"+a:a},isAbsolute:function(a){return r(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,l=0;l<arguments.length;++l){var c=arguments[l];r(c),c.length>0&&(a===void 0?a=c:a+="/"+c)}return a===void 0?".":n.normalize(a)},relative:function(a,l){if(r(a),r(l),a===l||(a=n.resolve(a),l=n.resolve(l),a===l))return"";for(var c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var h=a.length,f=h-c,d=1;d<l.length&&l.charCodeAt(d)===47;++d);for(var p=l.length,g=p-d,y=f<g?f:g,E=-1,b=0;b<=y;++b){if(b===y){if(g>y){if(l.charCodeAt(d+b)===47)return l.slice(d+b+1);if(b===0)return l.slice(d+b)}else f>y&&(a.charCodeAt(c+b)===47?E=b:b===0&&(E=0));break}var _=a.charCodeAt(c+b),v=l.charCodeAt(d+b);if(_!==v)break;_===47&&(E=b)}var S="";for(b=c+E+1;b<=h;++b)(b===h||a.charCodeAt(b)===47)&&(S.length===0?S+="..":S+="/..");return S.length>0?S+l.slice(d+E):(d+=E,l.charCodeAt(d)===47&&++d,l.slice(d))},_makeLong:function(a){return a},dirname:function(a){if(r(a),a.length===0)return".";for(var l=a.charCodeAt(0),c=l===47,h=-1,f=!0,d=a.length-1;d>=1;--d)if(l=a.charCodeAt(d),l===47){if(!f){h=d;break}}else f=!1;return h===-1?c?"/":".":c&&h===1?"//":a.slice(0,h)},basename:function(a,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');r(a);var c=0,h=-1,f=!0,d;if(l!==void 0&&l.length>0&&l.length<=a.length){if(l.length===a.length&&l===a)return"";var p=l.length-1,g=-1;for(d=a.length-1;d>=0;--d){var y=a.charCodeAt(d);if(y===47){if(!f){c=d+1;break}}else g===-1&&(f=!1,g=d+1),p>=0&&(y===l.charCodeAt(p)?--p===-1&&(h=d):(p=-1,h=g))}return c===h?h=g:h===-1&&(h=a.length),a.slice(c,h)}else{for(d=a.length-1;d>=0;--d)if(a.charCodeAt(d)===47){if(!f){c=d+1;break}}else h===-1&&(f=!1,h=d+1);return h===-1?"":a.slice(c,h)}},extname:function(a){r(a);for(var l=-1,c=0,h=-1,f=!0,d=0,p=a.length-1;p>=0;--p){var g=a.charCodeAt(p);if(g===47){if(!f){c=p+1;break}continue}h===-1&&(f=!1,h=p+1),g===46?l===-1?l=p:d!==1&&(d=1):l!==-1&&(d=-1)}return l===-1||h===-1||d===0||d===1&&l===h-1&&l===c+1?"":a.slice(l,h)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return e("/",a)},parse:function(a){r(a);var l={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return l;var c=a.charCodeAt(0),h=c===47,f;h?(l.root="/",f=1):f=0;for(var d=-1,p=0,g=-1,y=!0,E=a.length-1,b=0;E>=f;--E){if(c=a.charCodeAt(E),c===47){if(!y){p=E+1;break}continue}g===-1&&(y=!1,g=E+1),c===46?d===-1?d=E:b!==1&&(b=1):d!==-1&&(b=-1)}return d===-1||g===-1||b===0||b===1&&d===g-1&&d===p+1?g!==-1&&(p===0&&h?l.base=l.name=a.slice(1,g):l.base=l.name=a.slice(p,g)):(p===0&&h?(l.name=a.slice(1,d),l.base=a.slice(1,g)):(l.name=a.slice(p,d),l.base=a.slice(p,g)),l.ext=a.slice(d,g)),p>0?l.dir=a.slice(0,p-1):h&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,fp=n,fp}var go=BD(),_u={exports:{}},iw;function bh(){if(iw)return _u.exports;iw=1;var r=typeof Reflect=="object"?Reflect:null,t=r&&typeof r.apply=="function"?r.apply:function(C,M,L){return Function.prototype.apply.call(C,M,L)},e;r&&typeof r.ownKeys=="function"?e=r.ownKeys:Object.getOwnPropertySymbols?e=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:e=function(C){return Object.getOwnPropertyNames(C)};function n(T){console&&console.warn&&console.warn(T)}var s=Number.isNaN||function(C){return C!==C};function a(){a.init.call(this)}_u.exports=a,_u.exports.once=v,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function c(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(T){if(typeof T!="number"||T<0||s(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");l=T}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function h(T){return T._maxListeners===void 0?a.defaultMaxListeners:T._maxListeners}a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(C){for(var M=[],L=1;L<arguments.length;L++)M.push(arguments[L]);var z=C==="error",k=this._events;if(k!==void 0)z=z&&k.error===void 0;else if(!z)return!1;if(z){var rt;if(M.length>0&&(rt=M[0]),rt instanceof Error)throw rt;var ht=new Error("Unhandled error."+(rt?" ("+rt.message+")":""));throw ht.context=rt,ht}var U=k[C];if(U===void 0)return!1;if(typeof U=="function")t(U,this,M);else for(var dt=U.length,j=E(U,dt),L=0;L<dt;++L)t(j[L],this,M);return!0};function f(T,C,M,L){var z,k,rt;if(c(M),k=T._events,k===void 0?(k=T._events=Object.create(null),T._eventsCount=0):(k.newListener!==void 0&&(T.emit("newListener",C,M.listener?M.listener:M),k=T._events),rt=k[C]),rt===void 0)rt=k[C]=M,++T._eventsCount;else if(typeof rt=="function"?rt=k[C]=L?[M,rt]:[rt,M]:L?rt.unshift(M):rt.push(M),z=h(T),z>0&&rt.length>z&&!rt.warned){rt.warned=!0;var ht=new Error("Possible EventEmitter memory leak detected. "+rt.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");ht.name="MaxListenersExceededWarning",ht.emitter=T,ht.type=C,ht.count=rt.length,n(ht)}return T}a.prototype.addListener=function(C,M){return f(this,C,M,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(C,M){return f(this,C,M,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(T,C,M){var L={fired:!1,wrapFn:void 0,target:T,type:C,listener:M},z=d.bind(L);return z.listener=M,L.wrapFn=z,z}a.prototype.once=function(C,M){return c(M),this.on(C,p(this,C,M)),this},a.prototype.prependOnceListener=function(C,M){return c(M),this.prependListener(C,p(this,C,M)),this},a.prototype.removeListener=function(C,M){var L,z,k,rt,ht;if(c(M),z=this._events,z===void 0)return this;if(L=z[C],L===void 0)return this;if(L===M||L.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete z[C],z.removeListener&&this.emit("removeListener",C,L.listener||M));else if(typeof L!="function"){for(k=-1,rt=L.length-1;rt>=0;rt--)if(L[rt]===M||L[rt].listener===M){ht=L[rt].listener,k=rt;break}if(k<0)return this;k===0?L.shift():b(L,k),L.length===1&&(z[C]=L[0]),z.removeListener!==void 0&&this.emit("removeListener",C,ht||M)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(C){var M,L,z;if(L=this._events,L===void 0)return this;if(L.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):L[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete L[C]),this;if(arguments.length===0){var k=Object.keys(L),rt;for(z=0;z<k.length;++z)rt=k[z],rt!=="removeListener"&&this.removeAllListeners(rt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=L[C],typeof M=="function")this.removeListener(C,M);else if(M!==void 0)for(z=M.length-1;z>=0;z--)this.removeListener(C,M[z]);return this};function g(T,C,M){var L=T._events;if(L===void 0)return[];var z=L[C];return z===void 0?[]:typeof z=="function"?M?[z.listener||z]:[z]:M?_(z):E(z,z.length)}a.prototype.listeners=function(C){return g(this,C,!0)},a.prototype.rawListeners=function(C){return g(this,C,!1)},a.listenerCount=function(T,C){return typeof T.listenerCount=="function"?T.listenerCount(C):y.call(T,C)},a.prototype.listenerCount=y;function y(T){var C=this._events;if(C!==void 0){var M=C[T];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};function E(T,C){for(var M=new Array(C),L=0;L<C;++L)M[L]=T[L];return M}function b(T,C){for(;C+1<T.length;C++)T[C]=T[C+1];T.pop()}function _(T){for(var C=new Array(T.length),M=0;M<C.length;++M)C[M]=T[M].listener||T[M];return C}function v(T,C){return new Promise(function(M,L){function z(rt){T.removeListener(C,k),L(rt)}function k(){typeof T.removeListener=="function"&&T.removeListener("error",z),M([].slice.call(arguments))}x(T,C,k,{once:!0}),C!=="error"&&S(T,z,{once:!0})})}function S(T,C,M){typeof T.on=="function"&&x(T,"error",C,M)}function x(T,C,M,L){if(typeof T.on=="function")L.once?T.once(C,M):T.on(C,M);else if(typeof T.addEventListener=="function")T.addEventListener(C,function z(k){L.once&&T.removeEventListener(C,z),M(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return _u.exports}var FD=bh(),IS={},vh={};vh.byteLength=zD;vh.toByteArray=GD;vh.fromByteArray=YD;var Zi=[],Ei=[],UD=typeof Uint8Array<"u"?Uint8Array:Array,dp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ba=0,jD=dp.length;Ba<jD;++Ba)Zi[Ba]=dp[Ba],Ei[dp.charCodeAt(Ba)]=Ba;Ei[45]=62;Ei[95]=63;function MS(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function zD(r){var t=MS(r),e=t[0],n=t[1];return(e+n)*3/4-n}function HD(r,t,e){return(t+e)*3/4-e}function GD(r){var t,e=MS(r),n=e[0],s=e[1],a=new UD(HD(r,n,s)),l=0,c=s>0?n-4:n,h;for(h=0;h<c;h+=4)t=Ei[r.charCodeAt(h)]<<18|Ei[r.charCodeAt(h+1)]<<12|Ei[r.charCodeAt(h+2)]<<6|Ei[r.charCodeAt(h+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=t&255;return s===2&&(t=Ei[r.charCodeAt(h)]<<2|Ei[r.charCodeAt(h+1)]>>4,a[l++]=t&255),s===1&&(t=Ei[r.charCodeAt(h)]<<10|Ei[r.charCodeAt(h+1)]<<4|Ei[r.charCodeAt(h+2)]>>2,a[l++]=t>>8&255,a[l++]=t&255),a}function VD(r){return Zi[r>>18&63]+Zi[r>>12&63]+Zi[r>>6&63]+Zi[r&63]}function qD(r,t,e){for(var n,s=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(r[a+2]&255),s.push(VD(n));return s.join("")}function YD(r){for(var t,e=r.length,n=e%3,s=[],a=16383,l=0,c=e-n;l<c;l+=a)s.push(qD(r,l,l+a>c?c:l+a));return n===1?(t=r[e-1],s.push(Zi[t>>2]+Zi[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],s.push(Zi[t>>10]+Zi[t>>4&63]+Zi[t<<2&63]+"=")),s.join("")}var Kg={};Kg.read=function(r,t,e,n,s){var a,l,c=s*8-n-1,h=(1<<c)-1,f=h>>1,d=-7,p=e?s-1:0,g=e?-1:1,y=r[t+p];for(p+=g,a=y&(1<<-d)-1,y>>=-d,d+=c;d>0;a=a*256+r[t+p],p+=g,d-=8);for(l=a&(1<<-d)-1,a>>=-d,d+=n;d>0;l=l*256+r[t+p],p+=g,d-=8);if(a===0)a=1-f;else{if(a===h)return l?NaN:(y?-1:1)*(1/0);l=l+Math.pow(2,n),a=a-f}return(y?-1:1)*l*Math.pow(2,a-n)};Kg.write=function(r,t,e,n,s,a){var l,c,h,f=a*8-s-1,d=(1<<f)-1,p=d>>1,g=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:a-1,E=n?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,l=d):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+p>=1?t+=g/h:t+=g*Math.pow(2,1-p),t*h>=2&&(l++,h/=2),l+p>=d?(c=0,l=d):l+p>=1?(c=(t*h-1)*Math.pow(2,s),l=l+p):(c=t*Math.pow(2,p-1)*Math.pow(2,s),l=0));s>=8;r[e+y]=c&255,y+=E,c/=256,s-=8);for(l=l<<s|c,f+=s;f>0;r[e+y]=l&255,y+=E,l/=256,f-=8);r[e+y-E]|=b*128};(function(r){const t=vh,e=Kg,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=d,r.SlowBuffer=C,r.INSPECT_MAX_BYTES=50;const s=2147483647;r.kMaxLength=s;const{Uint8Array:a,ArrayBuffer:l,SharedArrayBuffer:c}=globalThis;d.TYPED_ARRAY_SUPPORT=h(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{const q=new a(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,a.prototype),Object.setPrototypeOf(q,R),q.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function f(q){if(q>s)throw new RangeError('The value "'+q+'" is invalid for option "size"');const R=new a(q);return Object.setPrototypeOf(R,d.prototype),R}function d(q,R,P){if(typeof q=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(q)}return p(q,R,P)}d.poolSize=8192;function p(q,R,P){if(typeof q=="string")return b(q,R);if(l.isView(q))return v(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(jt(q,l)||q&&jt(q.buffer,l)||typeof c<"u"&&(jt(q,c)||q&&jt(q.buffer,c)))return S(q,R,P);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const nt=q.valueOf&&q.valueOf();if(nt!=null&&nt!==q)return d.from(nt,R,P);const mt=x(q);if(mt)return mt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return d.from(q[Symbol.toPrimitive]("string"),R,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}d.from=function(q,R,P){return p(q,R,P)},Object.setPrototypeOf(d.prototype,a.prototype),Object.setPrototypeOf(d,a);function g(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function y(q,R,P){return g(q),q<=0?f(q):R!==void 0?typeof P=="string"?f(q).fill(R,P):f(q).fill(R):f(q)}d.alloc=function(q,R,P){return y(q,R,P)};function E(q){return g(q),f(q<0?0:T(q)|0)}d.allocUnsafe=function(q){return E(q)},d.allocUnsafeSlow=function(q){return E(q)};function b(q,R){if((typeof R!="string"||R==="")&&(R="utf8"),!d.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const P=M(q,R)|0;let nt=f(P);const mt=nt.write(q,R);return mt!==P&&(nt=nt.slice(0,mt)),nt}function _(q){const R=q.length<0?0:T(q.length)|0,P=f(R);for(let nt=0;nt<R;nt+=1)P[nt]=q[nt]&255;return P}function v(q){if(jt(q,a)){const R=new a(q);return S(R.buffer,R.byteOffset,R.byteLength)}return _(q)}function S(q,R,P){if(R<0||q.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<R+(P||0))throw new RangeError('"length" is outside of buffer bounds');let nt;return R===void 0&&P===void 0?nt=new a(q):P===void 0?nt=new a(q,R):nt=new a(q,R,P),Object.setPrototypeOf(nt,d.prototype),nt}function x(q){if(d.isBuffer(q)){const R=T(q.length)|0,P=f(R);return P.length===0||q.copy(P,0,0,R),P}if(q.length!==void 0)return typeof q.length!="number"||Gt(q.length)?f(0):_(q);if(q.type==="Buffer"&&Array.isArray(q.data))return _(q.data)}function T(q){if(q>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return q|0}function C(q){return+q!=q&&(q=0),d.alloc(+q)}d.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==d.prototype},d.compare=function(R,P){if(jt(R,a)&&(R=d.from(R,R.offset,R.byteLength)),jt(P,a)&&(P=d.from(P,P.offset,P.byteLength)),!d.isBuffer(R)||!d.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===P)return 0;let nt=R.length,mt=P.length;for(let xt=0,Dt=Math.min(nt,mt);xt<Dt;++xt)if(R[xt]!==P[xt]){nt=R[xt],mt=P[xt];break}return nt<mt?-1:mt<nt?1:0},d.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(R,P){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return d.alloc(0);let nt;if(P===void 0)for(P=0,nt=0;nt<R.length;++nt)P+=R[nt].length;const mt=d.allocUnsafe(P);let xt=0;for(nt=0;nt<R.length;++nt){let Dt=R[nt];if(jt(Dt,a))xt+Dt.length>mt.length?(d.isBuffer(Dt)||(Dt=d.from(Dt)),Dt.copy(mt,xt)):a.prototype.set.call(mt,Dt,xt);else if(d.isBuffer(Dt))Dt.copy(mt,xt);else throw new TypeError('"list" argument must be an Array of Buffers');xt+=Dt.length}return mt};function M(q,R){if(d.isBuffer(q))return q.length;if(l.isView(q)||jt(q,l))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const P=q.length,nt=arguments.length>2&&arguments[2]===!0;if(!nt&&P===0)return 0;let mt=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return Mt(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return Ft(q).length;default:if(mt)return nt?-1:Mt(q).length;R=(""+R).toLowerCase(),mt=!0}}d.byteLength=M;function L(q,R,P){let nt=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,R>>>=0,P<=R))return"";for(q||(q="utf8");;)switch(q){case"hex":return Z(this,R,P);case"utf8":case"utf-8":return Q(this,R,P);case"ascii":return It(this,R,P);case"latin1":case"binary":return H(this,R,P);case"base64":return et(this,R,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,R,P);default:if(nt)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),nt=!0}}d.prototype._isBuffer=!0;function z(q,R,P){const nt=q[R];q[R]=q[P],q[P]=nt}d.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<R;P+=2)z(this,P,P+1);return this},d.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<R;P+=4)z(this,P,P+3),z(this,P+1,P+2);return this},d.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<R;P+=8)z(this,P,P+7),z(this,P+1,P+6),z(this,P+2,P+5),z(this,P+3,P+4);return this},d.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?Q(this,0,R):L.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(R){if(!d.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:d.compare(this,R)===0},d.prototype.inspect=function(){let R="";const P=r.INSPECT_MAX_BYTES;return R=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(R+=" ... "),"<Buffer "+R+">"},n&&(d.prototype[n]=d.prototype.inspect),d.prototype.compare=function(R,P,nt,mt,xt){if(jt(R,a)&&(R=d.from(R,R.offset,R.byteLength)),!d.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(P===void 0&&(P=0),nt===void 0&&(nt=R?R.length:0),mt===void 0&&(mt=0),xt===void 0&&(xt=this.length),P<0||nt>R.length||mt<0||xt>this.length)throw new RangeError("out of range index");if(mt>=xt&&P>=nt)return 0;if(mt>=xt)return-1;if(P>=nt)return 1;if(P>>>=0,nt>>>=0,mt>>>=0,xt>>>=0,this===R)return 0;let Dt=xt-mt,ee=nt-P;const Ce=Math.min(Dt,ee),Re=this.slice(mt,xt),Ee=R.slice(P,nt);for(let he=0;he<Ce;++he)if(Re[he]!==Ee[he]){Dt=Re[he],ee=Ee[he];break}return Dt<ee?-1:ee<Dt?1:0};function k(q,R,P,nt,mt){if(q.length===0)return-1;if(typeof P=="string"?(nt=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,Gt(P)&&(P=mt?0:q.length-1),P<0&&(P=q.length+P),P>=q.length){if(mt)return-1;P=q.length-1}else if(P<0)if(mt)P=0;else return-1;if(typeof R=="string"&&(R=d.from(R,nt)),d.isBuffer(R))return R.length===0?-1:rt(q,R,P,nt,mt);if(typeof R=="number")return R=R&255,typeof a.prototype.indexOf=="function"?mt?a.prototype.indexOf.call(q,R,P):a.prototype.lastIndexOf.call(q,R,P):rt(q,[R],P,nt,mt);throw new TypeError("val must be string, number or Buffer")}function rt(q,R,P,nt,mt){let xt=1,Dt=q.length,ee=R.length;if(nt!==void 0&&(nt=String(nt).toLowerCase(),nt==="ucs2"||nt==="ucs-2"||nt==="utf16le"||nt==="utf-16le")){if(q.length<2||R.length<2)return-1;xt=2,Dt/=2,ee/=2,P/=2}function Ce(Ee,he){return xt===1?Ee[he]:Ee.readUInt16BE(he*xt)}let Re;if(mt){let Ee=-1;for(Re=P;Re<Dt;Re++)if(Ce(q,Re)===Ce(R,Ee===-1?0:Re-Ee)){if(Ee===-1&&(Ee=Re),Re-Ee+1===ee)return Ee*xt}else Ee!==-1&&(Re-=Re-Ee),Ee=-1}else for(P+ee>Dt&&(P=Dt-ee),Re=P;Re>=0;Re--){let Ee=!0;for(let he=0;he<ee;he++)if(Ce(q,Re+he)!==Ce(R,he)){Ee=!1;break}if(Ee)return Re}return-1}d.prototype.includes=function(R,P,nt){return this.indexOf(R,P,nt)!==-1},d.prototype.indexOf=function(R,P,nt){return k(this,R,P,nt,!0)},d.prototype.lastIndexOf=function(R,P,nt){return k(this,R,P,nt,!1)};function ht(q,R,P,nt){P=Number(P)||0;const mt=q.length-P;nt?(nt=Number(nt),nt>mt&&(nt=mt)):nt=mt;const xt=R.length;nt>xt/2&&(nt=xt/2);let Dt;for(Dt=0;Dt<nt;++Dt){const ee=parseInt(R.substr(Dt*2,2),16);if(Gt(ee))return Dt;q[P+Dt]=ee}return Dt}function U(q,R,P,nt){return zt(Mt(R,q.length-P),q,P,nt)}function dt(q,R,P,nt){return zt(kt(R),q,P,nt)}function j(q,R,P,nt){return zt(Ft(R),q,P,nt)}function yt(q,R,P,nt){return zt(_t(R,q.length-P),q,P,nt)}d.prototype.write=function(R,P,nt,mt){if(P===void 0)mt="utf8",nt=this.length,P=0;else if(nt===void 0&&typeof P=="string")mt=P,nt=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(nt)?(nt=nt>>>0,mt===void 0&&(mt="utf8")):(mt=nt,nt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const xt=this.length-P;if((nt===void 0||nt>xt)&&(nt=xt),R.length>0&&(nt<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");mt||(mt="utf8");let Dt=!1;for(;;)switch(mt){case"hex":return ht(this,R,P,nt);case"utf8":case"utf-8":return U(this,R,P,nt);case"ascii":case"latin1":case"binary":return dt(this,R,P,nt);case"base64":return j(this,R,P,nt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,R,P,nt);default:if(Dt)throw new TypeError("Unknown encoding: "+mt);mt=(""+mt).toLowerCase(),Dt=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function et(q,R,P){return R===0&&P===q.length?t.fromByteArray(q):t.fromByteArray(q.slice(R,P))}function Q(q,R,P){P=Math.min(q.length,P);const nt=[];let mt=R;for(;mt<P;){const xt=q[mt];let Dt=null,ee=xt>239?4:xt>223?3:xt>191?2:1;if(mt+ee<=P){let Ce,Re,Ee,he;switch(ee){case 1:xt<128&&(Dt=xt);break;case 2:Ce=q[mt+1],(Ce&192)===128&&(he=(xt&31)<<6|Ce&63,he>127&&(Dt=he));break;case 3:Ce=q[mt+1],Re=q[mt+2],(Ce&192)===128&&(Re&192)===128&&(he=(xt&15)<<12|(Ce&63)<<6|Re&63,he>2047&&(he<55296||he>57343)&&(Dt=he));break;case 4:Ce=q[mt+1],Re=q[mt+2],Ee=q[mt+3],(Ce&192)===128&&(Re&192)===128&&(Ee&192)===128&&(he=(xt&15)<<18|(Ce&63)<<12|(Re&63)<<6|Ee&63,he>65535&&he<1114112&&(Dt=he))}}Dt===null?(Dt=65533,ee=1):Dt>65535&&(Dt-=65536,nt.push(Dt>>>10&1023|55296),Dt=56320|Dt&1023),nt.push(Dt),mt+=ee}return vt(nt)}const ft=4096;function vt(q){const R=q.length;if(R<=ft)return String.fromCharCode.apply(String,q);let P="",nt=0;for(;nt<R;)P+=String.fromCharCode.apply(String,q.slice(nt,nt+=ft));return P}function It(q,R,P){let nt="";P=Math.min(q.length,P);for(let mt=R;mt<P;++mt)nt+=String.fromCharCode(q[mt]&127);return nt}function H(q,R,P){let nt="";P=Math.min(q.length,P);for(let mt=R;mt<P;++mt)nt+=String.fromCharCode(q[mt]);return nt}function Z(q,R,P){const nt=q.length;(!R||R<0)&&(R=0),(!P||P<0||P>nt)&&(P=nt);let mt="";for(let xt=R;xt<P;++xt)mt+=oe[q[xt]];return mt}function K(q,R,P){const nt=q.slice(R,P);let mt="";for(let xt=0;xt<nt.length-1;xt+=2)mt+=String.fromCharCode(nt[xt]+nt[xt+1]*256);return mt}d.prototype.slice=function(R,P){const nt=this.length;R=~~R,P=P===void 0?nt:~~P,R<0?(R+=nt,R<0&&(R=0)):R>nt&&(R=nt),P<0?(P+=nt,P<0&&(P=0)):P>nt&&(P=nt),P<R&&(P=R);const mt=this.subarray(R,P);return Object.setPrototypeOf(mt,d.prototype),mt};function st(q,R,P){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+R>P)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(R,P,nt){R=R>>>0,P=P>>>0,nt||st(R,P,this.length);let mt=this[R],xt=1,Dt=0;for(;++Dt<P&&(xt*=256);)mt+=this[R+Dt]*xt;return mt},d.prototype.readUintBE=d.prototype.readUIntBE=function(R,P,nt){R=R>>>0,P=P>>>0,nt||st(R,P,this.length);let mt=this[R+--P],xt=1;for(;P>0&&(xt*=256);)mt+=this[R+--P]*xt;return mt},d.prototype.readUint8=d.prototype.readUInt8=function(R,P){return R=R>>>0,P||st(R,1,this.length),this[R]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(R,P){return R=R>>>0,P||st(R,2,this.length),this[R]|this[R+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(R,P){return R=R>>>0,P||st(R,2,this.length),this[R]<<8|this[R+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(R,P){return R=R>>>0,P||st(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(R,P){return R=R>>>0,P||st(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},d.prototype.readBigUInt64LE=Xt(function(R){R=R>>>0,gt(R,"offset");const P=this[R],nt=this[R+7];(P===void 0||nt===void 0)&&tt(R,this.length-8);const mt=P+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,xt=this[++R]+this[++R]*2**8+this[++R]*2**16+nt*2**24;return BigInt(mt)+(BigInt(xt)<<BigInt(32))}),d.prototype.readBigUInt64BE=Xt(function(R){R=R>>>0,gt(R,"offset");const P=this[R],nt=this[R+7];(P===void 0||nt===void 0)&&tt(R,this.length-8);const mt=P*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],xt=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+nt;return(BigInt(mt)<<BigInt(32))+BigInt(xt)}),d.prototype.readIntLE=function(R,P,nt){R=R>>>0,P=P>>>0,nt||st(R,P,this.length);let mt=this[R],xt=1,Dt=0;for(;++Dt<P&&(xt*=256);)mt+=this[R+Dt]*xt;return xt*=128,mt>=xt&&(mt-=Math.pow(2,8*P)),mt},d.prototype.readIntBE=function(R,P,nt){R=R>>>0,P=P>>>0,nt||st(R,P,this.length);let mt=P,xt=1,Dt=this[R+--mt];for(;mt>0&&(xt*=256);)Dt+=this[R+--mt]*xt;return xt*=128,Dt>=xt&&(Dt-=Math.pow(2,8*P)),Dt},d.prototype.readInt8=function(R,P){return R=R>>>0,P||st(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},d.prototype.readInt16LE=function(R,P){R=R>>>0,P||st(R,2,this.length);const nt=this[R]|this[R+1]<<8;return nt&32768?nt|4294901760:nt},d.prototype.readInt16BE=function(R,P){R=R>>>0,P||st(R,2,this.length);const nt=this[R+1]|this[R]<<8;return nt&32768?nt|4294901760:nt},d.prototype.readInt32LE=function(R,P){return R=R>>>0,P||st(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},d.prototype.readInt32BE=function(R,P){return R=R>>>0,P||st(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},d.prototype.readBigInt64LE=Xt(function(R){R=R>>>0,gt(R,"offset");const P=this[R],nt=this[R+7];(P===void 0||nt===void 0)&&tt(R,this.length-8);const mt=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(nt<<24);return(BigInt(mt)<<BigInt(32))+BigInt(P+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),d.prototype.readBigInt64BE=Xt(function(R){R=R>>>0,gt(R,"offset");const P=this[R],nt=this[R+7];(P===void 0||nt===void 0)&&tt(R,this.length-8);const mt=(P<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(mt)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+nt)}),d.prototype.readFloatLE=function(R,P){return R=R>>>0,P||st(R,4,this.length),e.read(this,R,!0,23,4)},d.prototype.readFloatBE=function(R,P){return R=R>>>0,P||st(R,4,this.length),e.read(this,R,!1,23,4)},d.prototype.readDoubleLE=function(R,P){return R=R>>>0,P||st(R,8,this.length),e.read(this,R,!0,52,8)},d.prototype.readDoubleBE=function(R,P){return R=R>>>0,P||st(R,8,this.length),e.read(this,R,!1,52,8)};function ut(q,R,P,nt,mt,xt){if(!d.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>mt||R<xt)throw new RangeError('"value" argument is out of bounds');if(P+nt>q.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(R,P,nt,mt){if(R=+R,P=P>>>0,nt=nt>>>0,!mt){const ee=Math.pow(2,8*nt)-1;ut(this,R,P,nt,ee,0)}let xt=1,Dt=0;for(this[P]=R&255;++Dt<nt&&(xt*=256);)this[P+Dt]=R/xt&255;return P+nt},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(R,P,nt,mt){if(R=+R,P=P>>>0,nt=nt>>>0,!mt){const ee=Math.pow(2,8*nt)-1;ut(this,R,P,nt,ee,0)}let xt=nt-1,Dt=1;for(this[P+xt]=R&255;--xt>=0&&(Dt*=256);)this[P+xt]=R/Dt&255;return P+nt},d.prototype.writeUint8=d.prototype.writeUInt8=function(R,P,nt){return R=+R,P=P>>>0,nt||ut(this,R,P,1,255,0),this[P]=R&255,P+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(R,P,nt){return R=+R,P=P>>>0,nt||ut(this,R,P,2,65535,0),this[P]=R&255,this[P+1]=R>>>8,P+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(R,P,nt){return R=+R,P=P>>>0,nt||ut(this,R,P,2,65535,0),this[P]=R>>>8,this[P+1]=R&255,P+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(R,P,nt){return R=+R,P=P>>>0,nt||ut(this,R,P,4,4294967295,0),this[P+3]=R>>>24,this[P+2]=R>>>16,this[P+1]=R>>>8,this[P]=R&255,P+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(R,P,nt){return R=+R,P=P>>>0,nt||ut(this,R,P,4,4294967295,0),this[P]=R>>>24,this[P+1]=R>>>16,this[P+2]=R>>>8,this[P+3]=R&255,P+4};function ct(q,R,P,nt,mt){At(R,nt,mt,q,P,7);let xt=Number(R&BigInt(4294967295));q[P++]=xt,xt=xt>>8,q[P++]=xt,xt=xt>>8,q[P++]=xt,xt=xt>>8,q[P++]=xt;let Dt=Number(R>>BigInt(32)&BigInt(4294967295));return q[P++]=Dt,Dt=Dt>>8,q[P++]=Dt,Dt=Dt>>8,q[P++]=Dt,Dt=Dt>>8,q[P++]=Dt,P}function N(q,R,P,nt,mt){At(R,nt,mt,q,P,7);let xt=Number(R&BigInt(4294967295));q[P+7]=xt,xt=xt>>8,q[P+6]=xt,xt=xt>>8,q[P+5]=xt,xt=xt>>8,q[P+4]=xt;let Dt=Number(R>>BigInt(32)&BigInt(4294967295));return q[P+3]=Dt,Dt=Dt>>8,q[P+2]=Dt,Dt=Dt>>8,q[P+1]=Dt,Dt=Dt>>8,q[P]=Dt,P+8}d.prototype.writeBigUInt64LE=Xt(function(R,P=0){return ct(this,R,P,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Xt(function(R,P=0){return N(this,R,P,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(R,P,nt,mt){if(R=+R,P=P>>>0,!mt){const Ce=Math.pow(2,8*nt-1);ut(this,R,P,nt,Ce-1,-Ce)}let xt=0,Dt=1,ee=0;for(this[P]=R&255;++xt<nt&&(Dt*=256);)R<0&&ee===0&&this[P+xt-1]!==0&&(ee=1),this[P+xt]=(R/Dt>>0)-ee&255;return P+nt},d.prototype.writeIntBE=function(R,P,nt,mt){if(R=+R,P=P>>>0,!mt){const Ce=Math.pow(2,8*nt-1);ut(this,R,P,nt,Ce-1,-Ce)}let xt=nt-1,Dt=1,ee=0;for(this[P+xt]=R&255;--xt>=0&&(Dt*=256);)R<0&&ee===0&&this[P+xt+1]!==0&&(ee=1),this[P+xt]=(R/Dt>>0)-ee&255;return P+nt},d.prototype.writeInt8=function(R,P,nt){return R=+R,P=P>>>0,nt||ut(this,R,P,1,127,-128),R<0&&(R=255+R+1),this[P]=R&255,P+1},d.prototype.writeInt16LE=function(R,P,nt){return R=+R,P=P>>>0,nt||ut(this,R,P,2,32767,-32768),this[P]=R&255,this[P+1]=R>>>8,P+2},d.prototype.writeInt16BE=function(R,P,nt){return R=+R,P=P>>>0,nt||ut(this,R,P,2,32767,-32768),this[P]=R>>>8,this[P+1]=R&255,P+2},d.prototype.writeInt32LE=function(R,P,nt){return R=+R,P=P>>>0,nt||ut(this,R,P,4,2147483647,-2147483648),this[P]=R&255,this[P+1]=R>>>8,this[P+2]=R>>>16,this[P+3]=R>>>24,P+4},d.prototype.writeInt32BE=function(R,P,nt){return R=+R,P=P>>>0,nt||ut(this,R,P,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[P]=R>>>24,this[P+1]=R>>>16,this[P+2]=R>>>8,this[P+3]=R&255,P+4},d.prototype.writeBigInt64LE=Xt(function(R,P=0){return ct(this,R,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Xt(function(R,P=0){return N(this,R,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function D(q,R,P,nt,mt,xt){if(P+nt>q.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function ot(q,R,P,nt,mt){return R=+R,P=P>>>0,mt||D(q,R,P,4),e.write(q,R,P,nt,23,4),P+4}d.prototype.writeFloatLE=function(R,P,nt){return ot(this,R,P,!0,nt)},d.prototype.writeFloatBE=function(R,P,nt){return ot(this,R,P,!1,nt)};function J(q,R,P,nt,mt){return R=+R,P=P>>>0,mt||D(q,R,P,8),e.write(q,R,P,nt,52,8),P+8}d.prototype.writeDoubleLE=function(R,P,nt){return J(this,R,P,!0,nt)},d.prototype.writeDoubleBE=function(R,P,nt){return J(this,R,P,!1,nt)},d.prototype.copy=function(R,P,nt,mt){if(!d.isBuffer(R))throw new TypeError("argument should be a Buffer");if(nt||(nt=0),!mt&&mt!==0&&(mt=this.length),P>=R.length&&(P=R.length),P||(P=0),mt>0&&mt<nt&&(mt=nt),mt===nt||R.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(nt<0||nt>=this.length)throw new RangeError("Index out of range");if(mt<0)throw new RangeError("sourceEnd out of bounds");mt>this.length&&(mt=this.length),R.length-P<mt-nt&&(mt=R.length-P+nt);const xt=mt-nt;return this===R&&typeof a.prototype.copyWithin=="function"?this.copyWithin(P,nt,mt):a.prototype.set.call(R,this.subarray(nt,mt),P),xt},d.prototype.fill=function(R,P,nt,mt){if(typeof R=="string"){if(typeof P=="string"?(mt=P,P=0,nt=this.length):typeof nt=="string"&&(mt=nt,nt=this.length),mt!==void 0&&typeof mt!="string")throw new TypeError("encoding must be a string");if(typeof mt=="string"&&!d.isEncoding(mt))throw new TypeError("Unknown encoding: "+mt);if(R.length===1){const Dt=R.charCodeAt(0);(mt==="utf8"&&Dt<128||mt==="latin1")&&(R=Dt)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(P<0||this.length<P||this.length<nt)throw new RangeError("Out of range index");if(nt<=P)return this;P=P>>>0,nt=nt===void 0?this.length:nt>>>0,R||(R=0);let xt;if(typeof R=="number")for(xt=P;xt<nt;++xt)this[xt]=R;else{const Dt=d.isBuffer(R)?R:d.from(R,mt),ee=Dt.length;if(ee===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(xt=0;xt<nt-P;++xt)this[xt+P]=Dt[xt%ee]}return this};const G={};function W(q,R,P){G[q]=class extends P{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${q}]`,this.stack,delete this.name}get code(){return q}set code(mt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:mt,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}W("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(q,R){return`The "${q}" argument must be of type number. Received type ${typeof R}`},TypeError),W("ERR_OUT_OF_RANGE",function(q,R,P){let nt=`The value of "${q}" is out of range.`,mt=P;return Number.isInteger(P)&&Math.abs(P)>2**32?mt=St(String(P)):typeof P=="bigint"&&(mt=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(mt=St(mt)),mt+="n"),nt+=` It must be ${R}. Received ${mt}`,nt},RangeError);function St(q){let R="",P=q.length;const nt=q[0]==="-"?1:0;for(;P>=nt+4;P-=3)R=`_${q.slice(P-3,P)}${R}`;return`${q.slice(0,P)}${R}`}function I(q,R,P){gt(R,"offset"),(q[R]===void 0||q[R+P]===void 0)&&tt(R,q.length-(P+1))}function At(q,R,P,nt,mt,xt){if(q>P||q<R){const Dt=typeof R=="bigint"?"n":"";let ee;throw R===0||R===BigInt(0)?ee=`>= 0${Dt} and < 2${Dt} ** ${(xt+1)*8}${Dt}`:ee=`>= -(2${Dt} ** ${(xt+1)*8-1}${Dt}) and < 2 ** ${(xt+1)*8-1}${Dt}`,new G.ERR_OUT_OF_RANGE("value",ee,q)}I(nt,mt,xt)}function gt(q,R){if(typeof q!="number")throw new G.ERR_INVALID_ARG_TYPE(R,"number",q)}function tt(q,R,P){throw Math.floor(q)!==q?(gt(q,P),new G.ERR_OUT_OF_RANGE("offset","an integer",q)):R<0?new G.ERR_BUFFER_OUT_OF_BOUNDS:new G.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,q)}const at=/[^+/0-9A-Za-z-_]/g;function it(q){if(q=q.split("=")[0],q=q.trim().replace(at,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function Mt(q,R){R=R||1/0;let P;const nt=q.length;let mt=null;const xt=[];for(let Dt=0;Dt<nt;++Dt){if(P=q.charCodeAt(Dt),P>55295&&P<57344){if(!mt){if(P>56319){(R-=3)>-1&&xt.push(239,191,189);continue}else if(Dt+1===nt){(R-=3)>-1&&xt.push(239,191,189);continue}mt=P;continue}if(P<56320){(R-=3)>-1&&xt.push(239,191,189),mt=P;continue}P=(mt-55296<<10|P-56320)+65536}else mt&&(R-=3)>-1&&xt.push(239,191,189);if(mt=null,P<128){if((R-=1)<0)break;xt.push(P)}else if(P<2048){if((R-=2)<0)break;xt.push(P>>6|192,P&63|128)}else if(P<65536){if((R-=3)<0)break;xt.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((R-=4)<0)break;xt.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return xt}function kt(q){const R=[];for(let P=0;P<q.length;++P)R.push(q.charCodeAt(P)&255);return R}function _t(q,R){let P,nt,mt;const xt=[];for(let Dt=0;Dt<q.length&&!((R-=2)<0);++Dt)P=q.charCodeAt(Dt),nt=P>>8,mt=P%256,xt.push(mt),xt.push(nt);return xt}function Ft(q){return t.toByteArray(it(q))}function zt(q,R,P,nt){let mt;for(mt=0;mt<nt&&!(mt+P>=R.length||mt>=q.length);++mt)R[mt+P]=q[mt];return mt}function jt(q,R){return q instanceof R||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===R.name}function Gt(q){return q!==q}const oe=(function(){const q="0123456789abcdef",R=new Array(256);for(let P=0;P<16;++P){const nt=P*16;for(let mt=0;mt<16;++mt)R[nt+mt]=q[P]+q[mt]}return R})();function Xt(q){return typeof BigInt>"u"?$e:q}function $e(){throw new Error("BigInt not supported")}})(IS);const In=IS.Buffer;var pp={},Eu={exports:{}},rw;function $s(){return rw||(rw=1,typeof Object.create=="function"?Eu.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Eu.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}),Eu.exports}var mp,sw;function LS(){return sw||(sw=1,mp=bh().EventEmitter),mp}var gp={},aw;function wh(){return aw||(aw=1,(function(r){Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var t={},e={};e.byteLength=d,e.toByteArray=g,e.fromByteArray=b;for(var n=[],s=[],a=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,h=l.length;c<h;++c)n[c]=l[c],s[l.charCodeAt(c)]=c;s[45]=62,s[95]=63;function f(S){var x=S.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=S.indexOf("=");T===-1&&(T=x);var C=T===x?0:4-T%4;return[T,C]}function d(S){var x=f(S),T=x[0],C=x[1];return(T+C)*3/4-C}function p(S,x,T){return(x+T)*3/4-T}function g(S){var x,T=f(S),C=T[0],M=T[1],L=new a(p(S,C,M)),z=0,k=M>0?C-4:C,rt;for(rt=0;rt<k;rt+=4)x=s[S.charCodeAt(rt)]<<18|s[S.charCodeAt(rt+1)]<<12|s[S.charCodeAt(rt+2)]<<6|s[S.charCodeAt(rt+3)],L[z++]=x>>16&255,L[z++]=x>>8&255,L[z++]=x&255;return M===2&&(x=s[S.charCodeAt(rt)]<<2|s[S.charCodeAt(rt+1)]>>4,L[z++]=x&255),M===1&&(x=s[S.charCodeAt(rt)]<<10|s[S.charCodeAt(rt+1)]<<4|s[S.charCodeAt(rt+2)]>>2,L[z++]=x>>8&255,L[z++]=x&255),L}function y(S){return n[S>>18&63]+n[S>>12&63]+n[S>>6&63]+n[S&63]}function E(S,x,T){for(var C,M=[],L=x;L<T;L+=3)C=(S[L]<<16&16711680)+(S[L+1]<<8&65280)+(S[L+2]&255),M.push(y(C));return M.join("")}function b(S){for(var x,T=S.length,C=T%3,M=[],L=16383,z=0,k=T-C;z<k;z+=L)M.push(E(S,z,z+L>k?k:z+L));return C===1?(x=S[T-1],M.push(n[x>>2]+n[x<<4&63]+"==")):C===2&&(x=(S[T-2]<<8)+S[T-1],M.push(n[x>>10]+n[x>>4&63]+n[x<<2&63]+"=")),M.join("")}var _={};_.read=function(S,x,T,C,M){var L,z,k=M*8-C-1,rt=(1<<k)-1,ht=rt>>1,U=-7,dt=T?M-1:0,j=T?-1:1,yt=S[x+dt];for(dt+=j,L=yt&(1<<-U)-1,yt>>=-U,U+=k;U>0;L=L*256+S[x+dt],dt+=j,U-=8);for(z=L&(1<<-U)-1,L>>=-U,U+=C;U>0;z=z*256+S[x+dt],dt+=j,U-=8);if(L===0)L=1-ht;else{if(L===rt)return z?NaN:(yt?-1:1)*(1/0);z=z+Math.pow(2,C),L=L-ht}return(yt?-1:1)*z*Math.pow(2,L-C)},_.write=function(S,x,T,C,M,L){var z,k,rt,ht=L*8-M-1,U=(1<<ht)-1,dt=U>>1,j=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,yt=C?0:L-1,et=C?1:-1,Q=x<0||x===0&&1/x<0?1:0;for(x=Math.abs(x),isNaN(x)||x===1/0?(k=isNaN(x)?1:0,z=U):(z=Math.floor(Math.log(x)/Math.LN2),x*(rt=Math.pow(2,-z))<1&&(z--,rt*=2),z+dt>=1?x+=j/rt:x+=j*Math.pow(2,1-dt),x*rt>=2&&(z++,rt/=2),z+dt>=U?(k=0,z=U):z+dt>=1?(k=(x*rt-1)*Math.pow(2,M),z=z+dt):(k=x*Math.pow(2,dt-1)*Math.pow(2,M),z=0));M>=8;S[T+yt]=k&255,yt+=et,k/=256,M-=8);for(z=z<<M|k,ht+=M;ht>0;S[T+yt]=z&255,yt+=et,z/=256,ht-=8);S[T+yt-et]|=Q*128};(function(S){const x=e,T=_,C=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;S.Buffer=U,S.SlowBuffer=K,S.INSPECT_MAX_BYTES=50;const M=2147483647;S.kMaxLength=M;const{Uint8Array:L,ArrayBuffer:z,SharedArrayBuffer:k}=globalThis;U.TYPED_ARRAY_SUPPORT=rt(),!U.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function rt(){try{const $=new L(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,L.prototype),Object.setPrototypeOf($,O),$.foo()===42}catch{return!1}}Object.defineProperty(U.prototype,"parent",{enumerable:!0,get:function(){if(U.isBuffer(this))return this.buffer}}),Object.defineProperty(U.prototype,"offset",{enumerable:!0,get:function(){if(U.isBuffer(this))return this.byteOffset}});function ht($){if($>M)throw new RangeError('The value "'+$+'" is invalid for option "size"');const O=new L($);return Object.setPrototypeOf(O,U.prototype),O}function U($,O,B){if(typeof $=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return et($)}return dt($,O,B)}U.poolSize=8192;function dt($,O,B){if(typeof $=="string")return Q($,O);if(z.isView($))return vt($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(We($,z)||$&&We($.buffer,z)||typeof k<"u"&&(We($,k)||$&&We($.buffer,k)))return It($,O,B);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const lt=$.valueOf&&$.valueOf();if(lt!=null&&lt!==$)return U.from(lt,O,B);const wt=H($);if(wt)return wt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return U.from($[Symbol.toPrimitive]("string"),O,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}U.from=function($,O,B){return dt($,O,B)},Object.setPrototypeOf(U.prototype,L.prototype),Object.setPrototypeOf(U,L);function j($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function yt($,O,B){return j($),$<=0?ht($):O!==void 0?typeof B=="string"?ht($).fill(O,B):ht($).fill(O):ht($)}U.alloc=function($,O,B){return yt($,O,B)};function et($){return j($),ht($<0?0:Z($)|0)}U.allocUnsafe=function($){return et($)},U.allocUnsafeSlow=function($){return et($)};function Q($,O){if((typeof O!="string"||O==="")&&(O="utf8"),!U.isEncoding(O))throw new TypeError("Unknown encoding: "+O);const B=st($,O)|0;let lt=ht(B);const wt=lt.write($,O);return wt!==B&&(lt=lt.slice(0,wt)),lt}function ft($){const O=$.length<0?0:Z($.length)|0,B=ht(O);for(let lt=0;lt<O;lt+=1)B[lt]=$[lt]&255;return B}function vt($){if(We($,L)){const O=new L($);return It(O.buffer,O.byteOffset,O.byteLength)}return ft($)}function It($,O,B){if(O<0||$.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<O+(B||0))throw new RangeError('"length" is outside of buffer bounds');let lt;return O===void 0&&B===void 0?lt=new L($):B===void 0?lt=new L($,O):lt=new L($,O,B),Object.setPrototypeOf(lt,U.prototype),lt}function H($){if(U.isBuffer($)){const O=Z($.length)|0,B=ht(O);return B.length===0||$.copy(B,0,0,O),B}if($.length!==void 0)return typeof $.length!="number"||Pr($.length)?ht(0):ft($);if($.type==="Buffer"&&Array.isArray($.data))return ft($.data)}function Z($){if($>=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M.toString(16)+" bytes");return $|0}function K($){return+$!=$&&($=0),U.alloc(+$)}U.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==U.prototype},U.compare=function(O,B){if(We(O,L)&&(O=U.from(O,O.offset,O.byteLength)),We(B,L)&&(B=U.from(B,B.offset,B.byteLength)),!U.isBuffer(O)||!U.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===B)return 0;let lt=O.length,wt=B.length;for(let Ot=0,Bt=Math.min(lt,wt);Ot<Bt;++Ot)if(O[Ot]!==B[Ot]){lt=O[Ot],wt=B[Ot];break}return lt<wt?-1:wt<lt?1:0},U.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},U.concat=function(O,B){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return U.alloc(0);let lt;if(B===void 0)for(B=0,lt=0;lt<O.length;++lt)B+=O[lt].length;const wt=U.allocUnsafe(B);let Ot=0;for(lt=0;lt<O.length;++lt){let Bt=O[lt];if(We(Bt,L))Ot+Bt.length>wt.length?(U.isBuffer(Bt)||(Bt=U.from(Bt)),Bt.copy(wt,Ot)):L.prototype.set.call(wt,Bt,Ot);else if(U.isBuffer(Bt))Bt.copy(wt,Ot);else throw new TypeError('"list" argument must be an Array of Buffers');Ot+=Bt.length}return wt};function st($,O){if(U.isBuffer($))return $.length;if(z.isView($)||We($,z))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const B=$.length,lt=arguments.length>2&&arguments[2]===!0;if(!lt&&B===0)return 0;let wt=!1;for(;;)switch(O){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return Ce($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return he($).length;default:if(wt)return lt?-1:Ce($).length;O=(""+O).toLowerCase(),wt=!0}}U.byteLength=st;function ut($,O,B){let lt=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,O>>>=0,B<=O))return"";for($||($="utf8");;)switch($){case"hex":return Mt(this,O,B);case"utf8":case"utf-8":return At(this,O,B);case"ascii":return at(this,O,B);case"latin1":case"binary":return it(this,O,B);case"base64":return I(this,O,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kt(this,O,B);default:if(lt)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),lt=!0}}U.prototype._isBuffer=!0;function ct($,O,B){const lt=$[O];$[O]=$[B],$[B]=lt}U.prototype.swap16=function(){const O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<O;B+=2)ct(this,B,B+1);return this},U.prototype.swap32=function(){const O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<O;B+=4)ct(this,B,B+3),ct(this,B+1,B+2);return this},U.prototype.swap64=function(){const O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<O;B+=8)ct(this,B,B+7),ct(this,B+1,B+6),ct(this,B+2,B+5),ct(this,B+3,B+4);return this},U.prototype.toString=function(){const O=this.length;return O===0?"":arguments.length===0?At(this,0,O):ut.apply(this,arguments)},U.prototype.toLocaleString=U.prototype.toString,U.prototype.equals=function(O){if(!U.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:U.compare(this,O)===0},U.prototype.inspect=function(){let O="";const B=S.INSPECT_MAX_BYTES;return O=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(O+=" ... "),"<Buffer "+O+">"},C&&(U.prototype[C]=U.prototype.inspect),U.prototype.compare=function(O,B,lt,wt,Ot){if(We(O,L)&&(O=U.from(O,O.offset,O.byteLength)),!U.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(B===void 0&&(B=0),lt===void 0&&(lt=O?O.length:0),wt===void 0&&(wt=0),Ot===void 0&&(Ot=this.length),B<0||lt>O.length||wt<0||Ot>this.length)throw new RangeError("out of range index");if(wt>=Ot&&B>=lt)return 0;if(wt>=Ot)return-1;if(B>=lt)return 1;if(B>>>=0,lt>>>=0,wt>>>=0,Ot>>>=0,this===O)return 0;let Bt=Ot-wt,le=lt-B;const Fe=Math.min(Bt,le),ke=this.slice(wt,Ot),Ae=O.slice(B,lt);for(let te=0;te<Fe;++te)if(ke[te]!==Ae[te]){Bt=ke[te],le=Ae[te];break}return Bt<le?-1:le<Bt?1:0};function N($,O,B,lt,wt){if($.length===0)return-1;if(typeof B=="string"?(lt=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,Pr(B)&&(B=wt?0:$.length-1),B<0&&(B=$.length+B),B>=$.length){if(wt)return-1;B=$.length-1}else if(B<0)if(wt)B=0;else return-1;if(typeof O=="string"&&(O=U.from(O,lt)),U.isBuffer(O))return O.length===0?-1:D($,O,B,lt,wt);if(typeof O=="number")return O=O&255,typeof L.prototype.indexOf=="function"?wt?L.prototype.indexOf.call($,O,B):L.prototype.lastIndexOf.call($,O,B):D($,[O],B,lt,wt);throw new TypeError("val must be string, number or Buffer")}function D($,O,B,lt,wt){let Ot=1,Bt=$.length,le=O.length;if(lt!==void 0&&(lt=String(lt).toLowerCase(),lt==="ucs2"||lt==="ucs-2"||lt==="utf16le"||lt==="utf-16le")){if($.length<2||O.length<2)return-1;Ot=2,Bt/=2,le/=2,B/=2}function Fe(Ae,te){return Ot===1?Ae[te]:Ae.readUInt16BE(te*Ot)}let ke;if(wt){let Ae=-1;for(ke=B;ke<Bt;ke++)if(Fe($,ke)===Fe(O,Ae===-1?0:ke-Ae)){if(Ae===-1&&(Ae=ke),ke-Ae+1===le)return Ae*Ot}else Ae!==-1&&(ke-=ke-Ae),Ae=-1}else for(B+le>Bt&&(B=Bt-le),ke=B;ke>=0;ke--){let Ae=!0;for(let te=0;te<le;te++)if(Fe($,ke+te)!==Fe(O,te)){Ae=!1;break}if(Ae)return ke}return-1}U.prototype.includes=function(O,B,lt){return this.indexOf(O,B,lt)!==-1},U.prototype.indexOf=function(O,B,lt){return N(this,O,B,lt,!0)},U.prototype.lastIndexOf=function(O,B,lt){return N(this,O,B,lt,!1)};function ot($,O,B,lt){B=Number(B)||0;const wt=$.length-B;lt?(lt=Number(lt),lt>wt&&(lt=wt)):lt=wt;const Ot=O.length;lt>Ot/2&&(lt=Ot/2);let Bt;for(Bt=0;Bt<lt;++Bt){const le=parseInt(O.substr(Bt*2,2),16);if(Pr(le))return Bt;$[B+Bt]=le}return Bt}function J($,O,B,lt){return Ln(Ce(O,$.length-B),$,B,lt)}function G($,O,B,lt){return Ln(Re(O),$,B,lt)}function W($,O,B,lt){return Ln(he(O),$,B,lt)}function St($,O,B,lt){return Ln(Ee(O,$.length-B),$,B,lt)}U.prototype.write=function(O,B,lt,wt){if(B===void 0)wt="utf8",lt=this.length,B=0;else if(lt===void 0&&typeof B=="string")wt=B,lt=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(lt)?(lt=lt>>>0,wt===void 0&&(wt="utf8")):(wt=lt,lt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ot=this.length-B;if((lt===void 0||lt>Ot)&&(lt=Ot),O.length>0&&(lt<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");wt||(wt="utf8");let Bt=!1;for(;;)switch(wt){case"hex":return ot(this,O,B,lt);case"utf8":case"utf-8":return J(this,O,B,lt);case"ascii":case"latin1":case"binary":return G(this,O,B,lt);case"base64":return W(this,O,B,lt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return St(this,O,B,lt);default:if(Bt)throw new TypeError("Unknown encoding: "+wt);wt=(""+wt).toLowerCase(),Bt=!0}},U.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I($,O,B){return O===0&&B===$.length?x.fromByteArray($):x.fromByteArray($.slice(O,B))}function At($,O,B){B=Math.min($.length,B);const lt=[];let wt=O;for(;wt<B;){const Ot=$[wt];let Bt=null,le=Ot>239?4:Ot>223?3:Ot>191?2:1;if(wt+le<=B){let Fe,ke,Ae,te;switch(le){case 1:Ot<128&&(Bt=Ot);break;case 2:Fe=$[wt+1],(Fe&192)===128&&(te=(Ot&31)<<6|Fe&63,te>127&&(Bt=te));break;case 3:Fe=$[wt+1],ke=$[wt+2],(Fe&192)===128&&(ke&192)===128&&(te=(Ot&15)<<12|(Fe&63)<<6|ke&63,te>2047&&(te<55296||te>57343)&&(Bt=te));break;case 4:Fe=$[wt+1],ke=$[wt+2],Ae=$[wt+3],(Fe&192)===128&&(ke&192)===128&&(Ae&192)===128&&(te=(Ot&15)<<18|(Fe&63)<<12|(ke&63)<<6|Ae&63,te>65535&&te<1114112&&(Bt=te))}}Bt===null?(Bt=65533,le=1):Bt>65535&&(Bt-=65536,lt.push(Bt>>>10&1023|55296),Bt=56320|Bt&1023),lt.push(Bt),wt+=le}return tt(lt)}const gt=4096;function tt($){const O=$.length;if(O<=gt)return String.fromCharCode.apply(String,$);let B="",lt=0;for(;lt<O;)B+=String.fromCharCode.apply(String,$.slice(lt,lt+=gt));return B}function at($,O,B){let lt="";B=Math.min($.length,B);for(let wt=O;wt<B;++wt)lt+=String.fromCharCode($[wt]&127);return lt}function it($,O,B){let lt="";B=Math.min($.length,B);for(let wt=O;wt<B;++wt)lt+=String.fromCharCode($[wt]);return lt}function Mt($,O,B){const lt=$.length;(!O||O<0)&&(O=0),(!B||B<0||B>lt)&&(B=lt);let wt="";for(let Ot=O;Ot<B;++Ot)wt+=ys[$[Ot]];return wt}function kt($,O,B){const lt=$.slice(O,B);let wt="";for(let Ot=0;Ot<lt.length-1;Ot+=2)wt+=String.fromCharCode(lt[Ot]+lt[Ot+1]*256);return wt}U.prototype.slice=function(O,B){const lt=this.length;O=~~O,B=B===void 0?lt:~~B,O<0?(O+=lt,O<0&&(O=0)):O>lt&&(O=lt),B<0?(B+=lt,B<0&&(B=0)):B>lt&&(B=lt),B<O&&(B=O);const wt=this.subarray(O,B);return Object.setPrototypeOf(wt,U.prototype),wt};function _t($,O,B){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+O>B)throw new RangeError("Trying to access beyond buffer length")}U.prototype.readUintLE=U.prototype.readUIntLE=function(O,B,lt){O=O>>>0,B=B>>>0,lt||_t(O,B,this.length);let wt=this[O],Ot=1,Bt=0;for(;++Bt<B&&(Ot*=256);)wt+=this[O+Bt]*Ot;return wt},U.prototype.readUintBE=U.prototype.readUIntBE=function(O,B,lt){O=O>>>0,B=B>>>0,lt||_t(O,B,this.length);let wt=this[O+--B],Ot=1;for(;B>0&&(Ot*=256);)wt+=this[O+--B]*Ot;return wt},U.prototype.readUint8=U.prototype.readUInt8=function(O,B){return O=O>>>0,B||_t(O,1,this.length),this[O]},U.prototype.readUint16LE=U.prototype.readUInt16LE=function(O,B){return O=O>>>0,B||_t(O,2,this.length),this[O]|this[O+1]<<8},U.prototype.readUint16BE=U.prototype.readUInt16BE=function(O,B){return O=O>>>0,B||_t(O,2,this.length),this[O]<<8|this[O+1]},U.prototype.readUint32LE=U.prototype.readUInt32LE=function(O,B){return O=O>>>0,B||_t(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},U.prototype.readUint32BE=U.prototype.readUInt32BE=function(O,B){return O=O>>>0,B||_t(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},U.prototype.readBigUInt64LE=Fi(function(O){O=O>>>0,mt(O,"offset");const B=this[O],lt=this[O+7];(B===void 0||lt===void 0)&&xt(O,this.length-8);const wt=B+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24,Ot=this[++O]+this[++O]*2**8+this[++O]*2**16+lt*2**24;return BigInt(wt)+(BigInt(Ot)<<BigInt(32))}),U.prototype.readBigUInt64BE=Fi(function(O){O=O>>>0,mt(O,"offset");const B=this[O],lt=this[O+7];(B===void 0||lt===void 0)&&xt(O,this.length-8);const wt=B*2**24+this[++O]*2**16+this[++O]*2**8+this[++O],Ot=this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+lt;return(BigInt(wt)<<BigInt(32))+BigInt(Ot)}),U.prototype.readIntLE=function(O,B,lt){O=O>>>0,B=B>>>0,lt||_t(O,B,this.length);let wt=this[O],Ot=1,Bt=0;for(;++Bt<B&&(Ot*=256);)wt+=this[O+Bt]*Ot;return Ot*=128,wt>=Ot&&(wt-=Math.pow(2,8*B)),wt},U.prototype.readIntBE=function(O,B,lt){O=O>>>0,B=B>>>0,lt||_t(O,B,this.length);let wt=B,Ot=1,Bt=this[O+--wt];for(;wt>0&&(Ot*=256);)Bt+=this[O+--wt]*Ot;return Ot*=128,Bt>=Ot&&(Bt-=Math.pow(2,8*B)),Bt},U.prototype.readInt8=function(O,B){return O=O>>>0,B||_t(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},U.prototype.readInt16LE=function(O,B){O=O>>>0,B||_t(O,2,this.length);const lt=this[O]|this[O+1]<<8;return lt&32768?lt|4294901760:lt},U.prototype.readInt16BE=function(O,B){O=O>>>0,B||_t(O,2,this.length);const lt=this[O+1]|this[O]<<8;return lt&32768?lt|4294901760:lt},U.prototype.readInt32LE=function(O,B){return O=O>>>0,B||_t(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},U.prototype.readInt32BE=function(O,B){return O=O>>>0,B||_t(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},U.prototype.readBigInt64LE=Fi(function(O){O=O>>>0,mt(O,"offset");const B=this[O],lt=this[O+7];(B===void 0||lt===void 0)&&xt(O,this.length-8);const wt=this[O+4]+this[O+5]*2**8+this[O+6]*2**16+(lt<<24);return(BigInt(wt)<<BigInt(32))+BigInt(B+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24)}),U.prototype.readBigInt64BE=Fi(function(O){O=O>>>0,mt(O,"offset");const B=this[O],lt=this[O+7];(B===void 0||lt===void 0)&&xt(O,this.length-8);const wt=(B<<24)+this[++O]*2**16+this[++O]*2**8+this[++O];return(BigInt(wt)<<BigInt(32))+BigInt(this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+lt)}),U.prototype.readFloatLE=function(O,B){return O=O>>>0,B||_t(O,4,this.length),T.read(this,O,!0,23,4)},U.prototype.readFloatBE=function(O,B){return O=O>>>0,B||_t(O,4,this.length),T.read(this,O,!1,23,4)},U.prototype.readDoubleLE=function(O,B){return O=O>>>0,B||_t(O,8,this.length),T.read(this,O,!0,52,8)},U.prototype.readDoubleBE=function(O,B){return O=O>>>0,B||_t(O,8,this.length),T.read(this,O,!1,52,8)};function Ft($,O,B,lt,wt,Ot){if(!U.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>wt||O<Ot)throw new RangeError('"value" argument is out of bounds');if(B+lt>$.length)throw new RangeError("Index out of range")}U.prototype.writeUintLE=U.prototype.writeUIntLE=function(O,B,lt,wt){if(O=+O,B=B>>>0,lt=lt>>>0,!wt){const le=Math.pow(2,8*lt)-1;Ft(this,O,B,lt,le,0)}let Ot=1,Bt=0;for(this[B]=O&255;++Bt<lt&&(Ot*=256);)this[B+Bt]=O/Ot&255;return B+lt},U.prototype.writeUintBE=U.prototype.writeUIntBE=function(O,B,lt,wt){if(O=+O,B=B>>>0,lt=lt>>>0,!wt){const le=Math.pow(2,8*lt)-1;Ft(this,O,B,lt,le,0)}let Ot=lt-1,Bt=1;for(this[B+Ot]=O&255;--Ot>=0&&(Bt*=256);)this[B+Ot]=O/Bt&255;return B+lt},U.prototype.writeUint8=U.prototype.writeUInt8=function(O,B,lt){return O=+O,B=B>>>0,lt||Ft(this,O,B,1,255,0),this[B]=O&255,B+1},U.prototype.writeUint16LE=U.prototype.writeUInt16LE=function(O,B,lt){return O=+O,B=B>>>0,lt||Ft(this,O,B,2,65535,0),this[B]=O&255,this[B+1]=O>>>8,B+2},U.prototype.writeUint16BE=U.prototype.writeUInt16BE=function(O,B,lt){return O=+O,B=B>>>0,lt||Ft(this,O,B,2,65535,0),this[B]=O>>>8,this[B+1]=O&255,B+2},U.prototype.writeUint32LE=U.prototype.writeUInt32LE=function(O,B,lt){return O=+O,B=B>>>0,lt||Ft(this,O,B,4,4294967295,0),this[B+3]=O>>>24,this[B+2]=O>>>16,this[B+1]=O>>>8,this[B]=O&255,B+4},U.prototype.writeUint32BE=U.prototype.writeUInt32BE=function(O,B,lt){return O=+O,B=B>>>0,lt||Ft(this,O,B,4,4294967295,0),this[B]=O>>>24,this[B+1]=O>>>16,this[B+2]=O>>>8,this[B+3]=O&255,B+4};function zt($,O,B,lt,wt){nt(O,lt,wt,$,B,7);let Ot=Number(O&BigInt(4294967295));$[B++]=Ot,Ot=Ot>>8,$[B++]=Ot,Ot=Ot>>8,$[B++]=Ot,Ot=Ot>>8,$[B++]=Ot;let Bt=Number(O>>BigInt(32)&BigInt(4294967295));return $[B++]=Bt,Bt=Bt>>8,$[B++]=Bt,Bt=Bt>>8,$[B++]=Bt,Bt=Bt>>8,$[B++]=Bt,B}function jt($,O,B,lt,wt){nt(O,lt,wt,$,B,7);let Ot=Number(O&BigInt(4294967295));$[B+7]=Ot,Ot=Ot>>8,$[B+6]=Ot,Ot=Ot>>8,$[B+5]=Ot,Ot=Ot>>8,$[B+4]=Ot;let Bt=Number(O>>BigInt(32)&BigInt(4294967295));return $[B+3]=Bt,Bt=Bt>>8,$[B+2]=Bt,Bt=Bt>>8,$[B+1]=Bt,Bt=Bt>>8,$[B]=Bt,B+8}U.prototype.writeBigUInt64LE=Fi(function(O,B=0){return zt(this,O,B,BigInt(0),BigInt("0xffffffffffffffff"))}),U.prototype.writeBigUInt64BE=Fi(function(O,B=0){return jt(this,O,B,BigInt(0),BigInt("0xffffffffffffffff"))}),U.prototype.writeIntLE=function(O,B,lt,wt){if(O=+O,B=B>>>0,!wt){const Fe=Math.pow(2,8*lt-1);Ft(this,O,B,lt,Fe-1,-Fe)}let Ot=0,Bt=1,le=0;for(this[B]=O&255;++Ot<lt&&(Bt*=256);)O<0&&le===0&&this[B+Ot-1]!==0&&(le=1),this[B+Ot]=(O/Bt>>0)-le&255;return B+lt},U.prototype.writeIntBE=function(O,B,lt,wt){if(O=+O,B=B>>>0,!wt){const Fe=Math.pow(2,8*lt-1);Ft(this,O,B,lt,Fe-1,-Fe)}let Ot=lt-1,Bt=1,le=0;for(this[B+Ot]=O&255;--Ot>=0&&(Bt*=256);)O<0&&le===0&&this[B+Ot+1]!==0&&(le=1),this[B+Ot]=(O/Bt>>0)-le&255;return B+lt},U.prototype.writeInt8=function(O,B,lt){return O=+O,B=B>>>0,lt||Ft(this,O,B,1,127,-128),O<0&&(O=255+O+1),this[B]=O&255,B+1},U.prototype.writeInt16LE=function(O,B,lt){return O=+O,B=B>>>0,lt||Ft(this,O,B,2,32767,-32768),this[B]=O&255,this[B+1]=O>>>8,B+2},U.prototype.writeInt16BE=function(O,B,lt){return O=+O,B=B>>>0,lt||Ft(this,O,B,2,32767,-32768),this[B]=O>>>8,this[B+1]=O&255,B+2},U.prototype.writeInt32LE=function(O,B,lt){return O=+O,B=B>>>0,lt||Ft(this,O,B,4,2147483647,-2147483648),this[B]=O&255,this[B+1]=O>>>8,this[B+2]=O>>>16,this[B+3]=O>>>24,B+4},U.prototype.writeInt32BE=function(O,B,lt){return O=+O,B=B>>>0,lt||Ft(this,O,B,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[B]=O>>>24,this[B+1]=O>>>16,this[B+2]=O>>>8,this[B+3]=O&255,B+4},U.prototype.writeBigInt64LE=Fi(function(O,B=0){return zt(this,O,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),U.prototype.writeBigInt64BE=Fi(function(O,B=0){return jt(this,O,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Gt($,O,B,lt,wt,Ot){if(B+lt>$.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function oe($,O,B,lt,wt){return O=+O,B=B>>>0,wt||Gt($,O,B,4),T.write($,O,B,lt,23,4),B+4}U.prototype.writeFloatLE=function(O,B,lt){return oe(this,O,B,!0,lt)},U.prototype.writeFloatBE=function(O,B,lt){return oe(this,O,B,!1,lt)};function Xt($,O,B,lt,wt){return O=+O,B=B>>>0,wt||Gt($,O,B,8),T.write($,O,B,lt,52,8),B+8}U.prototype.writeDoubleLE=function(O,B,lt){return Xt(this,O,B,!0,lt)},U.prototype.writeDoubleBE=function(O,B,lt){return Xt(this,O,B,!1,lt)},U.prototype.copy=function(O,B,lt,wt){if(!U.isBuffer(O))throw new TypeError("argument should be a Buffer");if(lt||(lt=0),!wt&&wt!==0&&(wt=this.length),B>=O.length&&(B=O.length),B||(B=0),wt>0&&wt<lt&&(wt=lt),wt===lt||O.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(lt<0||lt>=this.length)throw new RangeError("Index out of range");if(wt<0)throw new RangeError("sourceEnd out of bounds");wt>this.length&&(wt=this.length),O.length-B<wt-lt&&(wt=O.length-B+lt);const Ot=wt-lt;return this===O&&typeof L.prototype.copyWithin=="function"?this.copyWithin(B,lt,wt):L.prototype.set.call(O,this.subarray(lt,wt),B),Ot},U.prototype.fill=function(O,B,lt,wt){if(typeof O=="string"){if(typeof B=="string"?(wt=B,B=0,lt=this.length):typeof lt=="string"&&(wt=lt,lt=this.length),wt!==void 0&&typeof wt!="string")throw new TypeError("encoding must be a string");if(typeof wt=="string"&&!U.isEncoding(wt))throw new TypeError("Unknown encoding: "+wt);if(O.length===1){const Bt=O.charCodeAt(0);(wt==="utf8"&&Bt<128||wt==="latin1")&&(O=Bt)}}else typeof O=="number"?O=O&255:typeof O=="boolean"&&(O=Number(O));if(B<0||this.length<B||this.length<lt)throw new RangeError("Out of range index");if(lt<=B)return this;B=B>>>0,lt=lt===void 0?this.length:lt>>>0,O||(O=0);let Ot;if(typeof O=="number")for(Ot=B;Ot<lt;++Ot)this[Ot]=O;else{const Bt=U.isBuffer(O)?O:U.from(O,wt),le=Bt.length;if(le===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(Ot=0;Ot<lt-B;++Ot)this[Ot+B]=Bt[Ot%le]}return this};const $e={};function q($,O,B){$e[$]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:O.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(wt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:wt,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}q("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function($,O){return`The "${$}" argument must be of type number. Received type ${typeof O}`},TypeError),q("ERR_OUT_OF_RANGE",function($,O,B){let lt=`The value of "${$}" is out of range.`,wt=B;return Number.isInteger(B)&&Math.abs(B)>2**32?wt=R(String(B)):typeof B=="bigint"&&(wt=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(wt=R(wt)),wt+="n"),lt+=` It must be ${O}. Received ${wt}`,lt},RangeError);function R($){let O="",B=$.length;const lt=$[0]==="-"?1:0;for(;B>=lt+4;B-=3)O=`_${$.slice(B-3,B)}${O}`;return`${$.slice(0,B)}${O}`}function P($,O,B){mt(O,"offset"),($[O]===void 0||$[O+B]===void 0)&&xt(O,$.length-(B+1))}function nt($,O,B,lt,wt,Ot){if($>B||$<O){const Bt=typeof O=="bigint"?"n":"";let le;throw O===0||O===BigInt(0)?le=`>= 0${Bt} and < 2${Bt} ** ${(Ot+1)*8}${Bt}`:le=`>= -(2${Bt} ** ${(Ot+1)*8-1}${Bt}) and < 2 ** ${(Ot+1)*8-1}${Bt}`,new $e.ERR_OUT_OF_RANGE("value",le,$)}P(lt,wt,Ot)}function mt($,O){if(typeof $!="number")throw new $e.ERR_INVALID_ARG_TYPE(O,"number",$)}function xt($,O,B){throw Math.floor($)!==$?(mt($,B),new $e.ERR_OUT_OF_RANGE("offset","an integer",$)):O<0?new $e.ERR_BUFFER_OUT_OF_BOUNDS:new $e.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${O}`,$)}const Dt=/[^+/0-9A-Za-z-_]/g;function ee($){if($=$.split("=")[0],$=$.trim().replace(Dt,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function Ce($,O){O=O||1/0;let B;const lt=$.length;let wt=null;const Ot=[];for(let Bt=0;Bt<lt;++Bt){if(B=$.charCodeAt(Bt),B>55295&&B<57344){if(!wt){if(B>56319){(O-=3)>-1&&Ot.push(239,191,189);continue}else if(Bt+1===lt){(O-=3)>-1&&Ot.push(239,191,189);continue}wt=B;continue}if(B<56320){(O-=3)>-1&&Ot.push(239,191,189),wt=B;continue}B=(wt-55296<<10|B-56320)+65536}else wt&&(O-=3)>-1&&Ot.push(239,191,189);if(wt=null,B<128){if((O-=1)<0)break;Ot.push(B)}else if(B<2048){if((O-=2)<0)break;Ot.push(B>>6|192,B&63|128)}else if(B<65536){if((O-=3)<0)break;Ot.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((O-=4)<0)break;Ot.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return Ot}function Re($){const O=[];for(let B=0;B<$.length;++B)O.push($.charCodeAt(B)&255);return O}function Ee($,O){let B,lt,wt;const Ot=[];for(let Bt=0;Bt<$.length&&!((O-=2)<0);++Bt)B=$.charCodeAt(Bt),lt=B>>8,wt=B%256,Ot.push(wt),Ot.push(lt);return Ot}function he($){return x.toByteArray(ee($))}function Ln($,O,B,lt){let wt;for(wt=0;wt<lt&&!(wt+B>=O.length||wt>=$.length);++wt)O[wt+B]=$[wt];return wt}function We($,O){return $ instanceof O||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===O.name}function Pr($){return $!==$}const ys=(function(){const $="0123456789abcdef",O=new Array(256);for(let B=0;B<16;++B){const lt=B*16;for(let wt=0;wt<16;++wt)O[lt+wt]=$[B]+$[wt]}return O})();function Fi($){return typeof BigInt>"u"?sc:$}function sc(){throw new Error("BigInt not supported")}})(t);const v=t.Buffer;r.Blob=t.Blob,r.BlobOptions=t.BlobOptions,r.Buffer=t.Buffer,r.File=t.File,r.FileOptions=t.FileOptions,r.INSPECT_MAX_BYTES=t.INSPECT_MAX_BYTES,r.SlowBuffer=t.SlowBuffer,r.TranscodeEncoding=t.TranscodeEncoding,r.atob=t.atob,r.btoa=t.btoa,r.constants=t.constants,r.default=v,r.isAscii=t.isAscii,r.isUtf8=t.isUtf8,r.kMaxLength=t.kMaxLength,r.kStringMaxLength=t.kStringMaxLength,r.resolveObjectURL=t.resolveObjectURL,r.transcode=t.transcode})(gp)),gp}var yp={},bp={},vp,ow;function kS(){return ow||(ow=1,vp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;t[e]=s;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var l=Object.getOwnPropertySymbols(t);if(l.length!==1||l[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,e);if(c.value!==s||c.enumerable!==!0)return!1}return!0}),vp}var wp,lw;function _h(){if(lw)return wp;lw=1;var r=kS();return wp=function(){return r()&&!!Symbol.toStringTag},wp}var _p,cw;function PS(){return cw||(cw=1,_p=Object),_p}var Ep,uw;function $D(){return uw||(uw=1,Ep=Error),Ep}var Ap,hw;function WD(){return hw||(hw=1,Ap=EvalError),Ap}var Sp,fw;function XD(){return fw||(fw=1,Sp=RangeError),Sp}var xp,dw;function KD(){return dw||(dw=1,xp=ReferenceError),xp}var Tp,pw;function BS(){return pw||(pw=1,Tp=SyntaxError),Tp}var Cp,mw;function Hl(){return mw||(mw=1,Cp=TypeError),Cp}var Rp,gw;function ZD(){return gw||(gw=1,Rp=URIError),Rp}var Op,yw;function QD(){return yw||(yw=1,Op=Math.abs),Op}var Np,bw;function JD(){return bw||(bw=1,Np=Math.floor),Np}var Dp,vw;function tI(){return vw||(vw=1,Dp=Math.max),Dp}var Ip,ww;function eI(){return ww||(ww=1,Ip=Math.min),Ip}var Mp,_w;function nI(){return _w||(_w=1,Mp=Math.pow),Mp}var Lp,Ew;function iI(){return Ew||(Ew=1,Lp=Math.round),Lp}var kp,Aw;function rI(){return Aw||(Aw=1,kp=Number.isNaN||function(t){return t!==t}),kp}var Pp,Sw;function sI(){if(Sw)return Pp;Sw=1;var r=rI();return Pp=function(e){return r(e)||e===0?e:e<0?-1:1},Pp}var Bp,xw;function aI(){return xw||(xw=1,Bp=Object.getOwnPropertyDescriptor),Bp}var Fp,Tw;function yo(){if(Tw)return Fp;Tw=1;var r=aI();if(r)try{r([],"length")}catch{r=null}return Fp=r,Fp}var Up,Cw;function Eh(){if(Cw)return Up;Cw=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return Up=r,Up}var jp,Rw;function oI(){if(Rw)return jp;Rw=1;var r=typeof Symbol<"u"&&Symbol,t=kS();return jp=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},jp}var zp,Ow;function FS(){return Ow||(Ow=1,zp=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),zp}var Hp,Nw;function US(){if(Nw)return Hp;Nw=1;var r=PS();return Hp=r.getPrototypeOf||null,Hp}var Gp,Dw;function lI(){if(Dw)return Gp;Dw=1;var r="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,e=Math.max,n="[object Function]",s=function(h,f){for(var d=[],p=0;p<h.length;p+=1)d[p]=h[p];for(var g=0;g<f.length;g+=1)d[g+h.length]=f[g];return d},a=function(h,f){for(var d=[],p=f,g=0;p<h.length;p+=1,g+=1)d[g]=h[p];return d},l=function(c,h){for(var f="",d=0;d<c.length;d+=1)f+=c[d],d+1<c.length&&(f+=h);return f};return Gp=function(h){var f=this;if(typeof f!="function"||t.apply(f)!==n)throw new TypeError(r+f);for(var d=a(arguments,1),p,g=function(){if(this instanceof p){var v=f.apply(this,s(d,arguments));return Object(v)===v?v:this}return f.apply(h,s(d,arguments))},y=e(0,f.length-d.length),E=[],b=0;b<y;b++)E[b]="$"+b;if(p=Function("binder","return function ("+l(E,",")+"){ return binder.apply(this,arguments); }")(g),f.prototype){var _=function(){};_.prototype=f.prototype,p.prototype=new _,_.prototype=null}return p},Gp}var Vp,Iw;function Gl(){if(Iw)return Vp;Iw=1;var r=lI();return Vp=Function.prototype.bind||r,Vp}var qp,Mw;function Zg(){return Mw||(Mw=1,qp=Function.prototype.call),qp}var Yp,Lw;function Qg(){return Lw||(Lw=1,Yp=Function.prototype.apply),Yp}var $p,kw;function cI(){return kw||(kw=1,$p=typeof Reflect<"u"&&Reflect&&Reflect.apply),$p}var Wp,Pw;function jS(){if(Pw)return Wp;Pw=1;var r=Gl(),t=Qg(),e=Zg(),n=cI();return Wp=n||r.call(e,t),Wp}var Xp,Bw;function Jg(){if(Bw)return Xp;Bw=1;var r=Gl(),t=Hl(),e=Zg(),n=jS();return Xp=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return n(r,e,a)},Xp}var Kp,Fw;function uI(){if(Fw)return Kp;Fw=1;var r=Jg(),t=yo(),e;try{e=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!e&&t&&t(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return Kp=n&&typeof n.get=="function"?r([n.get]):typeof a=="function"?function(c){return a(c==null?c:s(c))}:!1,Kp}var Zp,Uw;function t0(){if(Uw)return Zp;Uw=1;var r=FS(),t=US(),e=uI();return Zp=r?function(s){return r(s)}:t?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return t(s)}:e?function(s){return e(s)}:null,Zp}var Qp,jw;function zS(){if(jw)return Qp;jw=1;var r=Function.prototype.call,t=Object.prototype.hasOwnProperty,e=Gl();return Qp=e.call(r,t),Qp}var Jp,zw;function HS(){if(zw)return Jp;zw=1;var r,t=PS(),e=$D(),n=WD(),s=XD(),a=KD(),l=BS(),c=Hl(),h=ZD(),f=QD(),d=JD(),p=tI(),g=eI(),y=nI(),E=iI(),b=sI(),_=Function,v=function(ot){try{return _('"use strict"; return ('+ot+").constructor;")()}catch{}},S=yo(),x=Eh(),T=function(){throw new c},C=S?(function(){try{return arguments.callee,T}catch{try{return S(arguments,"callee").get}catch{return T}}})():T,M=oI()(),L=t0(),z=US(),k=FS(),rt=Qg(),ht=Zg(),U={},dt=typeof Uint8Array>"u"||!L?r:L(Uint8Array),j={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":M&&L?L([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":M&&L?L(L([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!M||!L?r:L(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":S,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!M||!L?r:L(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":M&&L?L(""[Symbol.iterator]()):r,"%Symbol%":M?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":C,"%TypedArray%":dt,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":h,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":ht,"%Function.prototype.apply%":rt,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":z,"%Math.abs%":f,"%Math.floor%":d,"%Math.max%":p,"%Math.min%":g,"%Math.pow%":y,"%Math.round%":E,"%Math.sign%":b,"%Reflect.getPrototypeOf%":k};if(L)try{null.error}catch(ot){var yt=L(L(ot));j["%Error.prototype%"]=yt}var et=function ot(J){var G;if(J==="%AsyncFunction%")G=v("async function () {}");else if(J==="%GeneratorFunction%")G=v("function* () {}");else if(J==="%AsyncGeneratorFunction%")G=v("async function* () {}");else if(J==="%AsyncGenerator%"){var W=ot("%AsyncGeneratorFunction%");W&&(G=W.prototype)}else if(J==="%AsyncIteratorPrototype%"){var St=ot("%AsyncGenerator%");St&&L&&(G=L(St.prototype))}return j[J]=G,G},Q={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ft=Gl(),vt=zS(),It=ft.call(ht,Array.prototype.concat),H=ft.call(rt,Array.prototype.splice),Z=ft.call(ht,String.prototype.replace),K=ft.call(ht,String.prototype.slice),st=ft.call(ht,RegExp.prototype.exec),ut=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ct=/\\(\\)?/g,N=function(J){var G=K(J,0,1),W=K(J,-1);if(G==="%"&&W!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(W==="%"&&G!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var St=[];return Z(J,ut,function(I,At,gt,tt){St[St.length]=gt?Z(tt,ct,"$1"):At||I}),St},D=function(J,G){var W=J,St;if(vt(Q,W)&&(St=Q[W],W="%"+St[0]+"%"),vt(j,W)){var I=j[W];if(I===U&&(I=et(W)),typeof I>"u"&&!G)throw new c("intrinsic "+J+" exists, but is not available. Please file an issue!");return{alias:St,name:W,value:I}}throw new l("intrinsic "+J+" does not exist!")};return Jp=function(J,G){if(typeof J!="string"||J.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof G!="boolean")throw new c('"allowMissing" argument must be a boolean');if(st(/^%?[^%]*%?$/,J)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var W=N(J),St=W.length>0?W[0]:"",I=D("%"+St+"%",G),At=I.name,gt=I.value,tt=!1,at=I.alias;at&&(St=at[0],H(W,It([0,1],at)));for(var it=1,Mt=!0;it<W.length;it+=1){var kt=W[it],_t=K(kt,0,1),Ft=K(kt,-1);if((_t==='"'||_t==="'"||_t==="`"||Ft==='"'||Ft==="'"||Ft==="`")&&_t!==Ft)throw new l("property names with quotes must have matching quotes");if((kt==="constructor"||!Mt)&&(tt=!0),St+="."+kt,At="%"+St+"%",vt(j,At))gt=j[At];else if(gt!=null){if(!(kt in gt)){if(!G)throw new c("base intrinsic for "+J+" exists, but the property is not available.");return}if(S&&it+1>=W.length){var zt=S(gt,kt);Mt=!!zt,Mt&&"get"in zt&&!("originalValue"in zt.get)?gt=zt.get:gt=gt[kt]}else Mt=vt(gt,kt),gt=gt[kt];Mt&&!tt&&(j[At]=gt)}}return gt},Jp}var tm,Hw;function Vl(){if(Hw)return tm;Hw=1;var r=HS(),t=Jg(),e=t([r("%String.prototype.indexOf%")]);return tm=function(s,a){var l=r(s,!!a);return typeof l=="function"&&e(s,".prototype.")>-1?t([l]):l},tm}var em,Gw;function hI(){if(Gw)return em;Gw=1;var r=_h()(),t=Vl(),e=t("Object.prototype.toString"),n=function(c){return r&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:e(c)==="[object Arguments]"},s=function(c){return n(c)?!0:c!==null&&typeof c=="object"&&"length"in c&&typeof c.length=="number"&&c.length>=0&&e(c)!=="[object Array]"&&"callee"in c&&e(c.callee)==="[object Function]"},a=(function(){return n(arguments)})();return n.isLegacyArguments=s,em=a?n:s,em}var nm,Vw;function fI(){if(Vw)return nm;Vw=1;var r=Vl(),t=_h()(),e=zS(),n=yo(),s;if(t){var a=r("RegExp.prototype.exec"),l={},c=function(){throw l},h={toString:c,valueOf:c};typeof Symbol.toPrimitive=="symbol"&&(h[Symbol.toPrimitive]=c),s=function(g){if(!g||typeof g!="object")return!1;var y=n(g,"lastIndex"),E=y&&e(y,"value");if(!E)return!1;try{a(g,h)}catch(b){return b===l}}}else{var f=r("Object.prototype.toString"),d="[object RegExp]";s=function(g){return!g||typeof g!="object"&&typeof g!="function"?!1:f(g)===d}}return nm=s,nm}var im,qw;function dI(){if(qw)return im;qw=1;var r=Vl(),t=fI(),e=r("RegExp.prototype.exec"),n=Hl();return im=function(a){if(!t(a))throw new n("`regex` must be a RegExp");return function(c){return e(a,c)!==null}},im}var rm,Yw;function pI(){if(Yw)return rm;Yw=1;const r=(function*(){}).constructor;return rm=()=>r,rm}var sm,$w;function mI(){if($w)return sm;$w=1;var r=Vl(),t=dI(),e=t(/^\s*(?:function)?\*/),n=_h()(),s=t0(),a=r("Object.prototype.toString"),l=r("Function.prototype.toString"),c=pI();return sm=function(f){if(typeof f!="function")return!1;if(e(l(f)))return!0;if(!n){var d=a(f);return d==="[object GeneratorFunction]"}if(!s)return!1;var p=c();return p&&s(f)===p.prototype},sm}var am,Ww;function gI(){if(Ww)return am;Ww=1;var r=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,e,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{e=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,e)}catch(S){S!==n&&(t=null)}else t=null;var s=/^\s*class\b/,a=function(x){try{var T=r.call(x);return s.test(T)}catch{return!1}},l=function(x){try{return a(x)?!1:(r.call(x),!0)}catch{return!1}},c=Object.prototype.toString,h="[object Object]",f="[object Function]",d="[object GeneratorFunction]",p="[object HTMLAllCollection]",g="[object HTML document.all class]",y="[object HTMLCollection]",E=typeof Symbol=="function"&&!!Symbol.toStringTag,b=!(0 in[,]),_=function(){return!1};if(typeof document=="object"){var v=document.all;c.call(v)===c.call(document.all)&&(_=function(x){if((b||!x)&&(typeof x>"u"||typeof x=="object"))try{var T=c.call(x);return(T===p||T===g||T===y||T===h)&&x("")==null}catch{}return!1})}return am=t?function(x){if(_(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;try{t(x,null,e)}catch(T){if(T!==n)return!1}return!a(x)&&l(x)}:function(x){if(_(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;if(E)return l(x);if(a(x))return!1;var T=c.call(x);return T!==f&&T!==d&&!/^\[object HTML/.test(T)?!1:l(x)},am}var om,Xw;function yI(){if(Xw)return om;Xw=1;var r=gI(),t=Object.prototype.toString,e=Object.prototype.hasOwnProperty,n=function(h,f,d){for(var p=0,g=h.length;p<g;p++)e.call(h,p)&&(d==null?f(h[p],p,h):f.call(d,h[p],p,h))},s=function(h,f,d){for(var p=0,g=h.length;p<g;p++)d==null?f(h.charAt(p),p,h):f.call(d,h.charAt(p),p,h)},a=function(h,f,d){for(var p in h)e.call(h,p)&&(d==null?f(h[p],p,h):f.call(d,h[p],p,h))};function l(c){return t.call(c)==="[object Array]"}return om=function(h,f,d){if(!r(f))throw new TypeError("iterator must be a function");var p;arguments.length>=3&&(p=d),l(h)?n(h,f,p):typeof h=="string"?s(h,f,p):a(h,f,p)},om}var lm,Kw;function bI(){return Kw||(Kw=1,lm=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),lm}var cm,Zw;function vI(){if(Zw)return cm;Zw=1;var r=bI(),t=typeof globalThis>"u"?xi:globalThis;return cm=function(){for(var n=[],s=0;s<r.length;s++)typeof t[r[s]]=="function"&&(n[n.length]=r[s]);return n},cm}var um={exports:{}},hm,Qw;function wI(){if(Qw)return hm;Qw=1;var r=Eh(),t=BS(),e=Hl(),n=yo();return hm=function(a,l,c){if(!a||typeof a!="object"&&typeof a!="function")throw new e("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new e("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new e("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new e("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new e("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new e("`loose`, if provided, must be a boolean");var h=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,p=arguments.length>6?arguments[6]:!1,g=!!n&&n(a,l);if(r)r(a,l,{configurable:d===null&&g?g.configurable:!d,enumerable:h===null&&g?g.enumerable:!h,value:c,writable:f===null&&g?g.writable:!f});else if(p||!h&&!f&&!d)a[l]=c;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},hm}var fm,Jw;function _I(){if(Jw)return fm;Jw=1;var r=Eh(),t=function(){return!!r};return t.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},fm=t,fm}var dm,t_;function EI(){if(t_)return dm;t_=1;var r=HS(),t=wI(),e=_I()(),n=yo(),s=Hl(),a=r("%Math.floor%");return dm=function(c,h){if(typeof c!="function")throw new s("`fn` is not a function");if(typeof h!="number"||h<0||h>4294967295||a(h)!==h)throw new s("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],d=!0,p=!0;if("length"in c&&n){var g=n(c,"length");g&&!g.configurable&&(d=!1),g&&!g.writable&&(p=!1)}return(d||p||!f)&&(e?t(c,"length",h,!0,!0):t(c,"length",h)),c},dm}var pm,e_;function AI(){if(e_)return pm;e_=1;var r=Gl(),t=Qg(),e=jS();return pm=function(){return e(r,t,arguments)},pm}var n_;function SI(){return n_||(n_=1,(function(r){var t=EI(),e=Eh(),n=Jg(),s=AI();r.exports=function(l){var c=n(arguments),h=l.length-(arguments.length-1);return t(c,1+(h>0?h:0),!0)},e?e(r.exports,"apply",{value:s}):r.exports.apply=s})(um)),um.exports}var mm,i_;function GS(){if(i_)return mm;i_=1;var r=yI(),t=vI(),e=SI(),n=Vl(),s=yo(),a=t0(),l=n("Object.prototype.toString"),c=_h()(),h=typeof globalThis>"u"?xi:globalThis,f=t(),d=n("String.prototype.slice"),p=n("Array.prototype.indexOf",!0)||function(_,v){for(var S=0;S<_.length;S+=1)if(_[S]===v)return S;return-1},g={__proto__:null};c&&s&&a?r(f,function(b){var _=new h[b];if(Symbol.toStringTag in _&&a){var v=a(_),S=s(v,Symbol.toStringTag);if(!S&&v){var x=a(v);S=s(x,Symbol.toStringTag)}if(S&&S.get){var T=e(S.get);g["$"+b]=T}}}):r(f,function(b){var _=new h[b],v=_.slice||_.set;if(v){var S=e(v);g["$"+b]=S}});var y=function(_){var v=!1;return r(g,function(S,x){if(!v)try{"$"+S(_)===x&&(v=d(x,1))}catch{}}),v},E=function(_){var v=!1;return r(g,function(S,x){if(!v)try{S(_),v=d(x,1)}catch{}}),v};return mm=function(_){if(!_||typeof _!="object")return!1;if(!c){var v=d(l(_),8,-1);return p(f,v)>-1?v:v!=="Object"?!1:E(_)}return s?y(_):null},mm}var gm,r_;function xI(){if(r_)return gm;r_=1;var r=GS();return gm=function(e){return!!r(e)},gm}var s_;function TI(){return s_||(s_=1,(function(r){var t=hI(),e=mI(),n=GS(),s=xI();function a(it){return it.call.bind(it)}var l=typeof BigInt<"u",c=typeof Symbol<"u",h=a(Object.prototype.toString),f=a(Number.prototype.valueOf),d=a(String.prototype.valueOf),p=a(Boolean.prototype.valueOf);if(l)var g=a(BigInt.prototype.valueOf);if(c)var y=a(Symbol.prototype.valueOf);function E(it,Mt){if(typeof it!="object")return!1;try{return Mt(it),!0}catch{return!1}}r.isArgumentsObject=t,r.isGeneratorFunction=e,r.isTypedArray=s;function b(it){return typeof Promise<"u"&&it instanceof Promise||it!==null&&typeof it=="object"&&typeof it.then=="function"&&typeof it.catch=="function"}r.isPromise=b;function _(it){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(it):s(it)||K(it)}r.isArrayBufferView=_;function v(it){return n(it)==="Uint8Array"}r.isUint8Array=v;function S(it){return n(it)==="Uint8ClampedArray"}r.isUint8ClampedArray=S;function x(it){return n(it)==="Uint16Array"}r.isUint16Array=x;function T(it){return n(it)==="Uint32Array"}r.isUint32Array=T;function C(it){return n(it)==="Int8Array"}r.isInt8Array=C;function M(it){return n(it)==="Int16Array"}r.isInt16Array=M;function L(it){return n(it)==="Int32Array"}r.isInt32Array=L;function z(it){return n(it)==="Float32Array"}r.isFloat32Array=z;function k(it){return n(it)==="Float64Array"}r.isFloat64Array=k;function rt(it){return n(it)==="BigInt64Array"}r.isBigInt64Array=rt;function ht(it){return n(it)==="BigUint64Array"}r.isBigUint64Array=ht;function U(it){return h(it)==="[object Map]"}U.working=typeof Map<"u"&&U(new Map);function dt(it){return typeof Map>"u"?!1:U.working?U(it):it instanceof Map}r.isMap=dt;function j(it){return h(it)==="[object Set]"}j.working=typeof Set<"u"&&j(new Set);function yt(it){return typeof Set>"u"?!1:j.working?j(it):it instanceof Set}r.isSet=yt;function et(it){return h(it)==="[object WeakMap]"}et.working=typeof WeakMap<"u"&&et(new WeakMap);function Q(it){return typeof WeakMap>"u"?!1:et.working?et(it):it instanceof WeakMap}r.isWeakMap=Q;function ft(it){return h(it)==="[object WeakSet]"}ft.working=typeof WeakSet<"u"&&ft(new WeakSet);function vt(it){return ft(it)}r.isWeakSet=vt;function It(it){return h(it)==="[object ArrayBuffer]"}It.working=typeof ArrayBuffer<"u"&&It(new ArrayBuffer);function H(it){return typeof ArrayBuffer>"u"?!1:It.working?It(it):it instanceof ArrayBuffer}r.isArrayBuffer=H;function Z(it){return h(it)==="[object DataView]"}Z.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Z(new DataView(new ArrayBuffer(1),0,1));function K(it){return typeof DataView>"u"?!1:Z.working?Z(it):it instanceof DataView}r.isDataView=K;var st=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ut(it){return h(it)==="[object SharedArrayBuffer]"}function ct(it){return typeof st>"u"?!1:(typeof ut.working>"u"&&(ut.working=ut(new st)),ut.working?ut(it):it instanceof st)}r.isSharedArrayBuffer=ct;function N(it){return h(it)==="[object AsyncFunction]"}r.isAsyncFunction=N;function D(it){return h(it)==="[object Map Iterator]"}r.isMapIterator=D;function ot(it){return h(it)==="[object Set Iterator]"}r.isSetIterator=ot;function J(it){return h(it)==="[object Generator]"}r.isGeneratorObject=J;function G(it){return h(it)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=G;function W(it){return E(it,f)}r.isNumberObject=W;function St(it){return E(it,d)}r.isStringObject=St;function I(it){return E(it,p)}r.isBooleanObject=I;function At(it){return l&&E(it,g)}r.isBigIntObject=At;function gt(it){return c&&E(it,y)}r.isSymbolObject=gt;function tt(it){return W(it)||St(it)||I(it)||At(it)||gt(it)}r.isBoxedPrimitive=tt;function at(it){return typeof Uint8Array<"u"&&(H(it)||ct(it))}r.isAnyArrayBuffer=at,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(it){Object.defineProperty(r,it,{enumerable:!1,value:function(){throw new Error(it+" is not supported in userland")}})})})(bp)),bp}var ym,a_;function CI(){return a_||(a_=1,ym=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),ym}var o_;function VS(){return o_||(o_=1,(function(r){var t={},e=Object.getOwnPropertyDescriptors||function(st){for(var ut=Object.keys(st),ct={},N=0;N<ut.length;N++)ct[ut[N]]=Object.getOwnPropertyDescriptor(st,ut[N]);return ct},n=/%[sdj%]/g;r.format=function(K){if(!M(K)){for(var st=[],ut=0;ut<arguments.length;ut++)st.push(c(arguments[ut]));return st.join(" ")}for(var ut=1,ct=arguments,N=ct.length,D=String(K).replace(n,function(J){if(J==="%%")return"%";if(ut>=N)return J;switch(J){case"%s":return String(ct[ut++]);case"%d":return Number(ct[ut++]);case"%j":try{return JSON.stringify(ct[ut++])}catch{return"[Circular]"}default:return J}}),ot=ct[ut];ut<N;ot=ct[++ut])x(ot)||!rt(ot)?D+=" "+ot:D+=" "+c(ot);return D},r.deprecate=function(K,st){if(typeof Qt<"u"&&Qt.noDeprecation===!0)return K;if(typeof Qt>"u")return function(){return r.deprecate(K,st).apply(this,arguments)};var ut=!1;function ct(){if(!ut){if(Qt.throwDeprecation)throw new Error(st);Qt.traceDeprecation?console.trace(st):console.error(st),ut=!0}return K.apply(this,arguments)}return ct};var s={},a=/^$/;if(t.NODE_DEBUG){var l=t.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i")}r.debuglog=function(K){if(K=K.toUpperCase(),!s[K])if(a.test(K)){var st=Qt.pid;s[K]=function(){var ut=r.format.apply(r,arguments);console.error("%s %d: %s",K,st,ut)}}else s[K]=function(){};return s[K]};function c(K,st){var ut={seen:[],stylize:f};return arguments.length>=3&&(ut.depth=arguments[2]),arguments.length>=4&&(ut.colors=arguments[3]),S(st)?ut.showHidden=st:st&&r._extend(ut,st),z(ut.showHidden)&&(ut.showHidden=!1),z(ut.depth)&&(ut.depth=2),z(ut.colors)&&(ut.colors=!1),z(ut.customInspect)&&(ut.customInspect=!0),ut.colors&&(ut.stylize=h),p(ut,K,ut.depth)}r.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function h(K,st){var ut=c.styles[st];return ut?"\x1B["+c.colors[ut][0]+"m"+K+"\x1B["+c.colors[ut][1]+"m":K}function f(K,st){return K}function d(K){var st={};return K.forEach(function(ut,ct){st[ut]=!0}),st}function p(K,st,ut){if(K.customInspect&&st&&dt(st.inspect)&&st.inspect!==r.inspect&&!(st.constructor&&st.constructor.prototype===st)){var ct=st.inspect(ut,K);return M(ct)||(ct=p(K,ct,ut)),ct}var N=g(K,st);if(N)return N;var D=Object.keys(st),ot=d(D);if(K.showHidden&&(D=Object.getOwnPropertyNames(st)),U(st)&&(D.indexOf("message")>=0||D.indexOf("description")>=0))return y(st);if(D.length===0){if(dt(st)){var J=st.name?": "+st.name:"";return K.stylize("[Function"+J+"]","special")}if(k(st))return K.stylize(RegExp.prototype.toString.call(st),"regexp");if(ht(st))return K.stylize(Date.prototype.toString.call(st),"date");if(U(st))return y(st)}var G="",W=!1,St=["{","}"];if(v(st)&&(W=!0,St=["[","]"]),dt(st)){var I=st.name?": "+st.name:"";G=" [Function"+I+"]"}if(k(st)&&(G=" "+RegExp.prototype.toString.call(st)),ht(st)&&(G=" "+Date.prototype.toUTCString.call(st)),U(st)&&(G=" "+y(st)),D.length===0&&(!W||st.length==0))return St[0]+G+St[1];if(ut<0)return k(st)?K.stylize(RegExp.prototype.toString.call(st),"regexp"):K.stylize("[Object]","special");K.seen.push(st);var At;return W?At=E(K,st,ut,ot,D):At=D.map(function(gt){return b(K,st,ut,ot,gt,W)}),K.seen.pop(),_(At,G,St)}function g(K,st){if(z(st))return K.stylize("undefined","undefined");if(M(st)){var ut="'"+JSON.stringify(st).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(ut,"string")}if(C(st))return K.stylize(""+st,"number");if(S(st))return K.stylize(""+st,"boolean");if(x(st))return K.stylize("null","null")}function y(K){return"["+Error.prototype.toString.call(K)+"]"}function E(K,st,ut,ct,N){for(var D=[],ot=0,J=st.length;ot<J;++ot)vt(st,String(ot))?D.push(b(K,st,ut,ct,String(ot),!0)):D.push("");return N.forEach(function(G){G.match(/^\d+$/)||D.push(b(K,st,ut,ct,G,!0))}),D}function b(K,st,ut,ct,N,D){var ot,J,G;if(G=Object.getOwnPropertyDescriptor(st,N)||{value:st[N]},G.get?G.set?J=K.stylize("[Getter/Setter]","special"):J=K.stylize("[Getter]","special"):G.set&&(J=K.stylize("[Setter]","special")),vt(ct,N)||(ot="["+N+"]"),J||(K.seen.indexOf(G.value)<0?(x(ut)?J=p(K,G.value,null):J=p(K,G.value,ut-1),J.indexOf(`
`)>-1&&(D?J=J.split(`
`).map(function(W){return"  "+W}).join(`
`).slice(2):J=`
`+J.split(`
`).map(function(W){return"   "+W}).join(`
`))):J=K.stylize("[Circular]","special")),z(ot)){if(D&&N.match(/^\d+$/))return J;ot=JSON.stringify(""+N),ot.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ot=ot.slice(1,-1),ot=K.stylize(ot,"name")):(ot=ot.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ot=K.stylize(ot,"string"))}return ot+": "+J}function _(K,st,ut){var ct=K.reduce(function(N,D){return D.indexOf(`
`)>=0,N+D.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ct>60?ut[0]+(st===""?"":st+`
 `)+" "+K.join(`,
  `)+" "+ut[1]:ut[0]+st+" "+K.join(", ")+" "+ut[1]}r.types=TI();function v(K){return Array.isArray(K)}r.isArray=v;function S(K){return typeof K=="boolean"}r.isBoolean=S;function x(K){return K===null}r.isNull=x;function T(K){return K==null}r.isNullOrUndefined=T;function C(K){return typeof K=="number"}r.isNumber=C;function M(K){return typeof K=="string"}r.isString=M;function L(K){return typeof K=="symbol"}r.isSymbol=L;function z(K){return K===void 0}r.isUndefined=z;function k(K){return rt(K)&&yt(K)==="[object RegExp]"}r.isRegExp=k,r.types.isRegExp=k;function rt(K){return typeof K=="object"&&K!==null}r.isObject=rt;function ht(K){return rt(K)&&yt(K)==="[object Date]"}r.isDate=ht,r.types.isDate=ht;function U(K){return rt(K)&&(yt(K)==="[object Error]"||K instanceof Error)}r.isError=U,r.types.isNativeError=U;function dt(K){return typeof K=="function"}r.isFunction=dt;function j(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||typeof K=="symbol"||typeof K>"u"}r.isPrimitive=j,r.isBuffer=CI();function yt(K){return Object.prototype.toString.call(K)}function et(K){return K<10?"0"+K.toString(10):K.toString(10)}var Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ft(){var K=new Date,st=[et(K.getHours()),et(K.getMinutes()),et(K.getSeconds())].join(":");return[K.getDate(),Q[K.getMonth()],st].join(" ")}r.log=function(){console.log("%s - %s",ft(),r.format.apply(r,arguments))},r.inherits=$s(),r._extend=function(K,st){if(!st||!rt(st))return K;for(var ut=Object.keys(st),ct=ut.length;ct--;)K[ut[ct]]=st[ut[ct]];return K};function vt(K,st){return Object.prototype.hasOwnProperty.call(K,st)}var It=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(st){if(typeof st!="function")throw new TypeError('The "original" argument must be of type Function');if(It&&st[It]){var ut=st[It];if(typeof ut!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ut,It,{value:ut,enumerable:!1,writable:!1,configurable:!0}),ut}function ut(){for(var ct,N,D=new Promise(function(G,W){ct=G,N=W}),ot=[],J=0;J<arguments.length;J++)ot.push(arguments[J]);ot.push(function(G,W){G?N(G):ct(W)});try{st.apply(this,ot)}catch(G){N(G)}return D}return Object.setPrototypeOf(ut,Object.getPrototypeOf(st)),It&&Object.defineProperty(ut,It,{value:ut,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ut,e(st))},r.promisify.custom=It;function H(K,st){if(!K){var ut=new Error("Promise was rejected with a falsy value");ut.reason=K,K=ut}return st(K)}function Z(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');function st(){for(var ut=[],ct=0;ct<arguments.length;ct++)ut.push(arguments[ct]);var N=ut.pop();if(typeof N!="function")throw new TypeError("The last argument must be of type Function");var D=this,ot=function(){return N.apply(D,arguments)};K.apply(this,ut).then(function(J){Qt.nextTick(ot.bind(null,null,J))},function(J){Qt.nextTick(H.bind(null,J,ot))})}return Object.setPrototypeOf(st,Object.getPrototypeOf(K)),Object.defineProperties(st,e(K)),st}r.callbackify=Z})(yp)),yp}var bm,l_;function RI(){if(l_)return bm;l_=1;function r(E,b){var _=Object.keys(E);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(E);b&&(v=v.filter(function(S){return Object.getOwnPropertyDescriptor(E,S).enumerable})),_.push.apply(_,v)}return _}function t(E){for(var b=1;b<arguments.length;b++){var _=arguments[b]!=null?arguments[b]:{};b%2?r(Object(_),!0).forEach(function(v){e(E,v,_[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(_)):r(Object(_)).forEach(function(v){Object.defineProperty(E,v,Object.getOwnPropertyDescriptor(_,v))})}return E}function e(E,b,_){return b=l(b),b in E?Object.defineProperty(E,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):E[b]=_,E}function n(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")}function s(E,b){for(var _=0;_<b.length;_++){var v=b[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,l(v.key),v)}}function a(E,b,_){return b&&s(E.prototype,b),Object.defineProperty(E,"prototype",{writable:!1}),E}function l(E){var b=c(E,"string");return typeof b=="symbol"?b:String(b)}function c(E,b){if(typeof E!="object"||E===null)return E;var _=E[Symbol.toPrimitive];if(_!==void 0){var v=_.call(E,b);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}var h=wh(),f=h.Buffer,d=VS(),p=d.inspect,g=p&&p.custom||"inspect";function y(E,b,_){f.prototype.copy.call(E,b,_)}return bm=(function(){function E(){n(this,E),this.head=null,this.tail=null,this.length=0}return a(E,[{key:"push",value:function(_){var v={data:_,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(_){var v={data:_,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var v=this.head,S=""+v.data;v=v.next;)S+=_+v.data;return S}},{key:"concat",value:function(_){if(this.length===0)return f.alloc(0);for(var v=f.allocUnsafe(_>>>0),S=this.head,x=0;S;)y(S.data,v,x),x+=S.data.length,S=S.next;return v}},{key:"consume",value:function(_,v){var S;return _<this.head.data.length?(S=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?S=this.shift():S=v?this._getString(_):this._getBuffer(_),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var v=this.head,S=1,x=v.data;for(_-=x.length;v=v.next;){var T=v.data,C=_>T.length?T.length:_;if(C===T.length?x+=T:x+=T.slice(0,_),_-=C,_===0){C===T.length?(++S,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=T.slice(C));break}++S}return this.length-=S,x}},{key:"_getBuffer",value:function(_){var v=f.allocUnsafe(_),S=this.head,x=1;for(S.data.copy(v),_-=S.data.length;S=S.next;){var T=S.data,C=_>T.length?T.length:_;if(T.copy(v,v.length-_,0,C),_-=C,_===0){C===T.length?(++x,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=T.slice(C));break}++x}return this.length-=x,v}},{key:g,value:function(_,v){return p(this,t(t({},v),{},{depth:0,customInspect:!1}))}}]),E})(),bm}var vm,c_;function qS(){if(c_)return vm;c_=1;function r(l,c){var h=this,f=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return f||d?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Qt.nextTick(s,this,l)):Qt.nextTick(s,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(p){!c&&p?h._writableState?h._writableState.errorEmitted?Qt.nextTick(e,h):(h._writableState.errorEmitted=!0,Qt.nextTick(t,h,p)):Qt.nextTick(t,h,p):c?(Qt.nextTick(e,h),c(p)):Qt.nextTick(e,h)}),this)}function t(l,c){s(l,c),e(l)}function e(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(l,c){l.emit("error",c)}function a(l,c){var h=l._readableState,f=l._writableState;h&&h.autoDestroy||f&&f.autoDestroy?l.destroy(c):l.emit("error",c)}return vm={destroy:r,undestroy:n,errorOrDestroy:a},vm}var wm={},u_;function bo(){if(u_)return wm;u_=1;function r(c,h){c.prototype=Object.create(h.prototype),c.prototype.constructor=c,c.__proto__=h}var t={};function e(c,h,f){f||(f=Error);function d(g,y,E){return typeof h=="string"?h:h(g,y,E)}var p=(function(g){r(y,g);function y(E,b,_){return g.call(this,d(E,b,_))||this}return y})(f);p.prototype.name=f.name,p.prototype.code=c,t[c]=p}function n(c,h){if(Array.isArray(c)){var f=c.length;return c=c.map(function(d){return String(d)}),f>2?"one of ".concat(h," ").concat(c.slice(0,f-1).join(", "),", or ")+c[f-1]:f===2?"one of ".concat(h," ").concat(c[0]," or ").concat(c[1]):"of ".concat(h," ").concat(c[0])}else return"of ".concat(h," ").concat(String(c))}function s(c,h,f){return c.substr(0,h.length)===h}function a(c,h,f){return(f===void 0||f>c.length)&&(f=c.length),c.substring(f-h.length,f)===h}function l(c,h,f){return typeof f!="number"&&(f=0),f+h.length>c.length?!1:c.indexOf(h,f)!==-1}return e("ERR_INVALID_OPT_VALUE",function(c,h){return'The value "'+h+'" is invalid for option "'+c+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(c,h,f){var d;typeof h=="string"&&s(h,"not ")?(d="must not be",h=h.replace(/^not /,"")):d="must be";var p;if(a(c," argument"))p="The ".concat(c," ").concat(d," ").concat(n(h,"type"));else{var g=l(c,".")?"property":"argument";p='The "'.concat(c,'" ').concat(g," ").concat(d," ").concat(n(h,"type"))}return p+=". Received type ".concat(typeof f),p},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),wm.codes=t,wm}var _m,h_;function YS(){if(h_)return _m;h_=1;var r=bo().codes.ERR_INVALID_OPT_VALUE;function t(n,s,a){return n.highWaterMark!=null?n.highWaterMark:s?n[a]:null}function e(n,s,a,l){var c=t(s,l,a);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var h=l?a:"highWaterMark";throw new r(h,c)}return Math.floor(c)}return n.objectMode?16:16*1024}return _m={getHighWaterMark:e},_m}var Em,f_;function OI(){if(f_)return Em;f_=1,Em=r;function r(e,n){if(t("noDeprecation"))return e;var s=!1;function a(){if(!s){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),s=!0}return e.apply(this,arguments)}return a}function t(e){try{if(!xi.localStorage)return!1}catch{return!1}var n=xi.localStorage[e];return n==null?!1:String(n).toLowerCase()==="true"}return Em}var Am,d_;function $S(){if(d_)return Am;d_=1,Am=z;function r(ct){var N=this;this.next=null,this.entry=null,this.finish=function(){ut(N,ct)}}var t;z.WritableState=M;var e={deprecate:OI()},n=LS(),s=wh().Buffer,a=(typeof xi<"u"?xi:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(ct){return s.from(ct)}function c(ct){return s.isBuffer(ct)||ct instanceof a}var h=qS(),f=YS(),d=f.getHighWaterMark,p=bo().codes,g=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,E=p.ERR_MULTIPLE_CALLBACK,b=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,v=p.ERR_STREAM_NULL_VALUES,S=p.ERR_STREAM_WRITE_AFTER_END,x=p.ERR_UNKNOWN_ENCODING,T=h.errorOrDestroy;$s()(z,n);function C(){}function M(ct,N,D){t=t||co(),ct=ct||{},typeof D!="boolean"&&(D=N instanceof t),this.objectMode=!!ct.objectMode,D&&(this.objectMode=this.objectMode||!!ct.writableObjectMode),this.highWaterMark=d(this,ct,"writableHighWaterMark",D),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ot=ct.decodeStrings===!1;this.decodeStrings=!ot,this.defaultEncoding=ct.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(J){et(N,J)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ct.emitClose!==!1,this.autoDestroy=!!ct.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}M.prototype.getBuffer=function(){for(var N=this.bufferedRequest,D=[];N;)D.push(N),N=N.next;return D},(function(){try{Object.defineProperty(M.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var L;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(N){return L.call(this,N)?!0:this!==z?!1:N&&N._writableState instanceof M}})):L=function(N){return N instanceof this};function z(ct){t=t||co();var N=this instanceof t;if(!N&&!L.call(z,this))return new z(ct);this._writableState=new M(ct,this,N),this.writable=!0,ct&&(typeof ct.write=="function"&&(this._write=ct.write),typeof ct.writev=="function"&&(this._writev=ct.writev),typeof ct.destroy=="function"&&(this._destroy=ct.destroy),typeof ct.final=="function"&&(this._final=ct.final)),n.call(this)}z.prototype.pipe=function(){T(this,new b)};function k(ct,N){var D=new S;T(ct,D),Qt.nextTick(N,D)}function rt(ct,N,D,ot){var J;return D===null?J=new v:typeof D!="string"&&!N.objectMode&&(J=new g("chunk",["string","Buffer"],D)),J?(T(ct,J),Qt.nextTick(ot,J),!1):!0}z.prototype.write=function(ct,N,D){var ot=this._writableState,J=!1,G=!ot.objectMode&&c(ct);return G&&!s.isBuffer(ct)&&(ct=l(ct)),typeof N=="function"&&(D=N,N=null),G?N="buffer":N||(N=ot.defaultEncoding),typeof D!="function"&&(D=C),ot.ending?k(this,D):(G||rt(this,ot,ct,D))&&(ot.pendingcb++,J=U(this,ot,G,ct,N,D)),J},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var ct=this._writableState;ct.corked&&(ct.corked--,!ct.writing&&!ct.corked&&!ct.bufferProcessing&&ct.bufferedRequest&&vt(this,ct))},z.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new x(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ht(ct,N,D){return!ct.objectMode&&ct.decodeStrings!==!1&&typeof N=="string"&&(N=s.from(N,D)),N}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function U(ct,N,D,ot,J,G){if(!D){var W=ht(N,ot,J);ot!==W&&(D=!0,J="buffer",ot=W)}var St=N.objectMode?1:ot.length;N.length+=St;var I=N.length<N.highWaterMark;if(I||(N.needDrain=!0),N.writing||N.corked){var At=N.lastBufferedRequest;N.lastBufferedRequest={chunk:ot,encoding:J,isBuf:D,callback:G,next:null},At?At.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else dt(ct,N,!1,St,ot,J,G);return I}function dt(ct,N,D,ot,J,G,W){N.writelen=ot,N.writecb=W,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new _("write")):D?ct._writev(J,N.onwrite):ct._write(J,G,N.onwrite),N.sync=!1}function j(ct,N,D,ot,J){--N.pendingcb,D?(Qt.nextTick(J,ot),Qt.nextTick(K,ct,N),ct._writableState.errorEmitted=!0,T(ct,ot)):(J(ot),ct._writableState.errorEmitted=!0,T(ct,ot),K(ct,N))}function yt(ct){ct.writing=!1,ct.writecb=null,ct.length-=ct.writelen,ct.writelen=0}function et(ct,N){var D=ct._writableState,ot=D.sync,J=D.writecb;if(typeof J!="function")throw new E;if(yt(D),N)j(ct,D,ot,N,J);else{var G=It(D)||ct.destroyed;!G&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&vt(ct,D),ot?Qt.nextTick(Q,ct,D,G,J):Q(ct,D,G,J)}}function Q(ct,N,D,ot){D||ft(ct,N),N.pendingcb--,ot(),K(ct,N)}function ft(ct,N){N.length===0&&N.needDrain&&(N.needDrain=!1,ct.emit("drain"))}function vt(ct,N){N.bufferProcessing=!0;var D=N.bufferedRequest;if(ct._writev&&D&&D.next){var ot=N.bufferedRequestCount,J=new Array(ot),G=N.corkedRequestsFree;G.entry=D;for(var W=0,St=!0;D;)J[W]=D,D.isBuf||(St=!1),D=D.next,W+=1;J.allBuffers=St,dt(ct,N,!0,N.length,J,"",G.finish),N.pendingcb++,N.lastBufferedRequest=null,G.next?(N.corkedRequestsFree=G.next,G.next=null):N.corkedRequestsFree=new r(N),N.bufferedRequestCount=0}else{for(;D;){var I=D.chunk,At=D.encoding,gt=D.callback,tt=N.objectMode?1:I.length;if(dt(ct,N,!1,tt,I,At,gt),D=D.next,N.bufferedRequestCount--,N.writing)break}D===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=D,N.bufferProcessing=!1}z.prototype._write=function(ct,N,D){D(new y("_write()"))},z.prototype._writev=null,z.prototype.end=function(ct,N,D){var ot=this._writableState;return typeof ct=="function"?(D=ct,ct=null,N=null):typeof N=="function"&&(D=N,N=null),ct!=null&&this.write(ct,N),ot.corked&&(ot.corked=1,this.uncork()),ot.ending||st(this,ot,D),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function It(ct){return ct.ending&&ct.length===0&&ct.bufferedRequest===null&&!ct.finished&&!ct.writing}function H(ct,N){ct._final(function(D){N.pendingcb--,D&&T(ct,D),N.prefinished=!0,ct.emit("prefinish"),K(ct,N)})}function Z(ct,N){!N.prefinished&&!N.finalCalled&&(typeof ct._final=="function"&&!N.destroyed?(N.pendingcb++,N.finalCalled=!0,Qt.nextTick(H,ct,N)):(N.prefinished=!0,ct.emit("prefinish")))}function K(ct,N){var D=It(N);if(D&&(Z(ct,N),N.pendingcb===0&&(N.finished=!0,ct.emit("finish"),N.autoDestroy))){var ot=ct._readableState;(!ot||ot.autoDestroy&&ot.endEmitted)&&ct.destroy()}return D}function st(ct,N,D){N.ending=!0,K(ct,N),D&&(N.finished?Qt.nextTick(D):ct.once("finish",D)),N.ended=!0,ct.writable=!1}function ut(ct,N,D){var ot=ct.entry;for(ct.entry=null;ot;){var J=ot.callback;N.pendingcb--,J(D),ot=ot.next}N.corkedRequestsFree.next=ct}return Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),z.prototype.destroy=h.destroy,z.prototype._undestroy=h.undestroy,z.prototype._destroy=function(ct,N){N(ct)},Am}var Sm,p_;function co(){if(p_)return Sm;p_=1;var r=Object.keys||function(f){var d=[];for(var p in f)d.push(p);return d};Sm=l;var t=WS(),e=$S();$s()(l,t);for(var n=r(e.prototype),s=0;s<n.length;s++){var a=n[s];l.prototype[a]||(l.prototype[a]=e.prototype[a])}function l(f){if(!(this instanceof l))return new l(f);t.call(this,f),e.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||Qt.nextTick(h,this)}function h(f){f.end()}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),Sm}var xm={},Au={exports:{}},m_;function NI(){return m_||(m_=1,(function(r,t){var e=wh(),n=e.Buffer;function s(l,c){for(var h in l)c[h]=l[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(s(e,t),t.Buffer=a);function a(l,c,h){return n(l,c,h)}s(n,a),a.from=function(l,c,h){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,c,h)},a.alloc=function(l,c,h){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=n(l);return c!==void 0?typeof h=="string"?f.fill(c,h):f.fill(c):f.fill(0),f},a.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},a.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(l)}})(Au,Au.exports)),Au.exports}var g_;function y_(){if(g_)return xm;g_=1;var r=NI().Buffer,t=r.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function e(v){if(!v)return"utf8";for(var S;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(S)return;v=(""+v).toLowerCase(),S=!0}}function n(v){var S=e(v);if(typeof S!="string"&&(r.isEncoding===t||!t(v)))throw new Error("Unknown encoding: "+v);return S||v}xm.StringDecoder=s;function s(v){this.encoding=n(v);var S;switch(this.encoding){case"utf16le":this.text=p,this.end=g,S=4;break;case"utf8":this.fillLast=h,S=4;break;case"base64":this.text=y,this.end=E,S=3;break;default:this.write=b,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(S)}s.prototype.write=function(v){if(v.length===0)return"";var S,x;if(this.lastNeed){if(S=this.fillLast(v),S===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<v.length?S?S+this.text(v,x):this.text(v,x):S||""},s.prototype.end=d,s.prototype.text=f,s.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function a(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function l(v,S,x){var T=S.length-1;if(T<x)return 0;var C=a(S[T]);return C>=0?(C>0&&(v.lastNeed=C-1),C):--T<x||C===-2?0:(C=a(S[T]),C>=0?(C>0&&(v.lastNeed=C-2),C):--T<x||C===-2?0:(C=a(S[T]),C>=0?(C>0&&(C===2?C=0:v.lastNeed=C-3),C):0))}function c(v,S,x){if((S[0]&192)!==128)return v.lastNeed=0,"";if(v.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return v.lastNeed=1,"";if(v.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return v.lastNeed=2,""}}function h(v){var S=this.lastTotal-this.lastNeed,x=c(this,v);if(x!==void 0)return x;if(this.lastNeed<=v.length)return v.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,S,0,v.length),this.lastNeed-=v.length}function f(v,S){var x=l(this,v,S);if(!this.lastNeed)return v.toString("utf8",S);this.lastTotal=x;var T=v.length-(x-this.lastNeed);return v.copy(this.lastChar,0,T),v.toString("utf8",S,T)}function d(v){var S=v&&v.length?this.write(v):"";return this.lastNeed?S+"":S}function p(v,S){if((v.length-S)%2===0){var x=v.toString("utf16le",S);if(x){var T=x.charCodeAt(x.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",S,v.length-1)}function g(v){var S=v&&v.length?this.write(v):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,x)}return S}function y(v,S){var x=(v.length-S)%3;return x===0?v.toString("base64",S):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",S,v.length-x))}function E(v){var S=v&&v.length?this.write(v):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function b(v){return v.toString(this.encoding)}function _(v){return v&&v.length?this.write(v):""}return xm}var Tm,b_;function e0(){if(b_)return Tm;b_=1;var r=bo().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var l=!1;return function(){if(!l){l=!0;for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];a.apply(this,h)}}}function e(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function s(a,l,c){if(typeof l=="function")return s(a,null,l);l||(l={}),c=t(c||e);var h=l.readable||l.readable!==!1&&a.readable,f=l.writable||l.writable!==!1&&a.writable,d=function(){a.writable||g()},p=a._writableState&&a._writableState.finished,g=function(){f=!1,p=!0,h||c.call(a)},y=a._readableState&&a._readableState.endEmitted,E=function(){h=!1,y=!0,f||c.call(a)},b=function(x){c.call(a,x)},_=function(){var x;if(h&&!y)return(!a._readableState||!a._readableState.ended)&&(x=new r),c.call(a,x);if(f&&!p)return(!a._writableState||!a._writableState.ended)&&(x=new r),c.call(a,x)},v=function(){a.req.on("finish",g)};return n(a)?(a.on("complete",g),a.on("abort",_),a.req?v():a.on("request",v)):f&&!a._writableState&&(a.on("end",d),a.on("close",d)),a.on("end",E),a.on("finish",g),l.error!==!1&&a.on("error",b),a.on("close",_),function(){a.removeListener("complete",g),a.removeListener("abort",_),a.removeListener("request",v),a.req&&a.req.removeListener("finish",g),a.removeListener("end",d),a.removeListener("close",d),a.removeListener("finish",g),a.removeListener("end",E),a.removeListener("error",b),a.removeListener("close",_)}}return Tm=s,Tm}var Cm,v_;function DI(){if(v_)return Cm;v_=1;var r;function t(x,T,C){return T=e(T),T in x?Object.defineProperty(x,T,{value:C,enumerable:!0,configurable:!0,writable:!0}):x[T]=C,x}function e(x){var T=n(x,"string");return typeof T=="symbol"?T:String(T)}function n(x,T){if(typeof x!="object"||x===null)return x;var C=x[Symbol.toPrimitive];if(C!==void 0){var M=C.call(x,T);if(typeof M!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(x)}var s=e0(),a=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function g(x,T){return{value:x,done:T}}function y(x){var T=x[a];if(T!==null){var C=x[p].read();C!==null&&(x[f]=null,x[a]=null,x[l]=null,T(g(C,!1)))}}function E(x){Qt.nextTick(y,x)}function b(x,T){return function(C,M){x.then(function(){if(T[h]){C(g(void 0,!0));return}T[d](C,M)},M)}}var _=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((r={get stream(){return this[p]},next:function(){var T=this,C=this[c];if(C!==null)return Promise.reject(C);if(this[h])return Promise.resolve(g(void 0,!0));if(this[p].destroyed)return new Promise(function(k,rt){Qt.nextTick(function(){T[c]?rt(T[c]):k(g(void 0,!0))})});var M=this[f],L;if(M)L=new Promise(b(M,this));else{var z=this[p].read();if(z!==null)return Promise.resolve(g(z,!1));L=new Promise(this[d])}return this[f]=L,L}},t(r,Symbol.asyncIterator,function(){return this}),t(r,"return",function(){var T=this;return new Promise(function(C,M){T[p].destroy(null,function(L){if(L){M(L);return}C(g(void 0,!0))})})}),r),_),S=function(T){var C,M=Object.create(v,(C={},t(C,p,{value:T,writable:!0}),t(C,a,{value:null,writable:!0}),t(C,l,{value:null,writable:!0}),t(C,c,{value:null,writable:!0}),t(C,h,{value:T._readableState.endEmitted,writable:!0}),t(C,d,{value:function(z,k){var rt=M[p].read();rt?(M[f]=null,M[a]=null,M[l]=null,z(g(rt,!1))):(M[a]=z,M[l]=k)},writable:!0}),C));return M[f]=null,s(T,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=M[l];z!==null&&(M[f]=null,M[a]=null,M[l]=null,z(L)),M[c]=L;return}var k=M[a];k!==null&&(M[f]=null,M[a]=null,M[l]=null,k(g(void 0,!0))),M[h]=!0}),T.on("readable",E.bind(null,M)),M};return Cm=S,Cm}var Rm,w_;function II(){return w_||(w_=1,Rm=function(){throw new Error("Readable.from is not available in the browser")}),Rm}var Om,__;function WS(){if(__)return Om;__=1,Om=k;var r;k.ReadableState=z,bh().EventEmitter;var t=function(W,St){return W.listeners(St).length},e=LS(),n=wh().Buffer,s=(typeof xi<"u"?xi:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(G){return n.from(G)}function l(G){return n.isBuffer(G)||G instanceof s}var c=VS(),h;c&&c.debuglog?h=c.debuglog("stream"):h=function(){};var f=RI(),d=qS(),p=YS(),g=p.getHighWaterMark,y=bo().codes,E=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,v=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,S,x,T;$s()(k,e);var C=d.errorOrDestroy,M=["error","close","destroy","pause","resume"];function L(G,W,St){if(typeof G.prependListener=="function")return G.prependListener(W,St);!G._events||!G._events[W]?G.on(W,St):Array.isArray(G._events[W])?G._events[W].unshift(St):G._events[W]=[St,G._events[W]]}function z(G,W,St){r=r||co(),G=G||{},typeof St!="boolean"&&(St=W instanceof r),this.objectMode=!!G.objectMode,St&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=g(this,G,"readableHighWaterMark",St),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(S||(S=y_().StringDecoder),this.decoder=new S(G.encoding),this.encoding=G.encoding)}function k(G){if(r=r||co(),!(this instanceof k))return new k(G);var W=this instanceof r;this._readableState=new z(G,this,W),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),e.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(W){this._readableState&&(this._readableState.destroyed=W)}}),k.prototype.destroy=d.destroy,k.prototype._undestroy=d.undestroy,k.prototype._destroy=function(G,W){W(G)},k.prototype.push=function(G,W){var St=this._readableState,I;return St.objectMode?I=!0:typeof G=="string"&&(W=W||St.defaultEncoding,W!==St.encoding&&(G=n.from(G,W),W=""),I=!0),rt(this,G,W,!1,I)},k.prototype.unshift=function(G){return rt(this,G,null,!0,!1)};function rt(G,W,St,I,At){h("readableAddChunk",W);var gt=G._readableState;if(W===null)gt.reading=!1,et(G,gt);else{var tt;if(At||(tt=U(gt,W)),tt)C(G,tt);else if(gt.objectMode||W&&W.length>0)if(typeof W!="string"&&!gt.objectMode&&Object.getPrototypeOf(W)!==n.prototype&&(W=a(W)),I)gt.endEmitted?C(G,new v):ht(G,gt,W,!0);else if(gt.ended)C(G,new b);else{if(gt.destroyed)return!1;gt.reading=!1,gt.decoder&&!St?(W=gt.decoder.write(W),gt.objectMode||W.length!==0?ht(G,gt,W,!1):vt(G,gt)):ht(G,gt,W,!1)}else I||(gt.reading=!1,vt(G,gt))}return!gt.ended&&(gt.length<gt.highWaterMark||gt.length===0)}function ht(G,W,St,I){W.flowing&&W.length===0&&!W.sync?(W.awaitDrain=0,G.emit("data",St)):(W.length+=W.objectMode?1:St.length,I?W.buffer.unshift(St):W.buffer.push(St),W.needReadable&&Q(G)),vt(G,W)}function U(G,W){var St;return!l(W)&&typeof W!="string"&&W!==void 0&&!G.objectMode&&(St=new E("chunk",["string","Buffer","Uint8Array"],W)),St}k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function(G){S||(S=y_().StringDecoder);var W=new S(G);this._readableState.decoder=W,this._readableState.encoding=this._readableState.decoder.encoding;for(var St=this._readableState.buffer.head,I="";St!==null;)I+=W.write(St.data),St=St.next;return this._readableState.buffer.clear(),I!==""&&this._readableState.buffer.push(I),this._readableState.length=I.length,this};var dt=1073741824;function j(G){return G>=dt?G=dt:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function yt(G,W){return G<=0||W.length===0&&W.ended?0:W.objectMode?1:G!==G?W.flowing&&W.length?W.buffer.head.data.length:W.length:(G>W.highWaterMark&&(W.highWaterMark=j(G)),G<=W.length?G:W.ended?W.length:(W.needReadable=!0,0))}k.prototype.read=function(G){h("read",G),G=parseInt(G,10);var W=this._readableState,St=G;if(G!==0&&(W.emittedReadable=!1),G===0&&W.needReadable&&((W.highWaterMark!==0?W.length>=W.highWaterMark:W.length>0)||W.ended))return h("read: emitReadable",W.length,W.ended),W.length===0&&W.ended?D(this):Q(this),null;if(G=yt(G,W),G===0&&W.ended)return W.length===0&&D(this),null;var I=W.needReadable;h("need readable",I),(W.length===0||W.length-G<W.highWaterMark)&&(I=!0,h("length less than watermark",I)),W.ended||W.reading?(I=!1,h("reading or ended",I)):I&&(h("do read"),W.reading=!0,W.sync=!0,W.length===0&&(W.needReadable=!0),this._read(W.highWaterMark),W.sync=!1,W.reading||(G=yt(St,W)));var At;return G>0?At=N(G,W):At=null,At===null?(W.needReadable=W.length<=W.highWaterMark,G=0):(W.length-=G,W.awaitDrain=0),W.length===0&&(W.ended||(W.needReadable=!0),St!==G&&W.ended&&D(this)),At!==null&&this.emit("data",At),At};function et(G,W){if(h("onEofChunk"),!W.ended){if(W.decoder){var St=W.decoder.end();St&&St.length&&(W.buffer.push(St),W.length+=W.objectMode?1:St.length)}W.ended=!0,W.sync?Q(G):(W.needReadable=!1,W.emittedReadable||(W.emittedReadable=!0,ft(G)))}}function Q(G){var W=G._readableState;h("emitReadable",W.needReadable,W.emittedReadable),W.needReadable=!1,W.emittedReadable||(h("emitReadable",W.flowing),W.emittedReadable=!0,Qt.nextTick(ft,G))}function ft(G){var W=G._readableState;h("emitReadable_",W.destroyed,W.length,W.ended),!W.destroyed&&(W.length||W.ended)&&(G.emit("readable"),W.emittedReadable=!1),W.needReadable=!W.flowing&&!W.ended&&W.length<=W.highWaterMark,ct(G)}function vt(G,W){W.readingMore||(W.readingMore=!0,Qt.nextTick(It,G,W))}function It(G,W){for(;!W.reading&&!W.ended&&(W.length<W.highWaterMark||W.flowing&&W.length===0);){var St=W.length;if(h("maybeReadMore read 0"),G.read(0),St===W.length)break}W.readingMore=!1}k.prototype._read=function(G){C(this,new _("_read()"))},k.prototype.pipe=function(G,W){var St=this,I=this._readableState;switch(I.pipesCount){case 0:I.pipes=G;break;case 1:I.pipes=[I.pipes,G];break;default:I.pipes.push(G);break}I.pipesCount+=1,h("pipe count=%d opts=%j",I.pipesCount,W);var At=(!W||W.end!==!1)&&G!==Qt.stdout&&G!==Qt.stderr,gt=At?at:Gt;I.endEmitted?Qt.nextTick(gt):St.once("end",gt),G.on("unpipe",tt);function tt(oe,Xt){h("onunpipe"),oe===St&&Xt&&Xt.hasUnpiped===!1&&(Xt.hasUnpiped=!0,kt())}function at(){h("onend"),G.end()}var it=H(St);G.on("drain",it);var Mt=!1;function kt(){h("cleanup"),G.removeListener("close",zt),G.removeListener("finish",jt),G.removeListener("drain",it),G.removeListener("error",Ft),G.removeListener("unpipe",tt),St.removeListener("end",at),St.removeListener("end",Gt),St.removeListener("data",_t),Mt=!0,I.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&it()}St.on("data",_t);function _t(oe){h("ondata");var Xt=G.write(oe);h("dest.write",Xt),Xt===!1&&((I.pipesCount===1&&I.pipes===G||I.pipesCount>1&&J(I.pipes,G)!==-1)&&!Mt&&(h("false write response, pause",I.awaitDrain),I.awaitDrain++),St.pause())}function Ft(oe){h("onerror",oe),Gt(),G.removeListener("error",Ft),t(G,"error")===0&&C(G,oe)}L(G,"error",Ft);function zt(){G.removeListener("finish",jt),Gt()}G.once("close",zt);function jt(){h("onfinish"),G.removeListener("close",zt),Gt()}G.once("finish",jt);function Gt(){h("unpipe"),St.unpipe(G)}return G.emit("pipe",St),I.flowing||(h("pipe resume"),St.resume()),G};function H(G){return function(){var St=G._readableState;h("pipeOnDrain",St.awaitDrain),St.awaitDrain&&St.awaitDrain--,St.awaitDrain===0&&t(G,"data")&&(St.flowing=!0,ct(G))}}k.prototype.unpipe=function(G){var W=this._readableState,St={hasUnpiped:!1};if(W.pipesCount===0)return this;if(W.pipesCount===1)return G&&G!==W.pipes?this:(G||(G=W.pipes),W.pipes=null,W.pipesCount=0,W.flowing=!1,G&&G.emit("unpipe",this,St),this);if(!G){var I=W.pipes,At=W.pipesCount;W.pipes=null,W.pipesCount=0,W.flowing=!1;for(var gt=0;gt<At;gt++)I[gt].emit("unpipe",this,{hasUnpiped:!1});return this}var tt=J(W.pipes,G);return tt===-1?this:(W.pipes.splice(tt,1),W.pipesCount-=1,W.pipesCount===1&&(W.pipes=W.pipes[0]),G.emit("unpipe",this,St),this)},k.prototype.on=function(G,W){var St=e.prototype.on.call(this,G,W),I=this._readableState;return G==="data"?(I.readableListening=this.listenerCount("readable")>0,I.flowing!==!1&&this.resume()):G==="readable"&&!I.endEmitted&&!I.readableListening&&(I.readableListening=I.needReadable=!0,I.flowing=!1,I.emittedReadable=!1,h("on readable",I.length,I.reading),I.length?Q(this):I.reading||Qt.nextTick(K,this)),St},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(G,W){var St=e.prototype.removeListener.call(this,G,W);return G==="readable"&&Qt.nextTick(Z,this),St},k.prototype.removeAllListeners=function(G){var W=e.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&Qt.nextTick(Z,this),W};function Z(G){var W=G._readableState;W.readableListening=G.listenerCount("readable")>0,W.resumeScheduled&&!W.paused?W.flowing=!0:G.listenerCount("data")>0&&G.resume()}function K(G){h("readable nexttick read 0"),G.read(0)}k.prototype.resume=function(){var G=this._readableState;return G.flowing||(h("resume"),G.flowing=!G.readableListening,st(this,G)),G.paused=!1,this};function st(G,W){W.resumeScheduled||(W.resumeScheduled=!0,Qt.nextTick(ut,G,W))}function ut(G,W){h("resume",W.reading),W.reading||G.read(0),W.resumeScheduled=!1,G.emit("resume"),ct(G),W.flowing&&!W.reading&&G.read(0)}k.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ct(G){var W=G._readableState;for(h("flow",W.flowing);W.flowing&&G.read()!==null;);}k.prototype.wrap=function(G){var W=this,St=this._readableState,I=!1;G.on("end",function(){if(h("wrapped end"),St.decoder&&!St.ended){var tt=St.decoder.end();tt&&tt.length&&W.push(tt)}W.push(null)}),G.on("data",function(tt){if(h("wrapped data"),St.decoder&&(tt=St.decoder.write(tt)),!(St.objectMode&&tt==null)&&!(!St.objectMode&&(!tt||!tt.length))){var at=W.push(tt);at||(I=!0,G.pause())}});for(var At in G)this[At]===void 0&&typeof G[At]=="function"&&(this[At]=(function(at){return function(){return G[at].apply(G,arguments)}})(At));for(var gt=0;gt<M.length;gt++)G.on(M[gt],this.emit.bind(this,M[gt]));return this._read=function(tt){h("wrapped _read",tt),I&&(I=!1,G.resume())},this},typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=DI()),x(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(W){this._readableState&&(this._readableState.flowing=W)}}),k._fromList=N,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function N(G,W){if(W.length===0)return null;var St;return W.objectMode?St=W.buffer.shift():!G||G>=W.length?(W.decoder?St=W.buffer.join(""):W.buffer.length===1?St=W.buffer.first():St=W.buffer.concat(W.length),W.buffer.clear()):St=W.buffer.consume(G,W.decoder),St}function D(G){var W=G._readableState;h("endReadable",W.endEmitted),W.endEmitted||(W.ended=!0,Qt.nextTick(ot,W,G))}function ot(G,W){if(h("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,W.readable=!1,W.emit("end"),G.autoDestroy)){var St=W._writableState;(!St||St.autoDestroy&&St.finished)&&W.destroy()}}typeof Symbol=="function"&&(k.from=function(G,W){return T===void 0&&(T=II()),T(k,G,W)});function J(G,W){for(var St=0,I=G.length;St<I;St++)if(G[St]===W)return St;return-1}return Om}var Nm,E_;function XS(){if(E_)return Nm;E_=1,Nm=c;var r=bo().codes,t=r.ERR_METHOD_NOT_IMPLEMENTED,e=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,a=co();$s()(c,a);function l(d,p){var g=this._transformState;g.transforming=!1;var y=g.writecb;if(y===null)return this.emit("error",new e);g.writechunk=null,g.writecb=null,p!=null&&this.push(p),y(d);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function c(d){if(!(this instanceof c))return new c(d);a.call(this,d),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",h)}function h(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,g){f(d,p,g)}):f(this,null,null)}c.prototype.push=function(d,p){return this._transformState.needTransform=!1,a.prototype.push.call(this,d,p)},c.prototype._transform=function(d,p,g){g(new t("_transform()"))},c.prototype._write=function(d,p,g){var y=this._transformState;if(y.writecb=g,y.writechunk=d,y.writeencoding=p,!y.transforming){var E=this._readableState;(y.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},c.prototype._read=function(d){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},c.prototype._destroy=function(d,p){a.prototype._destroy.call(this,d,function(g){p(g)})};function f(d,p,g){if(p)return d.emit("error",p);if(g!=null&&d.push(g),d._writableState.length)throw new s;if(d._transformState.transforming)throw new n;return d.push(null)}return Nm}var Dm,A_;function MI(){if(A_)return Dm;A_=1,Dm=t;var r=XS();$s()(t,r);function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}return t.prototype._transform=function(e,n,s){s(null,e)},Dm}var Im,S_;function LI(){if(S_)return Im;S_=1;var r;function t(g){var y=!1;return function(){y||(y=!0,g.apply(void 0,arguments))}}var e=bo().codes,n=e.ERR_MISSING_ARGS,s=e.ERR_STREAM_DESTROYED;function a(g){if(g)throw g}function l(g){return g.setHeader&&typeof g.abort=="function"}function c(g,y,E,b){b=t(b);var _=!1;g.on("close",function(){_=!0}),r===void 0&&(r=e0()),r(g,{readable:y,writable:E},function(S){if(S)return b(S);_=!0,b()});var v=!1;return function(S){if(!_&&!v){if(v=!0,l(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();b(S||new s("pipe"))}}}function h(g){g()}function f(g,y){return g.pipe(y)}function d(g){return!g.length||typeof g[g.length-1]!="function"?a:g.pop()}function p(){for(var g=arguments.length,y=new Array(g),E=0;E<g;E++)y[E]=arguments[E];var b=d(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new n("streams");var _,v=y.map(function(S,x){var T=x<y.length-1,C=x>0;return c(S,T,C,function(M){_||(_=M),M&&v.forEach(h),!T&&(v.forEach(h),b(_))})});return y.reduce(f)}return Im=p,Im}var Mm,x_;function kI(){if(x_)return Mm;x_=1,Mm=e;var r=bh().EventEmitter,t=$s();t(e,r),e.Readable=WS(),e.Writable=$S(),e.Duplex=co(),e.Transform=XS(),e.PassThrough=MI(),e.finished=e0(),e.pipeline=LI(),e.Stream=e;function e(){r.call(this)}return e.prototype.pipe=function(n,s){var a=this;function l(y){n.writable&&n.write(y)===!1&&a.pause&&a.pause()}a.on("data",l);function c(){a.readable&&a.resume&&a.resume()}n.on("drain",c),!n._isStdio&&(!s||s.end!==!1)&&(a.on("end",f),a.on("close",d));var h=!1;function f(){h||(h=!0,n.end())}function d(){h||(h=!0,typeof n.destroy=="function"&&n.destroy())}function p(y){if(g(),r.listenerCount(this,"error")===0)throw y}a.on("error",p),n.on("error",p);function g(){a.removeListener("data",l),n.removeListener("drain",c),a.removeListener("end",f),a.removeListener("close",d),a.removeListener("error",p),n.removeListener("error",p),a.removeListener("end",g),a.removeListener("close",g),n.removeListener("close",g)}return a.on("end",g),a.on("close",g),n.on("close",g),n.emit("pipe",a),n},Mm}var T_;function PI(){return T_||(T_=1,(function(r){(function(t){t.parser=function(N,D){return new n(N,D)},t.SAXParser=n,t.SAXStream=d,t.createStream=f,t.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(N,D){if(!(this instanceof n))return new n(N,D);var ot=this;a(ot),ot.q=ot.c="",ot.bufferCheckPosition=t.MAX_BUFFER_LENGTH,ot.opt=D||{},ot.opt.lowercase=ot.opt.lowercase||ot.opt.lowercasetags,ot.looseCase=ot.opt.lowercase?"toLowerCase":"toUpperCase",ot.tags=[],ot.closed=ot.closedRoot=ot.sawRoot=!1,ot.tag=ot.error=null,ot.strict=!!N,ot.noscript=!!(N||ot.opt.noscript),ot.state=k.BEGIN,ot.strictEntities=ot.opt.strictEntities,ot.ENTITIES=ot.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),ot.attribList=[],ot.opt.xmlns&&(ot.ns=Object.create(b)),ot.opt.unquotedAttributeValues===void 0&&(ot.opt.unquotedAttributeValues=!N),ot.trackPosition=ot.opt.position!==!1,ot.trackPosition&&(ot.position=ot.line=ot.column=0),ht(ot,"onready")}Object.create||(Object.create=function(N){function D(){}D.prototype=N;var ot=new D;return ot}),Object.keys||(Object.keys=function(N){var D=[];for(var ot in N)N.hasOwnProperty(ot)&&D.push(ot);return D});function s(N){for(var D=Math.max(t.MAX_BUFFER_LENGTH,10),ot=0,J=0,G=e.length;J<G;J++){var W=N[e[J]].length;if(W>D)switch(e[J]){case"textNode":dt(N);break;case"cdata":U(N,"oncdata",N.cdata),N.cdata="";break;case"script":U(N,"onscript",N.script),N.script="";break;default:yt(N,"Max buffer length exceeded: "+e[J])}ot=Math.max(ot,W)}var St=t.MAX_BUFFER_LENGTH-ot;N.bufferCheckPosition=St+N.position}function a(N){for(var D=0,ot=e.length;D<ot;D++)N[e[D]]=""}function l(N){dt(N),N.cdata!==""&&(U(N,"oncdata",N.cdata),N.cdata=""),N.script!==""&&(U(N,"onscript",N.script),N.script="")}n.prototype={end:function(){et(this)},write:ct,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){l(this)}};var c;try{c=kI().Stream}catch{c=function(){}}c||(c=function(){});var h=t.EVENTS.filter(function(N){return N!=="error"&&N!=="end"});function f(N,D){return new d(N,D)}function d(N,D){if(!(this instanceof d))return new d(N,D);c.apply(this),this._parser=new n(N,D),this.writable=!0,this.readable=!0;var ot=this;this._parser.onend=function(){ot.emit("end")},this._parser.onerror=function(J){ot.emit("error",J),ot._parser.error=null},this._decoder=null,h.forEach(function(J){Object.defineProperty(ot,"on"+J,{get:function(){return ot._parser["on"+J]},set:function(G){if(!G)return ot.removeAllListeners(J),ot._parser["on"+J]=G,G;ot.on(J,G)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(c.prototype,{constructor:{value:d}}),d.prototype.write=function(N){return typeof In=="function"&&typeof In.isBuffer=="function"&&In.isBuffer(N)&&(this._decoder||(this._decoder=new TextDecoder("utf8")),N=this._decoder.decode(N,{stream:!0})),this._parser.write(N.toString()),this.emit("data",N),!0},d.prototype.end=function(N){if(N&&N.length&&this.write(N),this._decoder){var D=this._decoder.decode();D&&(this._parser.write(D),this.emit("data",D))}return this._parser.end(),!0},d.prototype.on=function(N,D){var ot=this;return!ot._parser["on"+N]&&h.indexOf(N)!==-1&&(ot._parser["on"+N]=function(){var J=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);J.splice(0,0,N),ot.emit.apply(ot,J)}),c.prototype.on.call(ot,N,D)};var p="[CDATA[",g="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",b={xml:y,xmlns:E},_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function T(N){return N===" "||N===`
`||N==="\r"||N==="	"}function C(N){return N==='"'||N==="'"}function M(N){return N===">"||T(N)}function L(N,D){return N.test(D)}function z(N,D){return!L(N,D)}var k=0;t.STATE={BEGIN:k++,BEGIN_WHITESPACE:k++,TEXT:k++,TEXT_ENTITY:k++,OPEN_WAKA:k++,SGML_DECL:k++,SGML_DECL_QUOTED:k++,DOCTYPE:k++,DOCTYPE_QUOTED:k++,DOCTYPE_DTD:k++,DOCTYPE_DTD_QUOTED:k++,COMMENT_STARTING:k++,COMMENT:k++,COMMENT_ENDING:k++,COMMENT_ENDED:k++,CDATA:k++,CDATA_ENDING:k++,CDATA_ENDING_2:k++,PROC_INST:k++,PROC_INST_BODY:k++,PROC_INST_ENDING:k++,OPEN_TAG:k++,OPEN_TAG_SLASH:k++,ATTRIB:k++,ATTRIB_NAME:k++,ATTRIB_NAME_SAW_WHITE:k++,ATTRIB_VALUE:k++,ATTRIB_VALUE_QUOTED:k++,ATTRIB_VALUE_CLOSED:k++,ATTRIB_VALUE_UNQUOTED:k++,ATTRIB_VALUE_ENTITY_Q:k++,ATTRIB_VALUE_ENTITY_U:k++,CLOSE_TAG:k++,CLOSE_TAG_SAW_WHITE:k++,SCRIPT:k++,SCRIPT_ENDING:k++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(N){var D=t.ENTITIES[N],ot=typeof D=="number"?String.fromCharCode(D):D;t.ENTITIES[N]=ot});for(var rt in t.STATE)t.STATE[t.STATE[rt]]=rt;k=t.STATE;function ht(N,D,ot){N[D]&&N[D](ot)}function U(N,D,ot){N.textNode&&dt(N),ht(N,D,ot)}function dt(N){N.textNode=j(N.opt,N.textNode),N.textNode&&ht(N,"ontext",N.textNode),N.textNode=""}function j(N,D){return N.trim&&(D=D.trim()),N.normalize&&(D=D.replace(/\s+/g," ")),D}function yt(N,D){return dt(N),N.trackPosition&&(D+=`
Line: `+N.line+`
Column: `+N.column+`
Char: `+N.c),D=new Error(D),N.error=D,ht(N,"onerror",D),N}function et(N){return N.sawRoot&&!N.closedRoot&&Q(N,"Unclosed root tag"),N.state!==k.BEGIN&&N.state!==k.BEGIN_WHITESPACE&&N.state!==k.TEXT&&yt(N,"Unexpected end"),dt(N),N.c="",N.closed=!0,ht(N,"onend"),n.call(N,N.strict,N.opt),N}function Q(N,D){if(typeof N!="object"||!(N instanceof n))throw new Error("bad call to strictFail");N.strict&&yt(N,D)}function ft(N){N.strict||(N.tagName=N.tagName[N.looseCase]());var D=N.tags[N.tags.length-1]||N,ot=N.tag={name:N.tagName,attributes:{}};N.opt.xmlns&&(ot.ns=D.ns),N.attribList.length=0,U(N,"onopentagstart",ot)}function vt(N,D){var ot=N.indexOf(":"),J=ot<0?["",N]:N.split(":"),G=J[0],W=J[1];return D&&N==="xmlns"&&(G="xmlns",W=""),{prefix:G,local:W}}function It(N){if(N.strict||(N.attribName=N.attribName[N.looseCase]()),N.attribList.indexOf(N.attribName)!==-1||N.tag.attributes.hasOwnProperty(N.attribName)){N.attribName=N.attribValue="";return}if(N.opt.xmlns){var D=vt(N.attribName,!0),ot=D.prefix,J=D.local;if(ot==="xmlns")if(J==="xml"&&N.attribValue!==y)Q(N,"xml: prefix must be bound to "+y+`
Actual: `+N.attribValue);else if(J==="xmlns"&&N.attribValue!==E)Q(N,"xmlns: prefix must be bound to "+E+`
Actual: `+N.attribValue);else{var G=N.tag,W=N.tags[N.tags.length-1]||N;G.ns===W.ns&&(G.ns=Object.create(W.ns)),G.ns[J]=N.attribValue}N.attribList.push([N.attribName,N.attribValue])}else N.tag.attributes[N.attribName]=N.attribValue,U(N,"onattribute",{name:N.attribName,value:N.attribValue});N.attribName=N.attribValue=""}function H(N,D){if(N.opt.xmlns){var ot=N.tag,J=vt(N.tagName);ot.prefix=J.prefix,ot.local=J.local,ot.uri=ot.ns[J.prefix]||"",ot.prefix&&!ot.uri&&(Q(N,"Unbound namespace prefix: "+JSON.stringify(N.tagName)),ot.uri=J.prefix);var G=N.tags[N.tags.length-1]||N;ot.ns&&G.ns!==ot.ns&&Object.keys(ot.ns).forEach(function(_t){U(N,"onopennamespace",{prefix:_t,uri:ot.ns[_t]})});for(var W=0,St=N.attribList.length;W<St;W++){var I=N.attribList[W],At=I[0],gt=I[1],tt=vt(At,!0),at=tt.prefix,it=tt.local,Mt=at===""?"":ot.ns[at]||"",kt={name:At,value:gt,prefix:at,local:it,uri:Mt};at&&at!=="xmlns"&&!Mt&&(Q(N,"Unbound namespace prefix: "+JSON.stringify(at)),kt.uri=at),N.tag.attributes[At]=kt,U(N,"onattribute",kt)}N.attribList.length=0}N.tag.isSelfClosing=!!D,N.sawRoot=!0,N.tags.push(N.tag),U(N,"onopentag",N.tag),D||(!N.noscript&&N.tagName.toLowerCase()==="script"?N.state=k.SCRIPT:N.state=k.TEXT,N.tag=null,N.tagName=""),N.attribName=N.attribValue="",N.attribList.length=0}function Z(N){if(!N.tagName){Q(N,"Weird empty close tag."),N.textNode+="</>",N.state=k.TEXT;return}if(N.script){if(N.tagName!=="script"){N.script+="</"+N.tagName+">",N.tagName="",N.state=k.SCRIPT;return}U(N,"onscript",N.script),N.script=""}var D=N.tags.length,ot=N.tagName;N.strict||(ot=ot[N.looseCase]());for(var J=ot;D--;){var G=N.tags[D];if(G.name!==J)Q(N,"Unexpected close tag");else break}if(D<0){Q(N,"Unmatched closing tag: "+N.tagName),N.textNode+="</"+N.tagName+">",N.state=k.TEXT;return}N.tagName=ot;for(var W=N.tags.length;W-- >D;){var St=N.tag=N.tags.pop();N.tagName=N.tag.name,U(N,"onclosetag",N.tagName);var I={};for(var At in St.ns)I[At]=St.ns[At];var gt=N.tags[N.tags.length-1]||N;N.opt.xmlns&&St.ns!==gt.ns&&Object.keys(St.ns).forEach(function(tt){var at=St.ns[tt];U(N,"onclosenamespace",{prefix:tt,uri:at})})}D===0&&(N.closedRoot=!0),N.tagName=N.attribValue=N.attribName="",N.attribList.length=0,N.state=k.TEXT}function K(N){var D=N.entity,ot=D.toLowerCase(),J,G="";return N.ENTITIES[D]?N.ENTITIES[D]:N.ENTITIES[ot]?N.ENTITIES[ot]:(D=ot,D.charAt(0)==="#"&&(D.charAt(1)==="x"?(D=D.slice(2),J=parseInt(D,16),G=J.toString(16)):(D=D.slice(1),J=parseInt(D,10),G=J.toString(10))),D=D.replace(/^0+/,""),isNaN(J)||G.toLowerCase()!==D||J<0||J>1114111?(Q(N,"Invalid character entity"),"&"+N.entity+";"):String.fromCodePoint(J))}function st(N,D){D==="<"?(N.state=k.OPEN_WAKA,N.startTagPosition=N.position):T(D)||(Q(N,"Non-whitespace before first tag."),N.textNode=D,N.state=k.TEXT)}function ut(N,D){var ot="";return D<N.length&&(ot=N.charAt(D)),ot}function ct(N){var D=this;if(this.error)throw this.error;if(D.closed)return yt(D,"Cannot write after close. Assign an onready handler.");if(N===null)return et(D);typeof N=="object"&&(N=N.toString());for(var ot=0,J="";J=ut(N,ot++),D.c=J,!!J;)switch(D.trackPosition&&(D.position++,J===`
`?(D.line++,D.column=0):D.column++),D.state){case k.BEGIN:if(D.state=k.BEGIN_WHITESPACE,J==="\uFEFF")continue;st(D,J);continue;case k.BEGIN_WHITESPACE:st(D,J);continue;case k.TEXT:if(D.sawRoot&&!D.closedRoot){for(var W=ot-1;J&&J!=="<"&&J!=="&";)J=ut(N,ot++),J&&D.trackPosition&&(D.position++,J===`
`?(D.line++,D.column=0):D.column++);D.textNode+=N.substring(W,ot-1)}J==="<"&&!(D.sawRoot&&D.closedRoot&&!D.strict)?(D.state=k.OPEN_WAKA,D.startTagPosition=D.position):(!T(J)&&(!D.sawRoot||D.closedRoot)&&Q(D,"Text data outside of root node."),J==="&"?D.state=k.TEXT_ENTITY:D.textNode+=J);continue;case k.SCRIPT:J==="<"?D.state=k.SCRIPT_ENDING:D.script+=J;continue;case k.SCRIPT_ENDING:J==="/"?D.state=k.CLOSE_TAG:(D.script+="<"+J,D.state=k.SCRIPT);continue;case k.OPEN_WAKA:if(J==="!")D.state=k.SGML_DECL,D.sgmlDecl="";else if(!T(J))if(L(_,J))D.state=k.OPEN_TAG,D.tagName=J;else if(J==="/")D.state=k.CLOSE_TAG,D.tagName="";else if(J==="?")D.state=k.PROC_INST,D.procInstName=D.procInstBody="";else{if(Q(D,"Unencoded <"),D.startTagPosition+1<D.position){var G=D.position-D.startTagPosition;J=new Array(G).join(" ")+J}D.textNode+="<"+J,D.state=k.TEXT}continue;case k.SGML_DECL:if(D.sgmlDecl+J==="--"){D.state=k.COMMENT,D.comment="",D.sgmlDecl="";continue}D.doctype&&D.doctype!==!0&&D.sgmlDecl?(D.state=k.DOCTYPE_DTD,D.doctype+="<!"+D.sgmlDecl+J,D.sgmlDecl=""):(D.sgmlDecl+J).toUpperCase()===p?(U(D,"onopencdata"),D.state=k.CDATA,D.sgmlDecl="",D.cdata=""):(D.sgmlDecl+J).toUpperCase()===g?(D.state=k.DOCTYPE,(D.doctype||D.sawRoot)&&Q(D,"Inappropriately located doctype declaration"),D.doctype="",D.sgmlDecl=""):J===">"?(U(D,"onsgmldeclaration",D.sgmlDecl),D.sgmlDecl="",D.state=k.TEXT):(C(J)&&(D.state=k.SGML_DECL_QUOTED),D.sgmlDecl+=J);continue;case k.SGML_DECL_QUOTED:J===D.q&&(D.state=k.SGML_DECL,D.q=""),D.sgmlDecl+=J;continue;case k.DOCTYPE:J===">"?(D.state=k.TEXT,U(D,"ondoctype",D.doctype),D.doctype=!0):(D.doctype+=J,J==="["?D.state=k.DOCTYPE_DTD:C(J)&&(D.state=k.DOCTYPE_QUOTED,D.q=J));continue;case k.DOCTYPE_QUOTED:D.doctype+=J,J===D.q&&(D.q="",D.state=k.DOCTYPE);continue;case k.DOCTYPE_DTD:J==="]"?(D.doctype+=J,D.state=k.DOCTYPE):J==="<"?(D.state=k.OPEN_WAKA,D.startTagPosition=D.position):C(J)?(D.doctype+=J,D.state=k.DOCTYPE_DTD_QUOTED,D.q=J):D.doctype+=J;continue;case k.DOCTYPE_DTD_QUOTED:D.doctype+=J,J===D.q&&(D.state=k.DOCTYPE_DTD,D.q="");continue;case k.COMMENT:J==="-"?D.state=k.COMMENT_ENDING:D.comment+=J;continue;case k.COMMENT_ENDING:J==="-"?(D.state=k.COMMENT_ENDED,D.comment=j(D.opt,D.comment),D.comment&&U(D,"oncomment",D.comment),D.comment=""):(D.comment+="-"+J,D.state=k.COMMENT);continue;case k.COMMENT_ENDED:J!==">"?(Q(D,"Malformed comment"),D.comment+="--"+J,D.state=k.COMMENT):D.doctype&&D.doctype!==!0?D.state=k.DOCTYPE_DTD:D.state=k.TEXT;continue;case k.CDATA:for(var W=ot-1;J&&J!=="]";)J=ut(N,ot++),J&&D.trackPosition&&(D.position++,J===`
`?(D.line++,D.column=0):D.column++);D.cdata+=N.substring(W,ot-1),J==="]"&&(D.state=k.CDATA_ENDING);continue;case k.CDATA_ENDING:J==="]"?D.state=k.CDATA_ENDING_2:(D.cdata+="]"+J,D.state=k.CDATA);continue;case k.CDATA_ENDING_2:J===">"?(D.cdata&&U(D,"oncdata",D.cdata),U(D,"onclosecdata"),D.cdata="",D.state=k.TEXT):J==="]"?D.cdata+="]":(D.cdata+="]]"+J,D.state=k.CDATA);continue;case k.PROC_INST:J==="?"?D.state=k.PROC_INST_ENDING:T(J)?D.state=k.PROC_INST_BODY:D.procInstName+=J;continue;case k.PROC_INST_BODY:if(!D.procInstBody&&T(J))continue;J==="?"?D.state=k.PROC_INST_ENDING:D.procInstBody+=J;continue;case k.PROC_INST_ENDING:J===">"?(U(D,"onprocessinginstruction",{name:D.procInstName,body:D.procInstBody}),D.procInstName=D.procInstBody="",D.state=k.TEXT):(D.procInstBody+="?"+J,D.state=k.PROC_INST_BODY);continue;case k.OPEN_TAG:L(v,J)?D.tagName+=J:(ft(D),J===">"?H(D):J==="/"?D.state=k.OPEN_TAG_SLASH:(T(J)||Q(D,"Invalid character in tag name"),D.state=k.ATTRIB));continue;case k.OPEN_TAG_SLASH:J===">"?(H(D,!0),Z(D)):(Q(D,"Forward-slash in opening tag not followed by >"),D.state=k.ATTRIB);continue;case k.ATTRIB:if(T(J))continue;J===">"?H(D):J==="/"?D.state=k.OPEN_TAG_SLASH:L(_,J)?(D.attribName=J,D.attribValue="",D.state=k.ATTRIB_NAME):Q(D,"Invalid attribute name");continue;case k.ATTRIB_NAME:J==="="?D.state=k.ATTRIB_VALUE:J===">"?(Q(D,"Attribute without value"),D.attribValue=D.attribName,It(D),H(D)):T(J)?D.state=k.ATTRIB_NAME_SAW_WHITE:L(v,J)?D.attribName+=J:Q(D,"Invalid attribute name");continue;case k.ATTRIB_NAME_SAW_WHITE:if(J==="=")D.state=k.ATTRIB_VALUE;else{if(T(J))continue;Q(D,"Attribute without value"),D.tag.attributes[D.attribName]="",D.attribValue="",U(D,"onattribute",{name:D.attribName,value:""}),D.attribName="",J===">"?H(D):L(_,J)?(D.attribName=J,D.state=k.ATTRIB_NAME):(Q(D,"Invalid attribute name"),D.state=k.ATTRIB)}continue;case k.ATTRIB_VALUE:if(T(J))continue;C(J)?(D.q=J,D.state=k.ATTRIB_VALUE_QUOTED):(D.opt.unquotedAttributeValues||yt(D,"Unquoted attribute value"),D.state=k.ATTRIB_VALUE_UNQUOTED,D.attribValue=J);continue;case k.ATTRIB_VALUE_QUOTED:if(J!==D.q){J==="&"?D.state=k.ATTRIB_VALUE_ENTITY_Q:D.attribValue+=J;continue}It(D),D.q="",D.state=k.ATTRIB_VALUE_CLOSED;continue;case k.ATTRIB_VALUE_CLOSED:T(J)?D.state=k.ATTRIB:J===">"?H(D):J==="/"?D.state=k.OPEN_TAG_SLASH:L(_,J)?(Q(D,"No whitespace between attributes"),D.attribName=J,D.attribValue="",D.state=k.ATTRIB_NAME):Q(D,"Invalid attribute name");continue;case k.ATTRIB_VALUE_UNQUOTED:if(!M(J)){J==="&"?D.state=k.ATTRIB_VALUE_ENTITY_U:D.attribValue+=J;continue}It(D),J===">"?H(D):D.state=k.ATTRIB;continue;case k.CLOSE_TAG:if(D.tagName)J===">"?Z(D):L(v,J)?D.tagName+=J:D.script?(D.script+="</"+D.tagName+J,D.tagName="",D.state=k.SCRIPT):(T(J)||Q(D,"Invalid tagname in closing tag"),D.state=k.CLOSE_TAG_SAW_WHITE);else{if(T(J))continue;z(_,J)?D.script?(D.script+="</"+J,D.state=k.SCRIPT):Q(D,"Invalid tagname in closing tag."):D.tagName=J}continue;case k.CLOSE_TAG_SAW_WHITE:if(T(J))continue;J===">"?Z(D):Q(D,"Invalid characters in closing tag");continue;case k.TEXT_ENTITY:case k.ATTRIB_VALUE_ENTITY_Q:case k.ATTRIB_VALUE_ENTITY_U:var St,I;switch(D.state){case k.TEXT_ENTITY:St=k.TEXT,I="textNode";break;case k.ATTRIB_VALUE_ENTITY_Q:St=k.ATTRIB_VALUE_QUOTED,I="attribValue";break;case k.ATTRIB_VALUE_ENTITY_U:St=k.ATTRIB_VALUE_UNQUOTED,I="attribValue";break}if(J===";"){var At=K(D);D.opt.unparsedEntities&&!Object.values(t.XML_ENTITIES).includes(At)?(D.entity="",D.state=St,D.write(At)):(D[I]+=At,D.entity="",D.state=St)}else L(D.entity.length?x:S,J)?D.entity+=J:(Q(D,"Invalid character in entity name"),D[I]+="&"+D.entity+J,D.entity="",D.state=St);continue;default:throw new Error(D,"Unknown state: "+D.state)}return D.position>=D.bufferCheckPosition&&s(D),D}String.fromCodePoint||(function(){var N=String.fromCharCode,D=Math.floor,ot=function(){var J=16384,G=[],W,St,I=-1,At=arguments.length;if(!At)return"";for(var gt="";++I<At;){var tt=Number(arguments[I]);if(!isFinite(tt)||tt<0||tt>1114111||D(tt)!==tt)throw RangeError("Invalid code point: "+tt);tt<=65535?G.push(tt):(tt-=65536,W=(tt>>10)+55296,St=tt%1024+56320,G.push(W,St)),(I+1===At||G.length>J)&&(gt+=N.apply(null,G),G.length=0)}return gt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ot,configurable:!0,writable:!0}):String.fromCodePoint=ot})()})(r)})(pp)),pp}var BI=PI();const FI=mh(BI);function UI(...r){return go.resolve(...r)}function jI(r,t){return go.basename(r,t)}function zI(r){return go.extname(r)}function HI(r){return go.dirname(r)}function GI(r){return go.isAbsolute(r)}function VI(...r){return go.join(...r)}var gn={resolve:UI,basename:jI,extname:zI,dirname:HI,isAbsolutePosix:GI,joinPosix:VI},qI=Object.defineProperty,YI=(r,t,e)=>t in r?qI(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,vi=(r,t,e)=>YI(r,typeof t!="symbol"?t+"":t,e);function $I(r){return r.charCodeAt(0)===65279?r.slice(1):r}const C_={.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}};function WI(r){return r.toLowerCase()}function XI(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===0}function Su(r,t,e){for(const n of r)t=n(t,e);return t}function Fa(r,t,e){const n=Object.create(null);n.value=e,n.writable=!0,n.enumerable=!0,n.configurable=!0,Object.defineProperty(r,t,n)}class KI extends FD.EventEmitter{constructor(t){super(),vi(this,"options"),vi(this,"remaining",""),vi(this,"saxParser"),vi(this,"resultObject",null),vi(this,"EXPLICIT_CHARKEY"),vi(this,"errThrown",!1),vi(this,"ended",!1),vi(this,"processAsync",()=>{try{if(this.remaining.length<=this.options.chunkSize){const e=this.remaining;this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()}else{const e=this.remaining.slice(0,this.options.chunkSize);this.remaining=this.remaining.slice(this.options.chunkSize),this.saxParser=this.saxParser.write(e),setTimeout(this.processAsync,0)}}catch(e){this.errThrown||(this.errThrown=!0,this.emit("error",e))}}),vi(this,"assignOrPush",(e,n,s)=>{n in e?(Array.isArray(e[n])||Fa(e,n,[e[n]]),e[n].push(s)):this.options.explicitArray?Fa(e,n,[s]):Fa(e,n,s)}),vi(this,"reset",()=>{this.removeAllListeners(),this.saxParser=FI.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.errThrown=!1,this.saxParser.onerror=l=>{this.saxParser.resume(),this.errThrown||(this.errThrown=!0,this.emit("error",l))},this.saxParser.onend=()=>{this.ended||(this.ended=!0,this.emit("end",this.resultObject))},this.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null;const e=[],n=this.options.attrkey,s=this.options.charkey;this.saxParser.onopentag=l=>{const c={};c[s]="",this.options.ignoreAttrs||Object.keys(l.attributes).forEach(h=>{!(n in c)&&!this.options.mergeAttrs&&(c[n]={});const f=this.options.attrValueProcessors?Su(this.options.attrValueProcessors,l.attributes[h],h):l.attributes[h],d=this.options.attrNameProcessors?Su(this.options.attrNameProcessors,h):h;this.options.mergeAttrs?this.assignOrPush(c,d,f):Fa(c[n],d,f)}),c["#name"]=this.options.tagNameProcessors?Su(this.options.tagNameProcessors,l.name):l.name,this.options.xmlns&&(c[this.options.xmlnskey]={uri:l.uri,local:l.local}),e.push(c)},this.saxParser.onclosetag=()=>{let l=e.pop();const c=l["#name"];(!this.options.explicitChildren||!this.options.preserveChildrenOrder)&&delete l["#name"];let h;l.cdata===!0&&(h=l.cdata,delete l.cdata);const f=e[e.length-1];let d="";if(l[s].match(/^\s*$/)&&!h?(d=l[s],delete l[s]):(this.options.trim&&(l[s]=l[s].trim()),this.options.normalize&&(l[s]=l[s].replace(/\s{2,}/g," ").trim()),l[s]=this.options.valueProcessors?Su(this.options.valueProcessors,l[s],c):l[s],Object.keys(l).length===1&&s in l&&!this.EXPLICIT_CHARKEY&&(l=l[s])),XI(l)&&(typeof this.options.emptyTag=="function"?l=this.options.emptyTag():l=this.options.emptyTag!==""?this.options.emptyTag:d),this.options.validator){const p=`/${e.map(g=>g["#name"]).concat(c).join("/")}`;(()=>{try{l=this.options.validator(p,f&&f[c],l)}catch(g){this.emit("error",g)}})()}if(this.options.explicitChildren&&!this.options.mergeAttrs&&typeof l=="object")if(this.options.preserveChildrenOrder){if(f){f[this.options.childkey]=f[this.options.childkey]||[];const p={};Object.keys(l).forEach(g=>{Fa(p,g,l[g])}),f[this.options.childkey].push(p),delete l["#name"],Object.keys(l).length===1&&s in l&&!this.EXPLICIT_CHARKEY&&(l=l[s])}}else{const p={};this.options.attrkey in l&&(p[this.options.attrkey]=l[this.options.attrkey],delete l[this.options.attrkey]),!this.options.charsAsChildren&&this.options.charkey in l&&(p[this.options.charkey]=l[this.options.charkey],delete l[this.options.charkey]),Object.getOwnPropertyNames(l).length>0&&(p[this.options.childkey]=l),l=p}if(e.length>0)this.assignOrPush(f,c,l);else{if(this.options.explicitRoot){const p=l,g={};Fa(g,c,p),l=g}this.resultObject=l,this.ended=!0,this.emit("end",this.resultObject)}};const a=l=>{const c=e[e.length-1];if(c&&(c[s]+=l,this.options.explicitChildren&&this.options.preserveChildrenOrder&&this.options.charsAsChildren&&(this.options.includeWhiteChars||l.replace(/\\n/g,"").trim()!==""))){c[this.options.childkey]=c[this.options.childkey]||[];const h={"#name":"__text__"};h[s]=l,this.options.normalize&&(h[s]=h[s].replace(/\s{2,}/g," ").trim()),c[this.options.childkey].push(h)}return c};this.saxParser.ontext=a,this.saxParser.oncdata=l=>{const c=a(l);c&&(c.cdata=!0)}}),vi(this,"parseString",(e,n)=>{n&&typeof n=="function"&&(this.on("end",s=>{this.reset(),n(null,s)}),this.on("error",s=>{this.reset(),n(s)}));try{return e=e.toString(),e.trim()===""?(this.emit("end",null),!0):(e=$I(e),this.options.async?(this.remaining=e,setTimeout(this.processAsync,0),this.saxParser):this.saxParser.write(e).close())}catch(s){if(!this.errThrown&&!this.ended)this.emit("error",s),this.errThrown=!0;else if(this.ended)throw s}}),vi(this,"parseStringPromise",e=>new Promise((n,s)=>{this.parseString(e,(a,l)=>{a?s(a):n(l)})})),this.options={},Object.keys(C_["0.2"]).forEach(e=>{this.options[e]=C_["0.2"][e]}),t&&Object.keys(t).forEach(e=>{this.options[e]=t[e]}),this.options.xmlns&&(this.options.xmlnskey=`${this.options.attrkey}ns`),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(WI)),this.reset()}}function ZI(r,t){let e={};return typeof t=="object"&&(e=t),new KI(e).parseStringPromise(r)}async function gl(r,t={}){return await ZI(r,t)}function Lm(r){return r.replace(/-([a-z])/gi,t=>t[1].toUpperCase())}function xu(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var km={exports:{}},R_;function QI(){return R_||(R_=1,(function(r,t){(function(e){r.exports=e()})(function(){return(function e(n,s,a){function l(f,d){if(!s[f]){if(!n[f]){var p=typeof xu=="function"&&xu;if(!d&&p)return p(f,!0);if(c)return c(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var y=s[f]={exports:{}};n[f][0].call(y.exports,function(E){var b=n[f][1][E];return l(b||E)},y,y.exports,e,n,s,a)}return s[f].exports}for(var c=typeof xu=="function"&&xu,h=0;h<a.length;h++)l(a[h]);return l})({1:[function(e,n,s){var a=e("./utils"),l=e("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(h){for(var f,d,p,g,y,E,b,_=[],v=0,S=h.length,x=S,T=a.getTypeOf(h)!=="string";v<h.length;)x=S-v,p=T?(f=h[v++],d=v<S?h[v++]:0,v<S?h[v++]:0):(f=h.charCodeAt(v++),d=v<S?h.charCodeAt(v++):0,v<S?h.charCodeAt(v++):0),g=f>>2,y=(3&f)<<4|d>>4,E=1<x?(15&d)<<2|p>>6:64,b=2<x?63&p:64,_.push(c.charAt(g)+c.charAt(y)+c.charAt(E)+c.charAt(b));return _.join("")},s.decode=function(h){var f,d,p,g,y,E,b=0,_=0,v="data:";if(h.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var S,x=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===c.charAt(64)&&x--,h.charAt(h.length-2)===c.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=l.uint8array?new Uint8Array(0|x):new Array(0|x);b<h.length;)f=c.indexOf(h.charAt(b++))<<2|(g=c.indexOf(h.charAt(b++)))>>4,d=(15&g)<<4|(y=c.indexOf(h.charAt(b++)))>>2,p=(3&y)<<6|(E=c.indexOf(h.charAt(b++))),S[_++]=f,y!==64&&(S[_++]=d),E!==64&&(S[_++]=p);return S}},{"./support":30,"./utils":32}],2:[function(e,n,s){var a=e("./external"),l=e("./stream/DataWorker"),c=e("./stream/Crc32Probe"),h=e("./stream/DataLengthProbe");function f(d,p,g,y,E){this.compressedSize=d,this.uncompressedSize=p,this.crc32=g,this.compression=y,this.compressedContent=E}f.prototype={getContentWorker:function(){var d=new l(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),p=this;return d.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new l(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(d,p,g){return d.pipe(new c).pipe(new h("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new h("compressedSize")).withStreamInfo("compression",p)},n.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,n,s){var a=e("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},s.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,n,s){var a=e("./utils"),l=(function(){for(var c,h=[],f=0;f<256;f++){c=f;for(var d=0;d<8;d++)c=1&c?3988292384^c>>>1:c>>>1;h[f]=c}return h})();n.exports=function(c,h){return c!==void 0&&c.length?a.getTypeOf(c)!=="string"?(function(f,d,p,g){var y=l,E=g+p;f^=-1;for(var b=g;b<E;b++)f=f>>>8^y[255&(f^d[b])];return-1^f})(0|h,c,c.length,0):(function(f,d,p,g){var y=l,E=g+p;f^=-1;for(var b=g;b<E;b++)f=f>>>8^y[255&(f^d.charCodeAt(b))];return-1^f})(0|h,c,c.length,0):0}},{"./utils":32}],5:[function(e,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(e,n,s){var a=null;a=typeof Promise<"u"?Promise:e("lie"),n.exports={Promise:a}},{lie:37}],7:[function(e,n,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=e("pako"),c=e("./utils"),h=e("./stream/GenericWorker"),f=a?"uint8array":"array";function d(p,g){h.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}s.magic="\b\0",c.inherits(d,h),d.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(f,p.data),!1)},d.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},s.compressWorker=function(p){return new d("Deflate",p)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,n,s){function a(y,E){var b,_="";for(b=0;b<E;b++)_+=String.fromCharCode(255&y),y>>>=8;return _}function l(y,E,b,_,v,S){var x,T,C=y.file,M=y.compression,L=S!==f.utf8encode,z=c.transformTo("string",S(C.name)),k=c.transformTo("string",f.utf8encode(C.name)),rt=C.comment,ht=c.transformTo("string",S(rt)),U=c.transformTo("string",f.utf8encode(rt)),dt=k.length!==C.name.length,j=U.length!==rt.length,yt="",et="",Q="",ft=C.dir,vt=C.date,It={crc32:0,compressedSize:0,uncompressedSize:0};E&&!b||(It.crc32=y.crc32,It.compressedSize=y.compressedSize,It.uncompressedSize=y.uncompressedSize);var H=0;E&&(H|=8),L||!dt&&!j||(H|=2048);var Z=0,K=0;ft&&(Z|=16),v==="UNIX"?(K=798,Z|=(function(ut,ct){var N=ut;return ut||(N=ct?16893:33204),(65535&N)<<16})(C.unixPermissions,ft)):(K=20,Z|=(function(ut){return 63&(ut||0)})(C.dosPermissions)),x=vt.getUTCHours(),x<<=6,x|=vt.getUTCMinutes(),x<<=5,x|=vt.getUTCSeconds()/2,T=vt.getUTCFullYear()-1980,T<<=4,T|=vt.getUTCMonth()+1,T<<=5,T|=vt.getUTCDate(),dt&&(et=a(1,1)+a(d(z),4)+k,yt+="up"+a(et.length,2)+et),j&&(Q=a(1,1)+a(d(ht),4)+U,yt+="uc"+a(Q.length,2)+Q);var st="";return st+=`
\0`,st+=a(H,2),st+=M.magic,st+=a(x,2),st+=a(T,2),st+=a(It.crc32,4),st+=a(It.compressedSize,4),st+=a(It.uncompressedSize,4),st+=a(z.length,2),st+=a(yt.length,2),{fileRecord:p.LOCAL_FILE_HEADER+st+z+yt,dirRecord:p.CENTRAL_FILE_HEADER+a(K,2)+st+a(ht.length,2)+"\0\0\0\0"+a(Z,4)+a(_,4)+z+yt+ht}}var c=e("../utils"),h=e("../stream/GenericWorker"),f=e("../utf8"),d=e("../crc32"),p=e("../signature");function g(y,E,b,_){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=b,this.encodeFileName=_,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(g,h),g.prototype.push=function(y){var E=y.meta.percent||0,b=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,h.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:b?(E+100*(b-_-1))/b:100}}))},g.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var E=this.streamFiles&&!y.file.dir;if(E){var b=l(y,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(y){this.accumulate=!1;var E=this.streamFiles&&!y.file.dir,b=l(y,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),E)this.push({data:(function(_){return p.DATA_DESCRIPTOR+a(_.crc32,4)+a(_.compressedSize,4)+a(_.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var y=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var b=this.bytesWritten-y,_=(function(v,S,x,T,C){var M=c.transformTo("string",C(T));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(S,4)+a(x,4)+a(M.length,2)+M})(this.dirRecords.length,b,y,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(y){this._sources.push(y);var E=this;return y.on("data",function(b){E.processChunk(b)}),y.on("end",function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()}),y.on("error",function(b){E.error(b)}),this},g.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(y){var E=this._sources;if(!h.prototype.error.call(this,y))return!1;for(var b=0;b<E.length;b++)try{E[b].error(y)}catch{}return!0},g.prototype.lock=function(){h.prototype.lock.call(this);for(var y=this._sources,E=0;E<y.length;E++)y[E].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,n,s){var a=e("../compressions"),l=e("./ZipFileWorker");s.generateWorker=function(c,h,f){var d=new l(h.streamFiles,f,h.platform,h.encodeFileName),p=0;try{c.forEach(function(g,y){p++;var E=(function(S,x){var T=S||x,C=a[T];if(!C)throw new Error(T+" is not a valid compression method !");return C})(y.options.compression,h.compression),b=y.options.compressionOptions||h.compressionOptions||{},_=y.dir,v=y.date;y._compressWorker(E,b).withStreamInfo("file",{name:g,dir:_,date:v,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(d)}),d.entriesCount=p}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,n,s){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new a;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(a.prototype=e("./object")).loadAsync=e("./load"),a.support=e("./support"),a.defaults=e("./defaults"),a.version="3.10.1",a.loadAsync=function(l,c){return new a().loadAsync(l,c)},a.external=e("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,n,s){var a=e("./utils"),l=e("./external"),c=e("./utf8"),h=e("./zipEntries"),f=e("./stream/Crc32Probe"),d=e("./nodejsUtils");function p(g){return new l.Promise(function(y,E){var b=g.decompressed.getContentWorker().pipe(new f);b.on("error",function(_){E(_)}).on("end",function(){b.streamInfo.crc32!==g.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(g,y){var E=this;return y=a.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),d.isNode&&d.isStream(g)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",g,!0,y.optimizedBinaryString,y.base64).then(function(b){var _=new h(y);return _.load(b),_}).then(function(b){var _=[l.Promise.resolve(b)],v=b.files;if(y.checkCRC32)for(var S=0;S<v.length;S++)_.push(p(v[S]));return l.Promise.all(_)}).then(function(b){for(var _=b.shift(),v=_.files,S=0;S<v.length;S++){var x=v[S],T=x.fileNameStr,C=a.resolve(x.fileNameStr);E.file(C,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:y.createFolders}),x.dir||(E.file(C).unsafeOriginalName=T)}return _.zipComment.length&&(E.comment=_.zipComment),E})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,n,s){var a=e("../utils"),l=e("../stream/GenericWorker");function c(h,f){l.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(f)}a.inherits(c,l),c.prototype._bindStream=function(h){var f=this;(this._stream=h).pause(),h.on("data",function(d){f.push({data:d,meta:{percent:0}})}).on("error",function(d){f.isPaused?this.generatedError=d:f.error(d)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,n,s){var a=e("readable-stream").Readable;function l(c,h,f){a.call(this,h),this._helper=c;var d=this;c.on("data",function(p,g){d.push(p)||d._helper.pause(),f&&f(g)}).on("error",function(p){d.emit("error",p)}).on("end",function(){d.push(null)})}e("../utils").inherits(l,a),l.prototype._read=function(){this._helper.resume()},n.exports=l},{"../utils":32,"readable-stream":16}],14:[function(e,n,s){n.exports={isNode:typeof In<"u",newBufferFrom:function(a,l){if(In.from&&In.from!==Uint8Array.from)return In.from(a,l);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new In(a,l)},allocBuffer:function(a){if(In.alloc)return In.alloc(a);var l=new In(a);return l.fill(0),l},isBuffer:function(a){return In.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(e,n,s){function a(C,M,L){var z,k=c.getTypeOf(M),rt=c.extend(L||{},d);rt.date=rt.date||new Date,rt.compression!==null&&(rt.compression=rt.compression.toUpperCase()),typeof rt.unixPermissions=="string"&&(rt.unixPermissions=parseInt(rt.unixPermissions,8)),rt.unixPermissions&&16384&rt.unixPermissions&&(rt.dir=!0),rt.dosPermissions&&16&rt.dosPermissions&&(rt.dir=!0),rt.dir&&(C=v(C)),rt.createFolders&&(z=_(C))&&S.call(this,z,!0);var ht=k==="string"&&rt.binary===!1&&rt.base64===!1;L&&L.binary!==void 0||(rt.binary=!ht),(M instanceof p&&M.uncompressedSize===0||rt.dir||!M||M.length===0)&&(rt.base64=!1,rt.binary=!0,M="",rt.compression="STORE",k="string");var U=null;U=M instanceof p||M instanceof h?M:E.isNode&&E.isStream(M)?new b(C,M):c.prepareContent(C,M,rt.binary,rt.optimizedBinaryString,rt.base64);var dt=new g(C,U,rt);this.files[C]=dt}var l=e("./utf8"),c=e("./utils"),h=e("./stream/GenericWorker"),f=e("./stream/StreamHelper"),d=e("./defaults"),p=e("./compressedObject"),g=e("./zipObject"),y=e("./generate"),E=e("./nodejsUtils"),b=e("./nodejs/NodejsStreamInputAdapter"),_=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var M=C.lastIndexOf("/");return 0<M?C.substring(0,M):""},v=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},S=function(C,M){return M=M!==void 0?M:d.createFolders,C=v(C),this.files[C]||a.call(this,C,null,{dir:!0,createFolders:M}),this.files[C]};function x(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var M,L,z;for(M in this.files)z=this.files[M],(L=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&C(L,z)},filter:function(C){var M=[];return this.forEach(function(L,z){C(L,z)&&M.push(z)}),M},file:function(C,M,L){if(arguments.length!==1)return C=this.root+C,a.call(this,C,M,L),this;if(x(C)){var z=C;return this.filter(function(rt,ht){return!ht.dir&&z.test(rt)})}var k=this.files[this.root+C];return k&&!k.dir?k:null},folder:function(C){if(!C)return this;if(x(C))return this.filter(function(k,rt){return rt.dir&&C.test(k)});var M=this.root+C,L=S.call(this,M),z=this.clone();return z.root=L.name,z},remove:function(C){C=this.root+C;var M=this.files[C];if(M||(C.slice(-1)!=="/"&&(C+="/"),M=this.files[C]),M&&!M.dir)delete this.files[C];else for(var L=this.filter(function(k,rt){return rt.name.slice(0,C.length)===C}),z=0;z<L.length;z++)delete this.files[L[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var M,L={};try{if((L=c.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");c.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var z=L.comment||this.comment||"";M=y.generateWorker(this,L,z)}catch(k){(M=new h("error")).error(k)}return new f(M,L.type||"string",L.mimeType)},generateAsync:function(C,M){return this.generateInternalStream(C).accumulate(M)},generateNodeStream:function(C,M){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(M)}};n.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,n,s){n.exports=e("stream")},{stream:void 0}],17:[function(e,n,s){var a=e("./DataReader");function l(c){a.call(this,c);for(var h=0;h<this.data.length;h++)c[h]=255&c[h]}e("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var h=c.charCodeAt(0),f=c.charCodeAt(1),d=c.charCodeAt(2),p=c.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===h&&this.data[g+1]===f&&this.data[g+2]===d&&this.data[g+3]===p)return g-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var h=c.charCodeAt(0),f=c.charCodeAt(1),d=c.charCodeAt(2),p=c.charCodeAt(3),g=this.readData(4);return h===g[0]&&f===g[1]&&d===g[2]&&p===g[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,h},n.exports=l},{"../utils":32,"./DataReader":18}],18:[function(e,n,s){var a=e("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var h,f=0;for(this.checkOffset(c),h=this.index+c-1;h>=this.index;h--)f=(f<<8)+this.byteAt(h);return this.index+=c,f},readString:function(c){return a.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},n.exports=l},{"../utils":32}],19:[function(e,n,s){var a=e("./Uint8ArrayReader");function l(c){a.call(this,c)}e("../utils").inherits(l,a),l.prototype.readData=function(c){this.checkOffset(c);var h=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,h},n.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,n,s){var a=e("./DataReader");function l(c){a.call(this,c)}e("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var h=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,h},n.exports=l},{"../utils":32,"./DataReader":18}],21:[function(e,n,s){var a=e("./ArrayReader");function l(c){a.call(this,c)}e("../utils").inherits(l,a),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,h},n.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(e,n,s){var a=e("../utils"),l=e("../support"),c=e("./ArrayReader"),h=e("./StringReader"),f=e("./NodeBufferReader"),d=e("./Uint8ArrayReader");n.exports=function(p){var g=a.getTypeOf(p);return a.checkSupport(g),g!=="string"||l.uint8array?g==="nodebuffer"?new f(p):l.uint8array?new d(a.transformTo("uint8array",p)):new c(a.transformTo("array",p)):new h(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,n,s){var a=e("./GenericWorker"),l=e("../utils");function c(h){a.call(this,"ConvertWorker to "+h),this.destType=h}l.inherits(c,a),c.prototype.processChunk=function(h){this.push({data:l.transformTo(this.destType,h.data),meta:h.meta})},n.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(e,n,s){var a=e("./GenericWorker"),l=e("../crc32");function c(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(c,a),c.prototype.processChunk=function(h){this.streamInfo.crc32=l(h.data,this.streamInfo.crc32||0),this.push(h)},n.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,n,s){var a=e("../utils"),l=e("./GenericWorker");function c(h){l.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}a.inherits(c,l),c.prototype.processChunk=function(h){if(h){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+h.data.length}l.prototype.processChunk.call(this,h)},n.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(e,n,s){var a=e("../utils"),l=e("./GenericWorker");function c(h){l.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(d){f.dataIsReady=!0,f.data=d,f.max=d&&d.length||0,f.type=a.getTypeOf(d),f.isPaused||f._tickAndRepeat()},function(d){f.error(d)})}a.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,f);break;case"uint8array":h=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":h=this.data.slice(this.index,f)}return this.index=f,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(e,n,s){function a(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var h=0;h<this._listeners[l].length;h++)this._listeners[l][h].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(h){c.processChunk(h)}),l.on("end",function(){c.end()}),l.on("error",function(h){c.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},n.exports=a},{}],29:[function(e,n,s){var a=e("../utils"),l=e("./ConvertWorker"),c=e("./GenericWorker"),h=e("../base64"),f=e("../support"),d=e("../external"),p=null;if(f.nodestream)try{p=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(E,b){return new d.Promise(function(_,v){var S=[],x=E._internalType,T=E._outputType,C=E._mimeType;E.on("data",function(M,L){S.push(M),b&&b(L)}).on("error",function(M){S=[],v(M)}).on("end",function(){try{var M=(function(L,z,k){switch(L){case"blob":return a.newBlob(a.transformTo("arraybuffer",z),k);case"base64":return h.encode(z);default:return a.transformTo(L,z)}})(T,(function(L,z){var k,rt=0,ht=null,U=0;for(k=0;k<z.length;k++)U+=z[k].length;switch(L){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(ht=new Uint8Array(U),k=0;k<z.length;k++)ht.set(z[k],rt),rt+=z[k].length;return ht;case"nodebuffer":return In.concat(z);default:throw new Error("concat : unsupported type '"+L+"'")}})(x,S),C);_(M)}catch(L){v(L)}S=[]}).resume()})}function y(E,b,_){var v=b;switch(b){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=b,this._mimeType=_,a.checkSupport(v),this._worker=E.pipe(new l(v)),E.lock()}catch(S){this._worker=new c("error"),this._worker.error(S)}}y.prototype={accumulate:function(E){return g(this,E)},on:function(E,b){var _=this;return E==="data"?this._worker.on(E,function(v){b.call(_,v.data,v.meta)}):this._worker.on(E,function(){a.delay(b,arguments,_)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(E){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},E)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof In<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var a=new ArrayBuffer(0);try{s.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(a),s.blob=l.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!e("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(e,n,s){for(var a=e("./utils"),l=e("./support"),c=e("./nodejsUtils"),h=e("./stream/GenericWorker"),f=new Array(256),d=0;d<256;d++)f[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;f[254]=f[254]=1;function p(){h.call(this,"utf-8 decode"),this.leftOver=null}function g(){h.call(this,"utf-8 encode")}s.utf8encode=function(y){return l.nodebuffer?c.newBufferFrom(y,"utf-8"):(function(E){var b,_,v,S,x,T=E.length,C=0;for(S=0;S<T;S++)(64512&(_=E.charCodeAt(S)))==55296&&S+1<T&&(64512&(v=E.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(v-56320),S++),C+=_<128?1:_<2048?2:_<65536?3:4;for(b=l.uint8array?new Uint8Array(C):new Array(C),S=x=0;x<C;S++)(64512&(_=E.charCodeAt(S)))==55296&&S+1<T&&(64512&(v=E.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(v-56320),S++),_<128?b[x++]=_:(_<2048?b[x++]=192|_>>>6:(_<65536?b[x++]=224|_>>>12:(b[x++]=240|_>>>18,b[x++]=128|_>>>12&63),b[x++]=128|_>>>6&63),b[x++]=128|63&_);return b})(y)},s.utf8decode=function(y){return l.nodebuffer?a.transformTo("nodebuffer",y).toString("utf-8"):(function(E){var b,_,v,S,x=E.length,T=new Array(2*x);for(b=_=0;b<x;)if((v=E[b++])<128)T[_++]=v;else if(4<(S=f[v]))T[_++]=65533,b+=S-1;else{for(v&=S===2?31:S===3?15:7;1<S&&b<x;)v=v<<6|63&E[b++],S--;1<S?T[_++]=65533:v<65536?T[_++]=v:(v-=65536,T[_++]=55296|v>>10&1023,T[_++]=56320|1023&v)}return T.length!==_&&(T.subarray?T=T.subarray(0,_):T.length=_),a.applyFromCharCode(T)})(y=a.transformTo(l.uint8array?"uint8array":"array",y))},a.inherits(p,h),p.prototype.processChunk=function(y){var E=a.transformTo(l.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var b=E;(E=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),E.set(b,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var _=(function(S,x){var T;for((x=x||S.length)>S.length&&(x=S.length),T=x-1;0<=T&&(192&S[T])==128;)T--;return T<0||T===0?x:T+f[S[T]]>x?T:x})(E),v=E;_!==E.length&&(l.uint8array?(v=E.subarray(0,_),this.leftOver=E.subarray(_,E.length)):(v=E.slice(0,_),this.leftOver=E.slice(_,E.length))),this.push({data:s.utf8decode(v),meta:y.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=p,a.inherits(g,h),g.prototype.processChunk=function(y){this.push({data:s.utf8encode(y.data),meta:y.meta})},s.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,n,s){var a=e("./support"),l=e("./base64"),c=e("./nodejsUtils"),h=e("./external");function f(b){return b}function d(b,_){for(var v=0;v<b.length;++v)_[v]=255&b.charCodeAt(v);return _}e("setimmediate"),s.newBlob=function(b,_){s.checkSupport("blob");try{return new Blob([b],{type:_})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(b),v.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(b,_,v){var S=[],x=0,T=b.length;if(T<=v)return String.fromCharCode.apply(null,b);for(;x<T;)_==="array"||_==="nodebuffer"?S.push(String.fromCharCode.apply(null,b.slice(x,Math.min(x+v,T)))):S.push(String.fromCharCode.apply(null,b.subarray(x,Math.min(x+v,T)))),x+=v;return S.join("")},stringifyByChar:function(b){for(var _="",v=0;v<b.length;v++)_+=String.fromCharCode(b[v]);return _},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function g(b){var _=65536,v=s.getTypeOf(b),S=!0;if(v==="uint8array"?S=p.applyCanBeUsed.uint8array:v==="nodebuffer"&&(S=p.applyCanBeUsed.nodebuffer),S)for(;1<_;)try{return p.stringifyByChunk(b,v,_)}catch{_=Math.floor(_/2)}return p.stringifyByChar(b)}function y(b,_){for(var v=0;v<b.length;v++)_[v]=b[v];return _}s.applyFromCharCode=g;var E={};E.string={string:f,array:function(b){return d(b,new Array(b.length))},arraybuffer:function(b){return E.string.uint8array(b).buffer},uint8array:function(b){return d(b,new Uint8Array(b.length))},nodebuffer:function(b){return d(b,c.allocBuffer(b.length))}},E.array={string:g,array:f,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(b)}},E.arraybuffer={string:function(b){return g(new Uint8Array(b))},array:function(b){return y(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:f,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(new Uint8Array(b))}},E.uint8array={string:g,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:f,nodebuffer:function(b){return c.newBufferFrom(b)}},E.nodebuffer={string:g,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return E.nodebuffer.uint8array(b).buffer},uint8array:function(b){return y(b,new Uint8Array(b.length))},nodebuffer:f},s.transformTo=function(b,_){if(_=_||"",!b)return _;s.checkSupport(b);var v=s.getTypeOf(_);return E[v][b](_)},s.resolve=function(b){for(var _=b.split("/"),v=[],S=0;S<_.length;S++){var x=_[S];x==="."||x===""&&S!==0&&S!==_.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},s.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":a.nodebuffer&&c.isBuffer(b)?"nodebuffer":a.uint8array&&b instanceof Uint8Array?"uint8array":a.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(b){if(!a[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(b){var _,v,S="";for(v=0;v<(b||"").length;v++)S+="\\x"+((_=b.charCodeAt(v))<16?"0":"")+_.toString(16).toUpperCase();return S},s.delay=function(b,_,v){setImmediate(function(){b.apply(v||null,_||[])})},s.inherits=function(b,_){function v(){}v.prototype=_.prototype,b.prototype=new v},s.extend=function(){var b,_,v={};for(b=0;b<arguments.length;b++)for(_ in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],_)&&v[_]===void 0&&(v[_]=arguments[b][_]);return v},s.prepareContent=function(b,_,v,S,x){return h.Promise.resolve(_).then(function(T){return a.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new h.Promise(function(C,M){var L=new FileReader;L.onload=function(z){C(z.target.result)},L.onerror=function(z){M(z.target.error)},L.readAsArrayBuffer(T)}):T}).then(function(T){var C=s.getTypeOf(T);return C?(C==="arraybuffer"?T=s.transformTo("uint8array",T):C==="string"&&(x?T=l.decode(T):v&&S!==!0&&(T=(function(M){return d(M,a.uint8array?new Uint8Array(M.length):new Array(M.length))})(T))),T):h.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,n,s){var a=e("./reader/readerFor"),l=e("./utils"),c=e("./signature"),h=e("./zipEntry"),f=e("./support");function d(p){this.files=[],this.loadOptions=p}d.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(g)+", expected "+l.pretty(p)+")")}},isSignature:function(p,g){var y=this.reader.index;this.reader.setIndex(p);var E=this.reader.readString(4)===g;return this.reader.setIndex(y),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=f.uint8array?"uint8array":"array",y=l.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,y,E=this.zip64EndOfCentralSize-44;0<E;)p=this.reader.readInt(2),g=this.reader.readInt(4),y=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(p=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var E=g-y;if(0<E)this.isSignature(g,c.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(p){this.reader=a(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,n,s){var a=e("./reader/readerFor"),l=e("./utils"),c=e("./compressedObject"),h=e("./crc32"),f=e("./utf8"),d=e("./compressions"),p=e("./support");function g(y,E){this.options=y,this.loadOptions=E}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var E,b;if(y.skip(22),this.fileNameLength=y.readInt(2),b=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((E=(function(_){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===_)return d[v];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,E,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var E=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(E),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=a(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var E,b,_,v=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<v;)E=y.readInt(2),b=y.readInt(2),_=y.readData(b),this.extraFields[E]={id:E,length:b,value:_};y.setIndex(v)},handleUTF8:function(){var y=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var b=l.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var v=l.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var E=a(y.value);return E.readInt(1)!==1||h(this.fileName)!==E.readInt(4)?null:f.utf8decode(E.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var E=a(y.value);return E.readInt(1)!==1||h(this.fileComment)!==E.readInt(4)?null:f.utf8decode(E.readData(y.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,n,s){function a(E,b,_){this.name=E,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=b,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var l=e("./stream/StreamHelper"),c=e("./stream/DataWorker"),h=e("./utf8"),f=e("./compressedObject"),d=e("./stream/GenericWorker");a.prototype={internalStream:function(E){var b=null,_="string";try{if(!E)throw new Error("No output type specified.");var v=(_=E.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),b=this._decompressWorker();var S=!this._dataBinary;S&&!v&&(b=b.pipe(new h.Utf8EncodeWorker)),!S&&v&&(b=b.pipe(new h.Utf8DecodeWorker))}catch(x){(b=new d("error")).error(x)}return new l(b,_,"")},async:function(E,b){return this.internalStream(E).accumulate(b)},nodeStream:function(E,b){return this.internalStream(E||"nodebuffer").toNodejsStream(b)},_compressWorker:function(E,b){if(this._data instanceof f&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new h.Utf8EncodeWorker)),f.createWorkerFrom(_,E,b)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof d?this._data:new c(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<p.length;y++)a.prototype[p[y]]=g;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,n,s){(function(a){var l,c,h=a.MutationObserver||a.WebKitMutationObserver;if(h){var f=0,d=new h(E),p=a.document.createTextNode("");d.observe(p,{characterData:!0}),l=function(){p.data=f=++f%2}}else if(a.setImmediate||a.MessageChannel===void 0)l="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){E(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(E,0)};else{var g=new a.MessageChannel;g.port1.onmessage=E,l=function(){g.port2.postMessage(0)}}var y=[];function E(){var b,_;c=!0;for(var v=y.length;v;){for(_=y,y=[],b=-1;++b<v;)_[b]();v=y.length}c=!1}n.exports=function(b){y.push(b)!==1||c||l()}}).call(this,typeof xi<"u"?xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,n,s){var a=e("immediate");function l(){}var c={},h=["REJECTED"],f=["FULFILLED"],d=["PENDING"];function p(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==l&&b(this,v)}function g(v,S,x){this.promise=v,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function y(v,S,x){a(function(){var T;try{T=S(x)}catch(C){return c.reject(v,C)}T===v?c.reject(v,new TypeError("Cannot resolve promise with itself")):c.resolve(v,T)})}function E(v){var S=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof S=="function")return function(){S.apply(v,arguments)}}function b(v,S){var x=!1;function T(L){x||(x=!0,c.reject(v,L))}function C(L){x||(x=!0,c.resolve(v,L))}var M=_(function(){S(C,T)});M.status==="error"&&T(M.value)}function _(v,S){var x={};try{x.value=v(S),x.status="success"}catch(T){x.status="error",x.value=T}return x}(n.exports=p).prototype.finally=function(v){if(typeof v!="function")return this;var S=this.constructor;return this.then(function(x){return S.resolve(v()).then(function(){return x})},function(x){return S.resolve(v()).then(function(){throw x})})},p.prototype.catch=function(v){return this.then(null,v)},p.prototype.then=function(v,S){if(typeof v!="function"&&this.state===f||typeof S!="function"&&this.state===h)return this;var x=new this.constructor(l);return this.state!==d?y(x,this.state===f?v:S,this.outcome):this.queue.push(new g(x,v,S)),x},g.prototype.callFulfilled=function(v){c.resolve(this.promise,v)},g.prototype.otherCallFulfilled=function(v){y(this.promise,this.onFulfilled,v)},g.prototype.callRejected=function(v){c.reject(this.promise,v)},g.prototype.otherCallRejected=function(v){y(this.promise,this.onRejected,v)},c.resolve=function(v,S){var x=_(E,S);if(x.status==="error")return c.reject(v,x.value);var T=x.value;if(T)b(v,T);else{v.state=f,v.outcome=S;for(var C=-1,M=v.queue.length;++C<M;)v.queue[C].callFulfilled(S)}return v},c.reject=function(v,S){v.state=h,v.outcome=S;for(var x=-1,T=v.queue.length;++x<T;)v.queue[x].callRejected(S);return v},p.resolve=function(v){return v instanceof this?v:c.resolve(new this(l),v)},p.reject=function(v){var S=new this(l);return c.reject(S,v)},p.all=function(v){var S=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,T=!1;if(!x)return this.resolve([]);for(var C=new Array(x),M=0,L=-1,z=new this(l);++L<x;)k(v[L],L);return z;function k(rt,ht){S.resolve(rt).then(function(U){C[ht]=U,++M!==x||T||(T=!0,c.resolve(z,C))},function(U){T||(T=!0,c.reject(z,U))})}},p.race=function(v){var S=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,T=!1;if(!x)return this.resolve([]);for(var C=-1,M=new this(l);++C<x;)L=v[C],S.resolve(L).then(function(z){T||(T=!0,c.resolve(M,z))},function(z){T||(T=!0,c.reject(M,z))});var L;return M}},{immediate:36}],38:[function(e,n,s){var a={};(0,e("./lib/utils/common").assign)(a,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,n,s){var a=e("./zlib/deflate"),l=e("./utils/common"),c=e("./utils/strings"),h=e("./zlib/messages"),f=e("./zlib/zstream"),d=Object.prototype.toString,p=0,g=-1,y=0,E=8;function b(v){if(!(this instanceof b))return new b(v);this.options=l.assign({level:g,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},v||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(x!==p)throw new Error(h[x]);if(S.header&&a.deflateSetHeader(this.strm,S.header),S.dictionary){var T;if(T=typeof S.dictionary=="string"?c.string2buf(S.dictionary):d.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(x=a.deflateSetDictionary(this.strm,T))!==p)throw new Error(h[x]);this._dict_set=!0}}function _(v,S){var x=new b(S);if(x.push(v,!0),x.err)throw x.msg||h[x.err];return x.result}b.prototype.push=function(v,S){var x,T,C=this.strm,M=this.options.chunkSize;if(this.ended)return!1;T=S===~~S?S:S===!0?4:0,typeof v=="string"?C.input=c.string2buf(v):d.call(v)==="[object ArrayBuffer]"?C.input=new Uint8Array(v):C.input=v,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new l.Buf8(M),C.next_out=0,C.avail_out=M),(x=a.deflate(C,T))!==1&&x!==p)return this.onEnd(x),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(C.output,C.next_out))):this.onData(l.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&x!==1);return T===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===p):T!==2||(this.onEnd(p),!(C.avail_out=0))},b.prototype.onData=function(v){this.chunks.push(v)},b.prototype.onEnd=function(v){v===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},s.Deflate=b,s.deflate=_,s.deflateRaw=function(v,S){return(S=S||{}).raw=!0,_(v,S)},s.gzip=function(v,S){return(S=S||{}).gzip=!0,_(v,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,n,s){var a=e("./zlib/inflate"),l=e("./utils/common"),c=e("./utils/strings"),h=e("./zlib/constants"),f=e("./zlib/messages"),d=e("./zlib/zstream"),p=e("./zlib/gzheader"),g=Object.prototype.toString;function y(b){if(!(this instanceof y))return new y(b);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},b||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||b&&b.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,_.windowBits);if(v!==h.Z_OK)throw new Error(f[v]);this.header=new p,a.inflateGetHeader(this.strm,this.header)}function E(b,_){var v=new y(_);if(v.push(b,!0),v.err)throw v.msg||f[v.err];return v.result}y.prototype.push=function(b,_){var v,S,x,T,C,M,L=this.strm,z=this.options.chunkSize,k=this.options.dictionary,rt=!1;if(this.ended)return!1;S=_===~~_?_:_===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof b=="string"?L.input=c.binstring2buf(b):g.call(b)==="[object ArrayBuffer]"?L.input=new Uint8Array(b):L.input=b,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new l.Buf8(z),L.next_out=0,L.avail_out=z),(v=a.inflate(L,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&k&&(M=typeof k=="string"?c.string2buf(k):g.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,v=a.inflateSetDictionary(this.strm,M)),v===h.Z_BUF_ERROR&&rt===!0&&(v=h.Z_OK,rt=!1),v!==h.Z_STREAM_END&&v!==h.Z_OK)return this.onEnd(v),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&v!==h.Z_STREAM_END&&(L.avail_in!==0||S!==h.Z_FINISH&&S!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=c.utf8border(L.output,L.next_out),T=L.next_out-x,C=c.buf2string(L.output,x),L.next_out=T,L.avail_out=z-T,T&&l.arraySet(L.output,L.output,x,T,0),this.onData(C)):this.onData(l.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(rt=!0)}while((0<L.avail_in||L.avail_out===0)&&v!==h.Z_STREAM_END);return v===h.Z_STREAM_END&&(S=h.Z_FINISH),S===h.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===h.Z_OK):S!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(L.avail_out=0))},y.prototype.onData=function(b){this.chunks.push(b)},y.prototype.onEnd=function(b){b===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},s.Inflate=y,s.inflate=E,s.inflateRaw=function(b,_){return(_=_||{}).raw=!0,E(b,_)},s.ungzip=E},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,n,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(h){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var d=f.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var p in d)d.hasOwnProperty(p)&&(h[p]=d[p])}}return h},s.shrinkBuf=function(h,f){return h.length===f?h:h.subarray?h.subarray(0,f):(h.length=f,h)};var l={arraySet:function(h,f,d,p,g){if(f.subarray&&h.subarray)h.set(f.subarray(d,d+p),g);else for(var y=0;y<p;y++)h[g+y]=f[d+y]},flattenChunks:function(h){var f,d,p,g,y,E;for(f=p=0,d=h.length;f<d;f++)p+=h[f].length;for(E=new Uint8Array(p),f=g=0,d=h.length;f<d;f++)y=h[f],E.set(y,g),g+=y.length;return E}},c={arraySet:function(h,f,d,p,g){for(var y=0;y<p;y++)h[g+y]=f[d+y]},flattenChunks:function(h){return[].concat.apply([],h)}};s.setTyped=function(h){h?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,l)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,c))},s.setTyped(a)},{}],42:[function(e,n,s){var a=e("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var h=new a.Buf8(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function d(p,g){if(g<65537&&(p.subarray&&c||!p.subarray&&l))return String.fromCharCode.apply(null,a.shrinkBuf(p,g));for(var y="",E=0;E<g;E++)y+=String.fromCharCode(p[E]);return y}h[254]=h[254]=1,s.string2buf=function(p){var g,y,E,b,_,v=p.length,S=0;for(b=0;b<v;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<v&&(64512&(E=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(E-56320),b++),S+=y<128?1:y<2048?2:y<65536?3:4;for(g=new a.Buf8(S),b=_=0;_<S;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<v&&(64512&(E=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(E-56320),b++),y<128?g[_++]=y:(y<2048?g[_++]=192|y>>>6:(y<65536?g[_++]=224|y>>>12:(g[_++]=240|y>>>18,g[_++]=128|y>>>12&63),g[_++]=128|y>>>6&63),g[_++]=128|63&y);return g},s.buf2binstring=function(p){return d(p,p.length)},s.binstring2buf=function(p){for(var g=new a.Buf8(p.length),y=0,E=g.length;y<E;y++)g[y]=p.charCodeAt(y);return g},s.buf2string=function(p,g){var y,E,b,_,v=g||p.length,S=new Array(2*v);for(y=E=0;y<v;)if((b=p[y++])<128)S[E++]=b;else if(4<(_=h[b]))S[E++]=65533,y+=_-1;else{for(b&=_===2?31:_===3?15:7;1<_&&y<v;)b=b<<6|63&p[y++],_--;1<_?S[E++]=65533:b<65536?S[E++]=b:(b-=65536,S[E++]=55296|b>>10&1023,S[E++]=56320|1023&b)}return d(S,E)},s.utf8border=function(p,g){var y;for((g=g||p.length)>p.length&&(g=p.length),y=g-1;0<=y&&(192&p[y])==128;)y--;return y<0||y===0?g:y+h[p[y]]>g?y:g}},{"./common":41}],43:[function(e,n,s){n.exports=function(a,l,c,h){for(var f=65535&a|0,d=a>>>16&65535|0,p=0;c!==0;){for(c-=p=2e3<c?2e3:c;d=d+(f=f+l[h++]|0)|0,--p;);f%=65521,d%=65521}return f|d<<16|0}},{}],44:[function(e,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,n,s){var a=(function(){for(var l,c=[],h=0;h<256;h++){l=h;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;c[h]=l}return c})();n.exports=function(l,c,h,f){var d=a,p=f+h;l^=-1;for(var g=f;g<p;g++)l=l>>>8^d[255&(l^c[g])];return-1^l}},{}],46:[function(e,n,s){var a,l=e("../utils/common"),c=e("./trees"),h=e("./adler32"),f=e("./crc32"),d=e("./messages"),p=0,g=4,y=0,E=-2,b=-1,_=4,v=2,S=8,x=9,T=286,C=30,M=19,L=2*T+1,z=15,k=3,rt=258,ht=rt+k+1,U=42,dt=113,j=1,yt=2,et=3,Q=4;function ft(I,At){return I.msg=d[At],At}function vt(I){return(I<<1)-(4<I?9:0)}function It(I){for(var At=I.length;0<=--At;)I[At]=0}function H(I){var At=I.state,gt=At.pending;gt>I.avail_out&&(gt=I.avail_out),gt!==0&&(l.arraySet(I.output,At.pending_buf,At.pending_out,gt,I.next_out),I.next_out+=gt,At.pending_out+=gt,I.total_out+=gt,I.avail_out-=gt,At.pending-=gt,At.pending===0&&(At.pending_out=0))}function Z(I,At){c._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,At),I.block_start=I.strstart,H(I.strm)}function K(I,At){I.pending_buf[I.pending++]=At}function st(I,At){I.pending_buf[I.pending++]=At>>>8&255,I.pending_buf[I.pending++]=255&At}function ut(I,At){var gt,tt,at=I.max_chain_length,it=I.strstart,Mt=I.prev_length,kt=I.nice_match,_t=I.strstart>I.w_size-ht?I.strstart-(I.w_size-ht):0,Ft=I.window,zt=I.w_mask,jt=I.prev,Gt=I.strstart+rt,oe=Ft[it+Mt-1],Xt=Ft[it+Mt];I.prev_length>=I.good_match&&(at>>=2),kt>I.lookahead&&(kt=I.lookahead);do if(Ft[(gt=At)+Mt]===Xt&&Ft[gt+Mt-1]===oe&&Ft[gt]===Ft[it]&&Ft[++gt]===Ft[it+1]){it+=2,gt++;do;while(Ft[++it]===Ft[++gt]&&Ft[++it]===Ft[++gt]&&Ft[++it]===Ft[++gt]&&Ft[++it]===Ft[++gt]&&Ft[++it]===Ft[++gt]&&Ft[++it]===Ft[++gt]&&Ft[++it]===Ft[++gt]&&Ft[++it]===Ft[++gt]&&it<Gt);if(tt=rt-(Gt-it),it=Gt-rt,Mt<tt){if(I.match_start=At,kt<=(Mt=tt))break;oe=Ft[it+Mt-1],Xt=Ft[it+Mt]}}while((At=jt[At&zt])>_t&&--at!=0);return Mt<=I.lookahead?Mt:I.lookahead}function ct(I){var At,gt,tt,at,it,Mt,kt,_t,Ft,zt,jt=I.w_size;do{if(at=I.window_size-I.lookahead-I.strstart,I.strstart>=jt+(jt-ht)){for(l.arraySet(I.window,I.window,jt,jt,0),I.match_start-=jt,I.strstart-=jt,I.block_start-=jt,At=gt=I.hash_size;tt=I.head[--At],I.head[At]=jt<=tt?tt-jt:0,--gt;);for(At=gt=jt;tt=I.prev[--At],I.prev[At]=jt<=tt?tt-jt:0,--gt;);at+=jt}if(I.strm.avail_in===0)break;if(Mt=I.strm,kt=I.window,_t=I.strstart+I.lookahead,Ft=at,zt=void 0,zt=Mt.avail_in,Ft<zt&&(zt=Ft),gt=zt===0?0:(Mt.avail_in-=zt,l.arraySet(kt,Mt.input,Mt.next_in,zt,_t),Mt.state.wrap===1?Mt.adler=h(Mt.adler,kt,zt,_t):Mt.state.wrap===2&&(Mt.adler=f(Mt.adler,kt,zt,_t)),Mt.next_in+=zt,Mt.total_in+=zt,zt),I.lookahead+=gt,I.lookahead+I.insert>=k)for(it=I.strstart-I.insert,I.ins_h=I.window[it],I.ins_h=(I.ins_h<<I.hash_shift^I.window[it+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[it+k-1])&I.hash_mask,I.prev[it&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=it,it++,I.insert--,!(I.lookahead+I.insert<k)););}while(I.lookahead<ht&&I.strm.avail_in!==0)}function N(I,At){for(var gt,tt;;){if(I.lookahead<ht){if(ct(I),I.lookahead<ht&&At===p)return j;if(I.lookahead===0)break}if(gt=0,I.lookahead>=k&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+k-1])&I.hash_mask,gt=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),gt!==0&&I.strstart-gt<=I.w_size-ht&&(I.match_length=ut(I,gt)),I.match_length>=k)if(tt=c._tr_tally(I,I.strstart-I.match_start,I.match_length-k),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=k){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+k-1])&I.hash_mask,gt=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else tt=c._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(tt&&(Z(I,!1),I.strm.avail_out===0))return j}return I.insert=I.strstart<k-1?I.strstart:k-1,At===g?(Z(I,!0),I.strm.avail_out===0?et:Q):I.last_lit&&(Z(I,!1),I.strm.avail_out===0)?j:yt}function D(I,At){for(var gt,tt,at;;){if(I.lookahead<ht){if(ct(I),I.lookahead<ht&&At===p)return j;if(I.lookahead===0)break}if(gt=0,I.lookahead>=k&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+k-1])&I.hash_mask,gt=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=k-1,gt!==0&&I.prev_length<I.max_lazy_match&&I.strstart-gt<=I.w_size-ht&&(I.match_length=ut(I,gt),I.match_length<=5&&(I.strategy===1||I.match_length===k&&4096<I.strstart-I.match_start)&&(I.match_length=k-1)),I.prev_length>=k&&I.match_length<=I.prev_length){for(at=I.strstart+I.lookahead-k,tt=c._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-k),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=at&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+k-1])&I.hash_mask,gt=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=k-1,I.strstart++,tt&&(Z(I,!1),I.strm.avail_out===0))return j}else if(I.match_available){if((tt=c._tr_tally(I,0,I.window[I.strstart-1]))&&Z(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return j}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(tt=c._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<k-1?I.strstart:k-1,At===g?(Z(I,!0),I.strm.avail_out===0?et:Q):I.last_lit&&(Z(I,!1),I.strm.avail_out===0)?j:yt}function ot(I,At,gt,tt,at){this.good_length=I,this.max_lazy=At,this.nice_length=gt,this.max_chain=tt,this.func=at}function J(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*L),this.dyn_dtree=new l.Buf16(2*(2*C+1)),this.bl_tree=new l.Buf16(2*(2*M+1)),It(this.dyn_ltree),It(this.dyn_dtree),It(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(z+1),this.heap=new l.Buf16(2*T+1),It(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*T+1),It(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(I){var At;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=v,(At=I.state).pending=0,At.pending_out=0,At.wrap<0&&(At.wrap=-At.wrap),At.status=At.wrap?U:dt,I.adler=At.wrap===2?0:1,At.last_flush=p,c._tr_init(At),y):ft(I,E)}function W(I){var At=G(I);return At===y&&(function(gt){gt.window_size=2*gt.w_size,It(gt.head),gt.max_lazy_match=a[gt.level].max_lazy,gt.good_match=a[gt.level].good_length,gt.nice_match=a[gt.level].nice_length,gt.max_chain_length=a[gt.level].max_chain,gt.strstart=0,gt.block_start=0,gt.lookahead=0,gt.insert=0,gt.match_length=gt.prev_length=k-1,gt.match_available=0,gt.ins_h=0})(I.state),At}function St(I,At,gt,tt,at,it){if(!I)return E;var Mt=1;if(At===b&&(At=6),tt<0?(Mt=0,tt=-tt):15<tt&&(Mt=2,tt-=16),at<1||x<at||gt!==S||tt<8||15<tt||At<0||9<At||it<0||_<it)return ft(I,E);tt===8&&(tt=9);var kt=new J;return(I.state=kt).strm=I,kt.wrap=Mt,kt.gzhead=null,kt.w_bits=tt,kt.w_size=1<<kt.w_bits,kt.w_mask=kt.w_size-1,kt.hash_bits=at+7,kt.hash_size=1<<kt.hash_bits,kt.hash_mask=kt.hash_size-1,kt.hash_shift=~~((kt.hash_bits+k-1)/k),kt.window=new l.Buf8(2*kt.w_size),kt.head=new l.Buf16(kt.hash_size),kt.prev=new l.Buf16(kt.w_size),kt.lit_bufsize=1<<at+6,kt.pending_buf_size=4*kt.lit_bufsize,kt.pending_buf=new l.Buf8(kt.pending_buf_size),kt.d_buf=1*kt.lit_bufsize,kt.l_buf=3*kt.lit_bufsize,kt.level=At,kt.strategy=it,kt.method=gt,W(I)}a=[new ot(0,0,0,0,function(I,At){var gt=65535;for(gt>I.pending_buf_size-5&&(gt=I.pending_buf_size-5);;){if(I.lookahead<=1){if(ct(I),I.lookahead===0&&At===p)return j;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var tt=I.block_start+gt;if((I.strstart===0||I.strstart>=tt)&&(I.lookahead=I.strstart-tt,I.strstart=tt,Z(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-ht&&(Z(I,!1),I.strm.avail_out===0))return j}return I.insert=0,At===g?(Z(I,!0),I.strm.avail_out===0?et:Q):(I.strstart>I.block_start&&(Z(I,!1),I.strm.avail_out),j)}),new ot(4,4,8,4,N),new ot(4,5,16,8,N),new ot(4,6,32,32,N),new ot(4,4,16,16,D),new ot(8,16,32,32,D),new ot(8,16,128,128,D),new ot(8,32,128,256,D),new ot(32,128,258,1024,D),new ot(32,258,258,4096,D)],s.deflateInit=function(I,At){return St(I,At,S,15,8,0)},s.deflateInit2=St,s.deflateReset=W,s.deflateResetKeep=G,s.deflateSetHeader=function(I,At){return I&&I.state?I.state.wrap!==2?E:(I.state.gzhead=At,y):E},s.deflate=function(I,At){var gt,tt,at,it;if(!I||!I.state||5<At||At<0)return I?ft(I,E):E;if(tt=I.state,!I.output||!I.input&&I.avail_in!==0||tt.status===666&&At!==g)return ft(I,I.avail_out===0?-5:E);if(tt.strm=I,gt=tt.last_flush,tt.last_flush=At,tt.status===U)if(tt.wrap===2)I.adler=0,K(tt,31),K(tt,139),K(tt,8),tt.gzhead?(K(tt,(tt.gzhead.text?1:0)+(tt.gzhead.hcrc?2:0)+(tt.gzhead.extra?4:0)+(tt.gzhead.name?8:0)+(tt.gzhead.comment?16:0)),K(tt,255&tt.gzhead.time),K(tt,tt.gzhead.time>>8&255),K(tt,tt.gzhead.time>>16&255),K(tt,tt.gzhead.time>>24&255),K(tt,tt.level===9?2:2<=tt.strategy||tt.level<2?4:0),K(tt,255&tt.gzhead.os),tt.gzhead.extra&&tt.gzhead.extra.length&&(K(tt,255&tt.gzhead.extra.length),K(tt,tt.gzhead.extra.length>>8&255)),tt.gzhead.hcrc&&(I.adler=f(I.adler,tt.pending_buf,tt.pending,0)),tt.gzindex=0,tt.status=69):(K(tt,0),K(tt,0),K(tt,0),K(tt,0),K(tt,0),K(tt,tt.level===9?2:2<=tt.strategy||tt.level<2?4:0),K(tt,3),tt.status=dt);else{var Mt=S+(tt.w_bits-8<<4)<<8;Mt|=(2<=tt.strategy||tt.level<2?0:tt.level<6?1:tt.level===6?2:3)<<6,tt.strstart!==0&&(Mt|=32),Mt+=31-Mt%31,tt.status=dt,st(tt,Mt),tt.strstart!==0&&(st(tt,I.adler>>>16),st(tt,65535&I.adler)),I.adler=1}if(tt.status===69)if(tt.gzhead.extra){for(at=tt.pending;tt.gzindex<(65535&tt.gzhead.extra.length)&&(tt.pending!==tt.pending_buf_size||(tt.gzhead.hcrc&&tt.pending>at&&(I.adler=f(I.adler,tt.pending_buf,tt.pending-at,at)),H(I),at=tt.pending,tt.pending!==tt.pending_buf_size));)K(tt,255&tt.gzhead.extra[tt.gzindex]),tt.gzindex++;tt.gzhead.hcrc&&tt.pending>at&&(I.adler=f(I.adler,tt.pending_buf,tt.pending-at,at)),tt.gzindex===tt.gzhead.extra.length&&(tt.gzindex=0,tt.status=73)}else tt.status=73;if(tt.status===73)if(tt.gzhead.name){at=tt.pending;do{if(tt.pending===tt.pending_buf_size&&(tt.gzhead.hcrc&&tt.pending>at&&(I.adler=f(I.adler,tt.pending_buf,tt.pending-at,at)),H(I),at=tt.pending,tt.pending===tt.pending_buf_size)){it=1;break}it=tt.gzindex<tt.gzhead.name.length?255&tt.gzhead.name.charCodeAt(tt.gzindex++):0,K(tt,it)}while(it!==0);tt.gzhead.hcrc&&tt.pending>at&&(I.adler=f(I.adler,tt.pending_buf,tt.pending-at,at)),it===0&&(tt.gzindex=0,tt.status=91)}else tt.status=91;if(tt.status===91)if(tt.gzhead.comment){at=tt.pending;do{if(tt.pending===tt.pending_buf_size&&(tt.gzhead.hcrc&&tt.pending>at&&(I.adler=f(I.adler,tt.pending_buf,tt.pending-at,at)),H(I),at=tt.pending,tt.pending===tt.pending_buf_size)){it=1;break}it=tt.gzindex<tt.gzhead.comment.length?255&tt.gzhead.comment.charCodeAt(tt.gzindex++):0,K(tt,it)}while(it!==0);tt.gzhead.hcrc&&tt.pending>at&&(I.adler=f(I.adler,tt.pending_buf,tt.pending-at,at)),it===0&&(tt.status=103)}else tt.status=103;if(tt.status===103&&(tt.gzhead.hcrc?(tt.pending+2>tt.pending_buf_size&&H(I),tt.pending+2<=tt.pending_buf_size&&(K(tt,255&I.adler),K(tt,I.adler>>8&255),I.adler=0,tt.status=dt)):tt.status=dt),tt.pending!==0){if(H(I),I.avail_out===0)return tt.last_flush=-1,y}else if(I.avail_in===0&&vt(At)<=vt(gt)&&At!==g)return ft(I,-5);if(tt.status===666&&I.avail_in!==0)return ft(I,-5);if(I.avail_in!==0||tt.lookahead!==0||At!==p&&tt.status!==666){var kt=tt.strategy===2?(function(_t,Ft){for(var zt;;){if(_t.lookahead===0&&(ct(_t),_t.lookahead===0)){if(Ft===p)return j;break}if(_t.match_length=0,zt=c._tr_tally(_t,0,_t.window[_t.strstart]),_t.lookahead--,_t.strstart++,zt&&(Z(_t,!1),_t.strm.avail_out===0))return j}return _t.insert=0,Ft===g?(Z(_t,!0),_t.strm.avail_out===0?et:Q):_t.last_lit&&(Z(_t,!1),_t.strm.avail_out===0)?j:yt})(tt,At):tt.strategy===3?(function(_t,Ft){for(var zt,jt,Gt,oe,Xt=_t.window;;){if(_t.lookahead<=rt){if(ct(_t),_t.lookahead<=rt&&Ft===p)return j;if(_t.lookahead===0)break}if(_t.match_length=0,_t.lookahead>=k&&0<_t.strstart&&(jt=Xt[Gt=_t.strstart-1])===Xt[++Gt]&&jt===Xt[++Gt]&&jt===Xt[++Gt]){oe=_t.strstart+rt;do;while(jt===Xt[++Gt]&&jt===Xt[++Gt]&&jt===Xt[++Gt]&&jt===Xt[++Gt]&&jt===Xt[++Gt]&&jt===Xt[++Gt]&&jt===Xt[++Gt]&&jt===Xt[++Gt]&&Gt<oe);_t.match_length=rt-(oe-Gt),_t.match_length>_t.lookahead&&(_t.match_length=_t.lookahead)}if(_t.match_length>=k?(zt=c._tr_tally(_t,1,_t.match_length-k),_t.lookahead-=_t.match_length,_t.strstart+=_t.match_length,_t.match_length=0):(zt=c._tr_tally(_t,0,_t.window[_t.strstart]),_t.lookahead--,_t.strstart++),zt&&(Z(_t,!1),_t.strm.avail_out===0))return j}return _t.insert=0,Ft===g?(Z(_t,!0),_t.strm.avail_out===0?et:Q):_t.last_lit&&(Z(_t,!1),_t.strm.avail_out===0)?j:yt})(tt,At):a[tt.level].func(tt,At);if(kt!==et&&kt!==Q||(tt.status=666),kt===j||kt===et)return I.avail_out===0&&(tt.last_flush=-1),y;if(kt===yt&&(At===1?c._tr_align(tt):At!==5&&(c._tr_stored_block(tt,0,0,!1),At===3&&(It(tt.head),tt.lookahead===0&&(tt.strstart=0,tt.block_start=0,tt.insert=0))),H(I),I.avail_out===0))return tt.last_flush=-1,y}return At!==g?y:tt.wrap<=0?1:(tt.wrap===2?(K(tt,255&I.adler),K(tt,I.adler>>8&255),K(tt,I.adler>>16&255),K(tt,I.adler>>24&255),K(tt,255&I.total_in),K(tt,I.total_in>>8&255),K(tt,I.total_in>>16&255),K(tt,I.total_in>>24&255)):(st(tt,I.adler>>>16),st(tt,65535&I.adler)),H(I),0<tt.wrap&&(tt.wrap=-tt.wrap),tt.pending!==0?y:1)},s.deflateEnd=function(I){var At;return I&&I.state?(At=I.state.status)!==U&&At!==69&&At!==73&&At!==91&&At!==103&&At!==dt&&At!==666?ft(I,E):(I.state=null,At===dt?ft(I,-3):y):E},s.deflateSetDictionary=function(I,At){var gt,tt,at,it,Mt,kt,_t,Ft,zt=At.length;if(!I||!I.state||(it=(gt=I.state).wrap)===2||it===1&&gt.status!==U||gt.lookahead)return E;for(it===1&&(I.adler=h(I.adler,At,zt,0)),gt.wrap=0,zt>=gt.w_size&&(it===0&&(It(gt.head),gt.strstart=0,gt.block_start=0,gt.insert=0),Ft=new l.Buf8(gt.w_size),l.arraySet(Ft,At,zt-gt.w_size,gt.w_size,0),At=Ft,zt=gt.w_size),Mt=I.avail_in,kt=I.next_in,_t=I.input,I.avail_in=zt,I.next_in=0,I.input=At,ct(gt);gt.lookahead>=k;){for(tt=gt.strstart,at=gt.lookahead-(k-1);gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[tt+k-1])&gt.hash_mask,gt.prev[tt&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=tt,tt++,--at;);gt.strstart=tt,gt.lookahead=k-1,ct(gt)}return gt.strstart+=gt.lookahead,gt.block_start=gt.strstart,gt.insert=gt.lookahead,gt.lookahead=0,gt.match_length=gt.prev_length=k-1,gt.match_available=0,I.next_in=kt,I.input=_t,I.avail_in=Mt,gt.wrap=it,y},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,n,s){n.exports=function(a,l){var c,h,f,d,p,g,y,E,b,_,v,S,x,T,C,M,L,z,k,rt,ht,U,dt,j,yt;c=a.state,h=a.next_in,j=a.input,f=h+(a.avail_in-5),d=a.next_out,yt=a.output,p=d-(l-a.avail_out),g=d+(a.avail_out-257),y=c.dmax,E=c.wsize,b=c.whave,_=c.wnext,v=c.window,S=c.hold,x=c.bits,T=c.lencode,C=c.distcode,M=(1<<c.lenbits)-1,L=(1<<c.distbits)-1;t:do{x<15&&(S+=j[h++]<<x,x+=8,S+=j[h++]<<x,x+=8),z=T[S&M];e:for(;;){if(S>>>=k=z>>>24,x-=k,(k=z>>>16&255)===0)yt[d++]=65535&z;else{if(!(16&k)){if((64&k)==0){z=T[(65535&z)+(S&(1<<k)-1)];continue e}if(32&k){c.mode=12;break t}a.msg="invalid literal/length code",c.mode=30;break t}rt=65535&z,(k&=15)&&(x<k&&(S+=j[h++]<<x,x+=8),rt+=S&(1<<k)-1,S>>>=k,x-=k),x<15&&(S+=j[h++]<<x,x+=8,S+=j[h++]<<x,x+=8),z=C[S&L];n:for(;;){if(S>>>=k=z>>>24,x-=k,!(16&(k=z>>>16&255))){if((64&k)==0){z=C[(65535&z)+(S&(1<<k)-1)];continue n}a.msg="invalid distance code",c.mode=30;break t}if(ht=65535&z,x<(k&=15)&&(S+=j[h++]<<x,(x+=8)<k&&(S+=j[h++]<<x,x+=8)),y<(ht+=S&(1<<k)-1)){a.msg="invalid distance too far back",c.mode=30;break t}if(S>>>=k,x-=k,(k=d-p)<ht){if(b<(k=ht-k)&&c.sane){a.msg="invalid distance too far back",c.mode=30;break t}if(dt=v,(U=0)===_){if(U+=E-k,k<rt){for(rt-=k;yt[d++]=v[U++],--k;);U=d-ht,dt=yt}}else if(_<k){if(U+=E+_-k,(k-=_)<rt){for(rt-=k;yt[d++]=v[U++],--k;);if(U=0,_<rt){for(rt-=k=_;yt[d++]=v[U++],--k;);U=d-ht,dt=yt}}}else if(U+=_-k,k<rt){for(rt-=k;yt[d++]=v[U++],--k;);U=d-ht,dt=yt}for(;2<rt;)yt[d++]=dt[U++],yt[d++]=dt[U++],yt[d++]=dt[U++],rt-=3;rt&&(yt[d++]=dt[U++],1<rt&&(yt[d++]=dt[U++]))}else{for(U=d-ht;yt[d++]=yt[U++],yt[d++]=yt[U++],yt[d++]=yt[U++],2<(rt-=3););rt&&(yt[d++]=yt[U++],1<rt&&(yt[d++]=yt[U++]))}break}}break}}while(h<f&&d<g);h-=rt=x>>3,S&=(1<<(x-=rt<<3))-1,a.next_in=h,a.next_out=d,a.avail_in=h<f?f-h+5:5-(h-f),a.avail_out=d<g?g-d+257:257-(d-g),c.hold=S,c.bits=x}},{}],49:[function(e,n,s){var a=e("../utils/common"),l=e("./adler32"),c=e("./crc32"),h=e("./inffast"),f=e("./inftrees"),d=1,p=2,g=0,y=-2,E=1,b=852,_=592;function v(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(U){var dt;return U&&U.state?(dt=U.state,U.total_in=U.total_out=dt.total=0,U.msg="",dt.wrap&&(U.adler=1&dt.wrap),dt.mode=E,dt.last=0,dt.havedict=0,dt.dmax=32768,dt.head=null,dt.hold=0,dt.bits=0,dt.lencode=dt.lendyn=new a.Buf32(b),dt.distcode=dt.distdyn=new a.Buf32(_),dt.sane=1,dt.back=-1,g):y}function T(U){var dt;return U&&U.state?((dt=U.state).wsize=0,dt.whave=0,dt.wnext=0,x(U)):y}function C(U,dt){var j,yt;return U&&U.state?(yt=U.state,dt<0?(j=0,dt=-dt):(j=1+(dt>>4),dt<48&&(dt&=15)),dt&&(dt<8||15<dt)?y:(yt.window!==null&&yt.wbits!==dt&&(yt.window=null),yt.wrap=j,yt.wbits=dt,T(U))):y}function M(U,dt){var j,yt;return U?(yt=new S,(U.state=yt).window=null,(j=C(U,dt))!==g&&(U.state=null),j):y}var L,z,k=!0;function rt(U){if(k){var dt;for(L=new a.Buf32(512),z=new a.Buf32(32),dt=0;dt<144;)U.lens[dt++]=8;for(;dt<256;)U.lens[dt++]=9;for(;dt<280;)U.lens[dt++]=7;for(;dt<288;)U.lens[dt++]=8;for(f(d,U.lens,0,288,L,0,U.work,{bits:9}),dt=0;dt<32;)U.lens[dt++]=5;f(p,U.lens,0,32,z,0,U.work,{bits:5}),k=!1}U.lencode=L,U.lenbits=9,U.distcode=z,U.distbits=5}function ht(U,dt,j,yt){var et,Q=U.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new a.Buf8(Q.wsize)),yt>=Q.wsize?(a.arraySet(Q.window,dt,j-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(yt<(et=Q.wsize-Q.wnext)&&(et=yt),a.arraySet(Q.window,dt,j-yt,et,Q.wnext),(yt-=et)?(a.arraySet(Q.window,dt,j-yt,yt,0),Q.wnext=yt,Q.whave=Q.wsize):(Q.wnext+=et,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=et))),0}s.inflateReset=T,s.inflateReset2=C,s.inflateResetKeep=x,s.inflateInit=function(U){return M(U,15)},s.inflateInit2=M,s.inflate=function(U,dt){var j,yt,et,Q,ft,vt,It,H,Z,K,st,ut,ct,N,D,ot,J,G,W,St,I,At,gt,tt,at=0,it=new a.Buf8(4),Mt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return y;(j=U.state).mode===12&&(j.mode=13),ft=U.next_out,et=U.output,It=U.avail_out,Q=U.next_in,yt=U.input,vt=U.avail_in,H=j.hold,Z=j.bits,K=vt,st=It,At=g;t:for(;;)switch(j.mode){case E:if(j.wrap===0){j.mode=13;break}for(;Z<16;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}if(2&j.wrap&&H===35615){it[j.check=0]=255&H,it[1]=H>>>8&255,j.check=c(j.check,it,2,0),Z=H=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&H)<<8)+(H>>8))%31){U.msg="incorrect header check",j.mode=30;break}if((15&H)!=8){U.msg="unknown compression method",j.mode=30;break}if(Z-=4,I=8+(15&(H>>>=4)),j.wbits===0)j.wbits=I;else if(I>j.wbits){U.msg="invalid window size",j.mode=30;break}j.dmax=1<<I,U.adler=j.check=1,j.mode=512&H?10:12,Z=H=0;break;case 2:for(;Z<16;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}if(j.flags=H,(255&j.flags)!=8){U.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){U.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=H>>8&1),512&j.flags&&(it[0]=255&H,it[1]=H>>>8&255,j.check=c(j.check,it,2,0)),Z=H=0,j.mode=3;case 3:for(;Z<32;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}j.head&&(j.head.time=H),512&j.flags&&(it[0]=255&H,it[1]=H>>>8&255,it[2]=H>>>16&255,it[3]=H>>>24&255,j.check=c(j.check,it,4,0)),Z=H=0,j.mode=4;case 4:for(;Z<16;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}j.head&&(j.head.xflags=255&H,j.head.os=H>>8),512&j.flags&&(it[0]=255&H,it[1]=H>>>8&255,j.check=c(j.check,it,2,0)),Z=H=0,j.mode=5;case 5:if(1024&j.flags){for(;Z<16;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}j.length=H,j.head&&(j.head.extra_len=H),512&j.flags&&(it[0]=255&H,it[1]=H>>>8&255,j.check=c(j.check,it,2,0)),Z=H=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(vt<(ut=j.length)&&(ut=vt),ut&&(j.head&&(I=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),a.arraySet(j.head.extra,yt,Q,ut,I)),512&j.flags&&(j.check=c(j.check,yt,ut,Q)),vt-=ut,Q+=ut,j.length-=ut),j.length))break t;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(vt===0)break t;for(ut=0;I=yt[Q+ut++],j.head&&I&&j.length<65536&&(j.head.name+=String.fromCharCode(I)),I&&ut<vt;);if(512&j.flags&&(j.check=c(j.check,yt,ut,Q)),vt-=ut,Q+=ut,I)break t}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(vt===0)break t;for(ut=0;I=yt[Q+ut++],j.head&&I&&j.length<65536&&(j.head.comment+=String.fromCharCode(I)),I&&ut<vt;);if(512&j.flags&&(j.check=c(j.check,yt,ut,Q)),vt-=ut,Q+=ut,I)break t}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;Z<16;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}if(H!==(65535&j.check)){U.msg="header crc mismatch",j.mode=30;break}Z=H=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),U.adler=j.check=0,j.mode=12;break;case 10:for(;Z<32;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}U.adler=j.check=v(H),Z=H=0,j.mode=11;case 11:if(j.havedict===0)return U.next_out=ft,U.avail_out=It,U.next_in=Q,U.avail_in=vt,j.hold=H,j.bits=Z,2;U.adler=j.check=1,j.mode=12;case 12:if(dt===5||dt===6)break t;case 13:if(j.last){H>>>=7&Z,Z-=7&Z,j.mode=27;break}for(;Z<3;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}switch(j.last=1&H,Z-=1,3&(H>>>=1)){case 0:j.mode=14;break;case 1:if(rt(j),j.mode=20,dt!==6)break;H>>>=2,Z-=2;break t;case 2:j.mode=17;break;case 3:U.msg="invalid block type",j.mode=30}H>>>=2,Z-=2;break;case 14:for(H>>>=7&Z,Z-=7&Z;Z<32;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}if((65535&H)!=(H>>>16^65535)){U.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&H,Z=H=0,j.mode=15,dt===6)break t;case 15:j.mode=16;case 16:if(ut=j.length){if(vt<ut&&(ut=vt),It<ut&&(ut=It),ut===0)break t;a.arraySet(et,yt,Q,ut,ft),vt-=ut,Q+=ut,It-=ut,ft+=ut,j.length-=ut;break}j.mode=12;break;case 17:for(;Z<14;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}if(j.nlen=257+(31&H),H>>>=5,Z-=5,j.ndist=1+(31&H),H>>>=5,Z-=5,j.ncode=4+(15&H),H>>>=4,Z-=4,286<j.nlen||30<j.ndist){U.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;Z<3;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}j.lens[Mt[j.have++]]=7&H,H>>>=3,Z-=3}for(;j.have<19;)j.lens[Mt[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,gt={bits:j.lenbits},At=f(0,j.lens,0,19,j.lencode,0,j.work,gt),j.lenbits=gt.bits,At){U.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;ot=(at=j.lencode[H&(1<<j.lenbits)-1])>>>16&255,J=65535&at,!((D=at>>>24)<=Z);){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}if(J<16)H>>>=D,Z-=D,j.lens[j.have++]=J;else{if(J===16){for(tt=D+2;Z<tt;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}if(H>>>=D,Z-=D,j.have===0){U.msg="invalid bit length repeat",j.mode=30;break}I=j.lens[j.have-1],ut=3+(3&H),H>>>=2,Z-=2}else if(J===17){for(tt=D+3;Z<tt;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}Z-=D,I=0,ut=3+(7&(H>>>=D)),H>>>=3,Z-=3}else{for(tt=D+7;Z<tt;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}Z-=D,I=0,ut=11+(127&(H>>>=D)),H>>>=7,Z-=7}if(j.have+ut>j.nlen+j.ndist){U.msg="invalid bit length repeat",j.mode=30;break}for(;ut--;)j.lens[j.have++]=I}}if(j.mode===30)break;if(j.lens[256]===0){U.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,gt={bits:j.lenbits},At=f(d,j.lens,0,j.nlen,j.lencode,0,j.work,gt),j.lenbits=gt.bits,At){U.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,gt={bits:j.distbits},At=f(p,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,gt),j.distbits=gt.bits,At){U.msg="invalid distances set",j.mode=30;break}if(j.mode=20,dt===6)break t;case 20:j.mode=21;case 21:if(6<=vt&&258<=It){U.next_out=ft,U.avail_out=It,U.next_in=Q,U.avail_in=vt,j.hold=H,j.bits=Z,h(U,st),ft=U.next_out,et=U.output,It=U.avail_out,Q=U.next_in,yt=U.input,vt=U.avail_in,H=j.hold,Z=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;ot=(at=j.lencode[H&(1<<j.lenbits)-1])>>>16&255,J=65535&at,!((D=at>>>24)<=Z);){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}if(ot&&(240&ot)==0){for(G=D,W=ot,St=J;ot=(at=j.lencode[St+((H&(1<<G+W)-1)>>G)])>>>16&255,J=65535&at,!(G+(D=at>>>24)<=Z);){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}H>>>=G,Z-=G,j.back+=G}if(H>>>=D,Z-=D,j.back+=D,j.length=J,ot===0){j.mode=26;break}if(32&ot){j.back=-1,j.mode=12;break}if(64&ot){U.msg="invalid literal/length code",j.mode=30;break}j.extra=15&ot,j.mode=22;case 22:if(j.extra){for(tt=j.extra;Z<tt;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}j.length+=H&(1<<j.extra)-1,H>>>=j.extra,Z-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;ot=(at=j.distcode[H&(1<<j.distbits)-1])>>>16&255,J=65535&at,!((D=at>>>24)<=Z);){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}if((240&ot)==0){for(G=D,W=ot,St=J;ot=(at=j.distcode[St+((H&(1<<G+W)-1)>>G)])>>>16&255,J=65535&at,!(G+(D=at>>>24)<=Z);){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}H>>>=G,Z-=G,j.back+=G}if(H>>>=D,Z-=D,j.back+=D,64&ot){U.msg="invalid distance code",j.mode=30;break}j.offset=J,j.extra=15&ot,j.mode=24;case 24:if(j.extra){for(tt=j.extra;Z<tt;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}j.offset+=H&(1<<j.extra)-1,H>>>=j.extra,Z-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){U.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(It===0)break t;if(ut=st-It,j.offset>ut){if((ut=j.offset-ut)>j.whave&&j.sane){U.msg="invalid distance too far back",j.mode=30;break}ct=ut>j.wnext?(ut-=j.wnext,j.wsize-ut):j.wnext-ut,ut>j.length&&(ut=j.length),N=j.window}else N=et,ct=ft-j.offset,ut=j.length;for(It<ut&&(ut=It),It-=ut,j.length-=ut;et[ft++]=N[ct++],--ut;);j.length===0&&(j.mode=21);break;case 26:if(It===0)break t;et[ft++]=j.length,It--,j.mode=21;break;case 27:if(j.wrap){for(;Z<32;){if(vt===0)break t;vt--,H|=yt[Q++]<<Z,Z+=8}if(st-=It,U.total_out+=st,j.total+=st,st&&(U.adler=j.check=j.flags?c(j.check,et,st,ft-st):l(j.check,et,st,ft-st)),st=It,(j.flags?H:v(H))!==j.check){U.msg="incorrect data check",j.mode=30;break}Z=H=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;Z<32;){if(vt===0)break t;vt--,H+=yt[Q++]<<Z,Z+=8}if(H!==(4294967295&j.total)){U.msg="incorrect length check",j.mode=30;break}Z=H=0}j.mode=29;case 29:At=1;break t;case 30:At=-3;break t;case 31:return-4;default:return y}return U.next_out=ft,U.avail_out=It,U.next_in=Q,U.avail_in=vt,j.hold=H,j.bits=Z,(j.wsize||st!==U.avail_out&&j.mode<30&&(j.mode<27||dt!==4))&&ht(U,U.output,U.next_out,st-U.avail_out)?(j.mode=31,-4):(K-=U.avail_in,st-=U.avail_out,U.total_in+=K,U.total_out+=st,j.total+=st,j.wrap&&st&&(U.adler=j.check=j.flags?c(j.check,et,st,U.next_out-st):l(j.check,et,st,U.next_out-st)),U.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(K==0&&st===0||dt===4)&&At===g&&(At=-5),At)},s.inflateEnd=function(U){if(!U||!U.state)return y;var dt=U.state;return dt.window&&(dt.window=null),U.state=null,g},s.inflateGetHeader=function(U,dt){var j;return U&&U.state?(2&(j=U.state).wrap)==0?y:((j.head=dt).done=!1,g):y},s.inflateSetDictionary=function(U,dt){var j,yt=dt.length;return U&&U.state?(j=U.state).wrap!==0&&j.mode!==11?y:j.mode===11&&l(1,dt,yt,0)!==j.check?-3:ht(U,dt,yt,yt)?(j.mode=31,-4):(j.havedict=1,g):y},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,n,s){var a=e("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,p,g,y,E,b,_,v){var S,x,T,C,M,L,z,k,rt,ht=v.bits,U=0,dt=0,j=0,yt=0,et=0,Q=0,ft=0,vt=0,It=0,H=0,Z=null,K=0,st=new a.Buf16(16),ut=new a.Buf16(16),ct=null,N=0;for(U=0;U<=15;U++)st[U]=0;for(dt=0;dt<y;dt++)st[p[g+dt]]++;for(et=ht,yt=15;1<=yt&&st[yt]===0;yt--);if(yt<et&&(et=yt),yt===0)return E[b++]=20971520,E[b++]=20971520,v.bits=1,0;for(j=1;j<yt&&st[j]===0;j++);for(et<j&&(et=j),U=vt=1;U<=15;U++)if(vt<<=1,(vt-=st[U])<0)return-1;if(0<vt&&(d===0||yt!==1))return-1;for(ut[1]=0,U=1;U<15;U++)ut[U+1]=ut[U]+st[U];for(dt=0;dt<y;dt++)p[g+dt]!==0&&(_[ut[p[g+dt]]++]=dt);if(L=d===0?(Z=ct=_,19):d===1?(Z=l,K-=257,ct=c,N-=257,256):(Z=h,ct=f,-1),U=j,M=b,ft=dt=H=0,T=-1,C=(It=1<<(Q=et))-1,d===1&&852<It||d===2&&592<It)return 1;for(;;){for(z=U-ft,rt=_[dt]<L?(k=0,_[dt]):_[dt]>L?(k=ct[N+_[dt]],Z[K+_[dt]]):(k=96,0),S=1<<U-ft,j=x=1<<Q;E[M+(H>>ft)+(x-=S)]=z<<24|k<<16|rt|0,x!==0;);for(S=1<<U-1;H&S;)S>>=1;if(S!==0?(H&=S-1,H+=S):H=0,dt++,--st[U]==0){if(U===yt)break;U=p[g+_[dt]]}if(et<U&&(H&C)!==T){for(ft===0&&(ft=et),M+=j,vt=1<<(Q=U-ft);Q+ft<yt&&!((vt-=st[Q+ft])<=0);)Q++,vt<<=1;if(It+=1<<Q,d===1&&852<It||d===2&&592<It)return 1;E[T=H&C]=et<<24|Q<<16|M-b|0}}return H!==0&&(E[M+H]=U-ft<<24|64<<16|0),v.bits=et,0}},{"../utils/common":41}],51:[function(e,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,n,s){var a=e("../utils/common"),l=0,c=1;function h(at){for(var it=at.length;0<=--it;)at[it]=0}var f=0,d=29,p=256,g=p+1+d,y=30,E=19,b=2*g+1,_=15,v=16,S=7,x=256,T=16,C=17,M=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ht=new Array(2*(g+2));h(ht);var U=new Array(2*y);h(U);var dt=new Array(512);h(dt);var j=new Array(256);h(j);var yt=new Array(d);h(yt);var et,Q,ft,vt=new Array(y);function It(at,it,Mt,kt,_t){this.static_tree=at,this.extra_bits=it,this.extra_base=Mt,this.elems=kt,this.max_length=_t,this.has_stree=at&&at.length}function H(at,it){this.dyn_tree=at,this.max_code=0,this.stat_desc=it}function Z(at){return at<256?dt[at]:dt[256+(at>>>7)]}function K(at,it){at.pending_buf[at.pending++]=255&it,at.pending_buf[at.pending++]=it>>>8&255}function st(at,it,Mt){at.bi_valid>v-Mt?(at.bi_buf|=it<<at.bi_valid&65535,K(at,at.bi_buf),at.bi_buf=it>>v-at.bi_valid,at.bi_valid+=Mt-v):(at.bi_buf|=it<<at.bi_valid&65535,at.bi_valid+=Mt)}function ut(at,it,Mt){st(at,Mt[2*it],Mt[2*it+1])}function ct(at,it){for(var Mt=0;Mt|=1&at,at>>>=1,Mt<<=1,0<--it;);return Mt>>>1}function N(at,it,Mt){var kt,_t,Ft=new Array(_+1),zt=0;for(kt=1;kt<=_;kt++)Ft[kt]=zt=zt+Mt[kt-1]<<1;for(_t=0;_t<=it;_t++){var jt=at[2*_t+1];jt!==0&&(at[2*_t]=ct(Ft[jt]++,jt))}}function D(at){var it;for(it=0;it<g;it++)at.dyn_ltree[2*it]=0;for(it=0;it<y;it++)at.dyn_dtree[2*it]=0;for(it=0;it<E;it++)at.bl_tree[2*it]=0;at.dyn_ltree[2*x]=1,at.opt_len=at.static_len=0,at.last_lit=at.matches=0}function ot(at){8<at.bi_valid?K(at,at.bi_buf):0<at.bi_valid&&(at.pending_buf[at.pending++]=at.bi_buf),at.bi_buf=0,at.bi_valid=0}function J(at,it,Mt,kt){var _t=2*it,Ft=2*Mt;return at[_t]<at[Ft]||at[_t]===at[Ft]&&kt[it]<=kt[Mt]}function G(at,it,Mt){for(var kt=at.heap[Mt],_t=Mt<<1;_t<=at.heap_len&&(_t<at.heap_len&&J(it,at.heap[_t+1],at.heap[_t],at.depth)&&_t++,!J(it,kt,at.heap[_t],at.depth));)at.heap[Mt]=at.heap[_t],Mt=_t,_t<<=1;at.heap[Mt]=kt}function W(at,it,Mt){var kt,_t,Ft,zt,jt=0;if(at.last_lit!==0)for(;kt=at.pending_buf[at.d_buf+2*jt]<<8|at.pending_buf[at.d_buf+2*jt+1],_t=at.pending_buf[at.l_buf+jt],jt++,kt===0?ut(at,_t,it):(ut(at,(Ft=j[_t])+p+1,it),(zt=L[Ft])!==0&&st(at,_t-=yt[Ft],zt),ut(at,Ft=Z(--kt),Mt),(zt=z[Ft])!==0&&st(at,kt-=vt[Ft],zt)),jt<at.last_lit;);ut(at,x,it)}function St(at,it){var Mt,kt,_t,Ft=it.dyn_tree,zt=it.stat_desc.static_tree,jt=it.stat_desc.has_stree,Gt=it.stat_desc.elems,oe=-1;for(at.heap_len=0,at.heap_max=b,Mt=0;Mt<Gt;Mt++)Ft[2*Mt]!==0?(at.heap[++at.heap_len]=oe=Mt,at.depth[Mt]=0):Ft[2*Mt+1]=0;for(;at.heap_len<2;)Ft[2*(_t=at.heap[++at.heap_len]=oe<2?++oe:0)]=1,at.depth[_t]=0,at.opt_len--,jt&&(at.static_len-=zt[2*_t+1]);for(it.max_code=oe,Mt=at.heap_len>>1;1<=Mt;Mt--)G(at,Ft,Mt);for(_t=Gt;Mt=at.heap[1],at.heap[1]=at.heap[at.heap_len--],G(at,Ft,1),kt=at.heap[1],at.heap[--at.heap_max]=Mt,at.heap[--at.heap_max]=kt,Ft[2*_t]=Ft[2*Mt]+Ft[2*kt],at.depth[_t]=(at.depth[Mt]>=at.depth[kt]?at.depth[Mt]:at.depth[kt])+1,Ft[2*Mt+1]=Ft[2*kt+1]=_t,at.heap[1]=_t++,G(at,Ft,1),2<=at.heap_len;);at.heap[--at.heap_max]=at.heap[1],(function(Xt,$e){var q,R,P,nt,mt,xt,Dt=$e.dyn_tree,ee=$e.max_code,Ce=$e.stat_desc.static_tree,Re=$e.stat_desc.has_stree,Ee=$e.stat_desc.extra_bits,he=$e.stat_desc.extra_base,Ln=$e.stat_desc.max_length,We=0;for(nt=0;nt<=_;nt++)Xt.bl_count[nt]=0;for(Dt[2*Xt.heap[Xt.heap_max]+1]=0,q=Xt.heap_max+1;q<b;q++)Ln<(nt=Dt[2*Dt[2*(R=Xt.heap[q])+1]+1]+1)&&(nt=Ln,We++),Dt[2*R+1]=nt,ee<R||(Xt.bl_count[nt]++,mt=0,he<=R&&(mt=Ee[R-he]),xt=Dt[2*R],Xt.opt_len+=xt*(nt+mt),Re&&(Xt.static_len+=xt*(Ce[2*R+1]+mt)));if(We!==0){do{for(nt=Ln-1;Xt.bl_count[nt]===0;)nt--;Xt.bl_count[nt]--,Xt.bl_count[nt+1]+=2,Xt.bl_count[Ln]--,We-=2}while(0<We);for(nt=Ln;nt!==0;nt--)for(R=Xt.bl_count[nt];R!==0;)ee<(P=Xt.heap[--q])||(Dt[2*P+1]!==nt&&(Xt.opt_len+=(nt-Dt[2*P+1])*Dt[2*P],Dt[2*P+1]=nt),R--)}})(at,it),N(Ft,oe,at.bl_count)}function I(at,it,Mt){var kt,_t,Ft=-1,zt=it[1],jt=0,Gt=7,oe=4;for(zt===0&&(Gt=138,oe=3),it[2*(Mt+1)+1]=65535,kt=0;kt<=Mt;kt++)_t=zt,zt=it[2*(kt+1)+1],++jt<Gt&&_t===zt||(jt<oe?at.bl_tree[2*_t]+=jt:_t!==0?(_t!==Ft&&at.bl_tree[2*_t]++,at.bl_tree[2*T]++):jt<=10?at.bl_tree[2*C]++:at.bl_tree[2*M]++,Ft=_t,oe=(jt=0)===zt?(Gt=138,3):_t===zt?(Gt=6,3):(Gt=7,4))}function At(at,it,Mt){var kt,_t,Ft=-1,zt=it[1],jt=0,Gt=7,oe=4;for(zt===0&&(Gt=138,oe=3),kt=0;kt<=Mt;kt++)if(_t=zt,zt=it[2*(kt+1)+1],!(++jt<Gt&&_t===zt)){if(jt<oe)for(;ut(at,_t,at.bl_tree),--jt!=0;);else _t!==0?(_t!==Ft&&(ut(at,_t,at.bl_tree),jt--),ut(at,T,at.bl_tree),st(at,jt-3,2)):jt<=10?(ut(at,C,at.bl_tree),st(at,jt-3,3)):(ut(at,M,at.bl_tree),st(at,jt-11,7));Ft=_t,oe=(jt=0)===zt?(Gt=138,3):_t===zt?(Gt=6,3):(Gt=7,4)}}h(vt);var gt=!1;function tt(at,it,Mt,kt){st(at,(f<<1)+(kt?1:0),3),(function(_t,Ft,zt,jt){ot(_t),K(_t,zt),K(_t,~zt),a.arraySet(_t.pending_buf,_t.window,Ft,zt,_t.pending),_t.pending+=zt})(at,it,Mt)}s._tr_init=function(at){gt||((function(){var it,Mt,kt,_t,Ft,zt=new Array(_+1);for(_t=kt=0;_t<d-1;_t++)for(yt[_t]=kt,it=0;it<1<<L[_t];it++)j[kt++]=_t;for(j[kt-1]=_t,_t=Ft=0;_t<16;_t++)for(vt[_t]=Ft,it=0;it<1<<z[_t];it++)dt[Ft++]=_t;for(Ft>>=7;_t<y;_t++)for(vt[_t]=Ft<<7,it=0;it<1<<z[_t]-7;it++)dt[256+Ft++]=_t;for(Mt=0;Mt<=_;Mt++)zt[Mt]=0;for(it=0;it<=143;)ht[2*it+1]=8,it++,zt[8]++;for(;it<=255;)ht[2*it+1]=9,it++,zt[9]++;for(;it<=279;)ht[2*it+1]=7,it++,zt[7]++;for(;it<=287;)ht[2*it+1]=8,it++,zt[8]++;for(N(ht,g+1,zt),it=0;it<y;it++)U[2*it+1]=5,U[2*it]=ct(it,5);et=new It(ht,L,p+1,g,_),Q=new It(U,z,0,y,_),ft=new It(new Array(0),k,0,E,S)})(),gt=!0),at.l_desc=new H(at.dyn_ltree,et),at.d_desc=new H(at.dyn_dtree,Q),at.bl_desc=new H(at.bl_tree,ft),at.bi_buf=0,at.bi_valid=0,D(at)},s._tr_stored_block=tt,s._tr_flush_block=function(at,it,Mt,kt){var _t,Ft,zt=0;0<at.level?(at.strm.data_type===2&&(at.strm.data_type=(function(jt){var Gt,oe=4093624447;for(Gt=0;Gt<=31;Gt++,oe>>>=1)if(1&oe&&jt.dyn_ltree[2*Gt]!==0)return l;if(jt.dyn_ltree[18]!==0||jt.dyn_ltree[20]!==0||jt.dyn_ltree[26]!==0)return c;for(Gt=32;Gt<p;Gt++)if(jt.dyn_ltree[2*Gt]!==0)return c;return l})(at)),St(at,at.l_desc),St(at,at.d_desc),zt=(function(jt){var Gt;for(I(jt,jt.dyn_ltree,jt.l_desc.max_code),I(jt,jt.dyn_dtree,jt.d_desc.max_code),St(jt,jt.bl_desc),Gt=E-1;3<=Gt&&jt.bl_tree[2*rt[Gt]+1]===0;Gt--);return jt.opt_len+=3*(Gt+1)+5+5+4,Gt})(at),_t=at.opt_len+3+7>>>3,(Ft=at.static_len+3+7>>>3)<=_t&&(_t=Ft)):_t=Ft=Mt+5,Mt+4<=_t&&it!==-1?tt(at,it,Mt,kt):at.strategy===4||Ft===_t?(st(at,2+(kt?1:0),3),W(at,ht,U)):(st(at,4+(kt?1:0),3),(function(jt,Gt,oe,Xt){var $e;for(st(jt,Gt-257,5),st(jt,oe-1,5),st(jt,Xt-4,4),$e=0;$e<Xt;$e++)st(jt,jt.bl_tree[2*rt[$e]+1],3);At(jt,jt.dyn_ltree,Gt-1),At(jt,jt.dyn_dtree,oe-1)})(at,at.l_desc.max_code+1,at.d_desc.max_code+1,zt+1),W(at,at.dyn_ltree,at.dyn_dtree)),D(at),kt&&ot(at)},s._tr_tally=function(at,it,Mt){return at.pending_buf[at.d_buf+2*at.last_lit]=it>>>8&255,at.pending_buf[at.d_buf+2*at.last_lit+1]=255&it,at.pending_buf[at.l_buf+at.last_lit]=255&Mt,at.last_lit++,it===0?at.dyn_ltree[2*Mt]++:(at.matches++,it--,at.dyn_ltree[2*(j[Mt]+p+1)]++,at.dyn_dtree[2*Z(it)]++),at.last_lit===at.lit_bufsize-1},s._tr_align=function(at){st(at,2,3),ut(at,x,ht),(function(it){it.bi_valid===16?(K(it,it.bi_buf),it.bi_buf=0,it.bi_valid=0):8<=it.bi_valid&&(it.pending_buf[it.pending++]=255&it.bi_buf,it.bi_buf>>=8,it.bi_valid-=8)})(at)}},{"../utils/common":41}],53:[function(e,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,n,s){(function(a){(function(l,c){if(!l.setImmediate){var h,f,d,p,g=1,y={},E=!1,b=l.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(l);_=_&&_.setTimeout?_:l,h={}.toString.call(l.process)==="[object process]"?function(T){Qt.nextTick(function(){S(T)})}:(function(){if(l.postMessage&&!l.importScripts){var T=!0,C=l.onmessage;return l.onmessage=function(){T=!1},l.postMessage("","*"),l.onmessage=C,T}})()?(p="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",x,!1):l.attachEvent("onmessage",x),function(T){l.postMessage(p+T,"*")}):l.MessageChannel?((d=new MessageChannel).port1.onmessage=function(T){S(T.data)},function(T){d.port2.postMessage(T)}):b&&"onreadystatechange"in b.createElement("script")?(f=b.documentElement,function(T){var C=b.createElement("script");C.onreadystatechange=function(){S(T),C.onreadystatechange=null,f.removeChild(C),C=null},f.appendChild(C)}):function(T){setTimeout(S,0,T)},_.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var C=new Array(arguments.length-1),M=0;M<C.length;M++)C[M]=arguments[M+1];var L={callback:T,args:C};return y[g]=L,h(g),g++},_.clearImmediate=v}function v(T){delete y[T]}function S(T){if(E)setTimeout(S,0,T);else{var C=y[T];if(C){E=!0;try{(function(M){var L=M.callback,z=M.args;switch(z.length){case 0:L();break;case 1:L(z[0]);break;case 2:L(z[0],z[1]);break;case 3:L(z[0],z[1],z[2]);break;default:L.apply(c,z)}})(C)}finally{v(T),E=!1}}}}function x(T){T.source===l&&typeof T.data=="string"&&T.data.indexOf(p)===0&&S(+T.data.slice(p.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof xi<"u"?xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(km)),km.exports}var JI=QI();const tM=mh(JI);var Si=Uint8Array,$a=Uint16Array,eM=Int32Array,KS=new Si([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ZS=new Si([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),nM=new Si([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QS=function(r,t){for(var e=new $a(31),n=0;n<31;++n)e[n]=t+=1<<r[n-1];for(var s=new eM(e[30]),n=1;n<30;++n)for(var a=e[n];a<e[n+1];++a)s[a]=a-e[n]<<5|n;return{b:e,r:s}},JS=QS(KS,2),tx=JS.b,iM=JS.r;tx[28]=258,iM[258]=28;var rM=QS(ZS,0),sM=rM.b,dg=new $a(32768);for(var ze=0;ze<32768;++ze){var os=(ze&43690)>>1|(ze&21845)<<1;os=(os&52428)>>2|(os&13107)<<2,os=(os&61680)>>4|(os&3855)<<4,dg[ze]=((os&65280)>>8|(os&255)<<8)>>1}var Rl=(function(r,t,e){for(var n=r.length,s=0,a=new $a(t);s<n;++s)r[s]&&++a[r[s]-1];var l=new $a(t);for(s=1;s<t;++s)l[s]=l[s-1]+a[s-1]<<1;var c;if(e){c=new $a(1<<t);var h=15-t;for(s=0;s<n;++s)if(r[s])for(var f=s<<4|r[s],d=t-r[s],p=l[r[s]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)c[dg[p]>>h]=f}else for(c=new $a(n),s=0;s<n;++s)r[s]&&(c[s]=dg[l[r[s]-1]++]>>15-r[s]);return c}),ql=new Si(288);for(var ze=0;ze<144;++ze)ql[ze]=8;for(var ze=144;ze<256;++ze)ql[ze]=9;for(var ze=256;ze<280;++ze)ql[ze]=7;for(var ze=280;ze<288;++ze)ql[ze]=8;var ex=new Si(32);for(var ze=0;ze<32;++ze)ex[ze]=5;var aM=Rl(ql,9,1),oM=Rl(ex,5,1),Pm=function(r){for(var t=r[0],e=1;e<r.length;++e)r[e]>t&&(t=r[e]);return t},Mi=function(r,t,e){var n=t/8|0;return(r[n]|r[n+1]<<8)>>(t&7)&e},Bm=function(r,t){var e=t/8|0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>(t&7)},lM=function(r){return(r+7)/8|0},cM=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new Si(r.subarray(t,e))},uM=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Sr=function(r,t,e){var n=new Error(t||uM[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Sr),!e)throw n;return n},hM=function(r,t,e,n){var s=r.length,a=n?n.length:0;if(!s||t.f&&!t.l)return e||new Si(0);var l=!e,c=l||t.i!=2,h=t.i;l&&(e=new Si(s*3));var f=function(G){var W=e.length;if(G>W){var St=new Si(Math.max(W*2,G));St.set(e),e=St}},d=t.f||0,p=t.p||0,g=t.b||0,y=t.l,E=t.d,b=t.m,_=t.n,v=s*8;do{if(!y){d=Mi(r,p,1);var S=Mi(r,p+1,3);if(p+=3,S)if(S==1)y=aM,E=oM,b=9,_=5;else if(S==2){var M=Mi(r,p,31)+257,L=Mi(r,p+10,15)+4,z=M+Mi(r,p+5,31)+1;p+=14;for(var k=new Si(z),rt=new Si(19),ht=0;ht<L;++ht)rt[nM[ht]]=Mi(r,p+ht*3,7);p+=L*3;for(var U=Pm(rt),dt=(1<<U)-1,j=Rl(rt,U,1),ht=0;ht<z;){var yt=j[Mi(r,p,dt)];p+=yt&15;var x=yt>>4;if(x<16)k[ht++]=x;else{var et=0,Q=0;for(x==16?(Q=3+Mi(r,p,3),p+=2,et=k[ht-1]):x==17?(Q=3+Mi(r,p,7),p+=3):x==18&&(Q=11+Mi(r,p,127),p+=7);Q--;)k[ht++]=et}}var ft=k.subarray(0,M),vt=k.subarray(M);b=Pm(ft),_=Pm(vt),y=Rl(ft,b,1),E=Rl(vt,_,1)}else Sr(1);else{var x=lM(p)+4,T=r[x-4]|r[x-3]<<8,C=x+T;if(C>s){h&&Sr(0);break}c&&f(g+T),e.set(r.subarray(x,C),g),t.b=g+=T,t.p=p=C*8,t.f=d;continue}if(p>v){h&&Sr(0);break}}c&&f(g+131072);for(var It=(1<<b)-1,H=(1<<_)-1,Z=p;;Z=p){var et=y[Bm(r,p)&It],K=et>>4;if(p+=et&15,p>v){h&&Sr(0);break}if(et||Sr(2),K<256)e[g++]=K;else if(K==256){Z=p,y=null;break}else{var st=K-254;if(K>264){var ht=K-257,ut=KS[ht];st=Mi(r,p,(1<<ut)-1)+tx[ht],p+=ut}var ct=E[Bm(r,p)&H],N=ct>>4;ct||Sr(3),p+=ct&15;var vt=sM[N];if(N>3){var ut=ZS[N];vt+=Bm(r,p)&(1<<ut)-1,p+=ut}if(p>v){h&&Sr(0);break}c&&f(g+131072);var D=g+st;if(g<vt){var ot=a-vt,J=Math.min(vt,D);for(ot+g<0&&Sr(3);g<J;++g)e[g]=n[ot+g]}for(;g<D;++g)e[g]=e[g-vt]}}t.l=y,t.p=Z,t.b=g,t.f=d,y&&(d=1,t.m=b,t.d=E,t.n=_)}while(!d);return g!=e.length&&l?cM(e,0,g):e.subarray(0,g)},fM=new Si(0);function dM(r,t){return hM(r,{i:2},t&&t.out,t&&t.dictionary)}var pM=typeof TextDecoder<"u"&&new TextDecoder,mM=0;try{pM.decode(fM,{stream:!0}),mM=1}catch{}const Yl={};function nx(r,t,e){Yl[r]=t}function ix(r,t){return Yl[r]}function O_(r){return Yl[r]!==void 0}function gM(r,t){{Yl[r]=new Uint8Array;return}}function yM(r){delete Yl[r]}var bM=Object.defineProperty,vM=(r,t,e)=>t in r?bM(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,Fm=(r,t,e)=>vM(r,typeof t!="symbol"?t+"":t,e);async function wM(r){const t=new _M(r);return await t.loadZip(),t}class _M{constructor(t){this.filePath=t,Fm(this,"jsZip"),Fm(this,"names"),Fm(this,"pathToProcessors",{})}getNames(){return[...this.names.values()]}useDeprocessors(t){this.pathToProcessors={...this.pathToProcessors,...t}}async loadZip(){this.jsZip=await this.readZip(this.filePath),this.names=new Map(Object.keys(this.jsZip.files).map(t=>[t.toLowerCase(),t]))}async readZip(t){return new Promise((e,n)=>{{const s=new FileReader;s.onload=()=>{new tM().loadAsync(s.result).then(a=>{e(a)})},s.readAsArrayBuffer(t),s.onerror=()=>n(s.error)}})}async readFile(t){const e=await this.readResource(t);return new TextDecoder().decode(e)}async readResource(t){if(!this.hasFile(t))return console.warn(`${t} file was not exit in ${this.filePath}, return an empty uint8 array`),new Uint8Array;const e=this.getFileName(t);let n=await this.jsZip.file(e).async("uint8array");if(this.pathToProcessors[e])for(const s of this.pathToProcessors[e])n=await s(n);return n}hasFile(t){return this.names.has(t.toLowerCase())}getFileName(t){return this.names.get(t.toLowerCase())}}const rx={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",svg:"image/svg+xml",bmp:"image/bmp",ico:"image/x-icon",tiff:"image/tiff",tif:"image/tiff",heic:"image/heic",avif:"image/avif",css:"text/css",mp4:"video/mp4",mkv:"video/mkv",webm:"video/webm",mp3:"audio/mp3",wav:"audio/wav",ogg:"audio/ogg",ttf:"font/ttf",otf:"font/otf",woff:"font/woff",woff2:"font/woff2",eot:"font/eot"},EM=new Set(Object.values(rx)),AM=/(?!xmlns)^.*:/;function SM(r){const t={};return r.rsaPrivateKey&&(t.rsaPrivateKey=typeof r.rsaPrivateKey=="string"?Uint8Array.from(atob(r.rsaPrivateKey),e=>e.charCodeAt(0)):r.rsaPrivateKey),r.aesSymmetricKey&&(t.aesSymmetricKey=typeof r.aesSymmetricKey=="string"?Uint8Array.from(atob(r.aesSymmetricKey),e=>e.charCodeAt(0)):r.aesSymmetricKey),t}function xM(r){const t=new Map;return(...e)=>{const n=JSON.stringify(e);if(t.has(n))return t.get(n);const s=r(...e);return t.set(n,s),s}}function TM(r){if(r.endsWith("s"))return Number.parseFloat(r);const t=r.split(":").map(Number);if(t.length===3){const[e,n,s]=t;return e*3600+n*60+s}else if(t.length===2){const[e,n]=t;return e*60+n}else return Number(r)}const N_=xM(TM),vo="epub:";async function CM(r,t,e="sha256"){{const n=await crypto.subtle.importKey("pkcs8",r,{name:"RSA-OAEP",hash:{name:e.replace("sha","sha-").toUpperCase()}},!0,["decrypt"]),s=Uint8Array.from(atob(t),l=>l.charCodeAt(0)),a=await crypto.subtle.decrypt({name:"RSA-OAEP"},n,s);return new Uint8Array(a)}}async function D_(r,t,e){{const n=r.endsWith("gcm"),s=n?12:16,a=n?16:0,l=e.slice(0,s),c=n?e.slice(e.length-a):void 0,h=e.slice(s,e.length-a),[f,d,p]=r.split("-");if(d==="192")throw new Error("AES-192 is not supported in the browser, please use AES-128 or AES-256.");let g;const y=`${f}-${p}`.toUpperCase();switch(p){case"cbc":{g={name:y,iv:l};break}case"ctr":{g={name:y,counter:l,length:64};break}case"gcm":{g={name:y,iv:l,additionalData:new Uint8Array(0),tagLength:128};break}}const E=await crypto.subtle.importKey("raw",t,{name:y,length:Number.parseInt(d)},!1,["decrypt"]);let b=h;if(p==="gcm"){const v=new Uint8Array(h.length+16);v.set(h),v.set(c,h.length),b=v}const _=await crypto.subtle.decrypt(g,E,b);return new Uint8Array(_)}}function RM(r){const t=r.trim().toLowerCase();if(t!=="application/epub+zip")throw new Error("Unsupported mime type. The mimetype file must be the application/epub+zip");return t}function OM(r){const t=r.container;if(!t||!t.rootfiles||t.rootfiles.length===0)throw new Error("No <rootfiles></rootfiles> tag found in meta-inf/container.xml");const e=t.rootfiles[0].rootfile[0];if(e.$["media-type"]!=="application/oebps-package+xml")throw new Error("media-type of <rootfile/> application/oebps-package+xml");const s=e.$["full-path"];if(gn.isAbsolutePosix(s))throw new Error("full-path must be a relative path");return s}function NM(r){const t={title:"",language:"",identifier:{id:""},packageIdentifier:{id:""},metas:{}},e=new Map;for(const l in r){const c=r[l],h=l.split(":").pop();switch(h){case"title":case"language":case"description":case"publisher":case"type":case"format":case"source":case"relation":case"coverage":case"rights":{t[h]=c[0]._??c[0];break}case"date":{t.date={};for(const f of c){const d=f.$?.["opf:event"]??"publication";t.date[d]=f._??f}break}case"identifier":{for(const f of c){const d={id:f._,scheme:f.$?.["opf:scheme"]??""},p=f.$&&f.$.id;p?(t.packageIdentifier=d,e.set(p,d)):t.identifier=d}break}case"subject":{t.subject=[];for(const f of c){const d=f.$,p={subject:f._??f,authority:d?.authority??"",term:d?.term??""};t.subject.push(p),f.$?.id&&e.set(f.$.id,p)}break}case"creator":case"contributor":{t[h]=[];for(const f of c){const d=f.$,p={contributor:f._??f,fileAs:d?.["opf:file-as"]??"",role:d?.["opf:role"]??""};t[h].push(p),d?.id&&e.set(d.id,p)}break}}}const n=r.meta??[];for(const l of n){const c=l.$;if(l._)if(c.refines){const h=c.refines.slice(1),f=e.get(h);if(!f){console.warn(`No element with id "${h}" found when parsing <metadata>`);continue}const d=Lm(c.property);"contributor"in f||"subject"in f?f[d]||(f[d]=l._):"id"in f&&(f[d]||(f[d]=l._),f.scheme=f.scheme||c.scheme)}else{const h=c.property;t.metas[h]=l._}else{const h=c.name;t.metas[h]=c.content}}const s=r.link??[],a=[];for(const l of s){const c=l.$;if(c.refines){const h=c.refines.slice(1),f=e.get(h);if(!f){console.warn(`No element with id "${h}" found when parsing <metadata>`);continue}const d=Lm(c.rel),p=c.href;f[d]=p}else{const h={href:"",rel:""};for(const f in c)h[Lm(f)]=c[f];a.push(h)}}return t.links=a,t}function DM(r,t){const e=r.item;if(!e)throw new Error("The manifest element must contain one or more item elements");const n={},s=[];for(const a of e){const l=a.$,{id:c,href:h,"media-type":f,"media-overlay":d,properties:p}=l;if(!l||!c||!h||!f){console.warn("The item in manifest must have attributes id, href and mediaType. So skip this item.");continue}n[c]={id:c,href:gn.joinPosix(t,h),mediaType:f,properties:p||"",mediaOverlay:d||""},l.fallback&&(n[c].fallback=[l.fallback],s.push(n[c]))}for(const a of s){const l=new Set;l.add(a.id);let c=n[a.fallback[0]];for(;c&&c.fallback;){l.add(c.id);const h=c.fallback;if(h.length>1){a.fallback.push(...h);break}const f=h[0];if(l.has(f)){console.warn(`Cycle references have appeard when next item id is "${f}". Therefore stop parsing.`);break}a.fallback.push(f),c=n[f]}}return n}function IM(r,t){let e="";r.$?.toc&&(e=t[r.$.toc]?.href??"");const n=[],s=r.itemref;if(!s)throw new Error("The spine element must contain one or more itemref elements");for(const a of s){const l=a.$;if(l.idref){const c=t[l.idref];n.push({...c,href:`epub:${c.href}`,linear:l.linear||"yes"})}}return{tocPath:e,spine:n}}function MM(r,t){const e=[],n=r.reference;if(!n)throw new Error("Within the package there may be one guide element, containing one or more reference elements.");for(const s of n){const a=s.$;a.href&&a.href.length>0&&(a.href=vo+gn.joinPosix(t,a.href)),e.push(a)}return e}function LM(r,t){const e=[];for(const n of r){const s=n.$.role,a=[];for(const l of n.link)a.push(gn.joinPosix(t,l.$.href));e.push({role:s,links:a})}return e}function kM(r,t,e){const n=[];return sx(n,r.navPoint,t,e),n}function sx(r,t,e,n){for(const s of t){let a={label:"",href:"",id:"",playOrder:""};if(s.navLabel){const l=gn.joinPosix(n,decodeURIComponent(s.content[0].$?.src)),c=l.split("#")[0];a={label:s.navLabel[0].text?.[0]??"",href:vo+l,id:e[c],playOrder:s.$?.playOrder??""},r.push(a)}s.navPoint&&(a.children=[],sx(a.children,s.navPoint,e,n))}}function PM(r,t,e){let n="";r.navLabel&&(n=r.navLabel[0].text[0]);const s=[];for(const a of r.pageTarget){const l=gn.joinPosix(e,decodeURIComponent(a.content[0].$?.src)),c=l.split("#")[0],h=a.$,f={label:a.navLabel[0].text[0]||"",value:h.value||"",href:vo+l,playOrder:h.playOrder||"",type:h.type||"",correspondId:t[c]};s.push(f)}return{label:n,pageTargets:s}}function BM(r,t,e){let n="";r.navLabel&&(n=r.navLabel[0].text[0]);const s=[];for(const a of r.navTarget){const l=gn.joinPosix(e,decodeURIComponent(a.content[0].$?.src)),c=l.split("#")[0],h={label:a.navLabel[0]?.text?.[0]||"",href:vo+l,correspondId:t[c]};s.push(h)}return{label:n,navTargets:s}}async function FM(r,t){if(!r)return{};const e={};for(const n of r){const s=n.$.Id,a=n.EncryptionMethod[0],l=a.$.Algorithm.split("#")[1];if(!l.startsWith("rsa"))throw new Error(`Unsupported encryption algorithm: ${l}. Only RSA and AES algorithms are supported.`);let c="sha1";l==="rsa-oaep"&&(c=a.DigestMethod[0].$.Algorithm.split("#")[1]);const h=n.CipherData[0].CipherValue[0].trim(),f=await CM(t,h,c);e[s]=f}return e}function UM(r=[],t,e){const n={};for(const s of r){const a=s.EncryptionMethod[0].$.Algorithm.split("#")[1];if(!a.startsWith("aes")){console.warn(`Unsupported encryption algorithm: ${a}. Only AES and RSA algorithms are supported.`);continue}const l=a.replace("aes","aes-"),c=s.CipherData[0].CipherReference[0].$.URI;n[c]=[];const h=n[c],f=s.KeyInfo?.[0];if(f&&f.RetrievalMethod){const p=f.RetrievalMethod[0].$.URI.slice(1),g=t[p];if(!g)throw new Error(`No symmetric key found for id "${p}". Skipping decryption for file "${c}".`);const y=async E=>await D_(l,g,E);h.push(y)}else{const p=async g=>await D_(l,e,g);h.push(p)}const d=s.EncryptionProperties?.[0].EncryptionProperty;if(d)for(const p of d){const g=p.Compression[0];g&&g.$.Method==="8"&&h.push(dM)}n[c]=h}return n}const jM=["http://www.idpf.org/2008/embedding","http://ns.adobe.com/pdf/enc#RC"];function zM(r){const t=r.EncryptionMethod?.[0]?.$?.Algorithm;return!jM.includes(t)}async function HM(r,t){const e=r.encryption,n=e.EncryptedKey,s=e.EncryptedData??[],a=s?.filter(zM);if(s.length!==a.length&&(console.warn("lingo-reader doesn't handle font obfuscation and it doesn't read the font file."),a.length===0))return{};if(n&&!t.rsaPrivateKey)throw new Error("Please provide the RSA private key to decrypt the encrypted AES keys.");if(!n&&a&&!t.aesSymmetricKey)throw new Error("The file is encrypted with AES, but no symmetric key is provided. ");const l=await FM(n,t.rsaPrivateKey);return UM(a,l,t.aesSymmetricKey)}const Ja=new Map;function to(r,t,e){const n=gn.joinPosix(t,r).replace(/\//g,"_");let s=gn.resolve(e,n);{if(Ja.has(n))return Ja.get(n);const a=n.split(".").pop(),l=rx[a],c=new Uint8Array(ix(s)),h=new Blob([c],{type:l});s=URL.createObjectURL(h),Ja.set(n,s)}return s}function GM(r,t,e){return r=r.replace(/<(img|video|audio|source)[^>]*>/g,n=>{const s=n.match(/src="([^"]*)"/)?.[1];if(s){const l=to(s,t,e);n=n.replace(s,l)}const a=n.match(/poster="([^"]*)"/)?.[1];if(a){const l=to(a,t,e);n=n.replace(a,l)}return n}),r=r.replace(/<image[^>]*>/g,n=>{const s=n.match(/href="([^"]*)"/)?.[1];if(s){const a=to(s,t,e);n=n.replace(s,a)}return n}),r=r.replace(/<a[^>]*>/g,n=>{const s=n.match(/href="([^"]*)"/)?.[1];if(s&&!/^https?|mailto/.test(s)){const a=gn.joinPosix(t,s);n=n.replace(s,vo+decodeURIComponent(a))}return n}),r}function VM(r,t,e){const n=r.match(/<head[^>]*>([\s\S]*)<\/head>/i),s=[];if(n){const c=n[1].match(/<link[^>]*>/g);if(c)for(const h of c){const f=h.match(/href="([^"]*)"/)[1];if(f.endsWith(".css")){const d=gn.joinPosix(t,f),p=d.replace(/\//g,"_");let g=gn.resolve(e,p),y=new TextDecoder().decode(ix(g));y=y.replace(/url\(([^)]*)\)/g,(E,b)=>(b=b.replace(/['"]/g,""),`url(${to(b.trim(),gn.dirname(d),e)})`)),nx(g,new TextEncoder().encode(y)),g=Ja.get(p)||URL.createObjectURL(new Blob([y],{type:"text/css"})),s.push({id:p,href:g})}}}const a=r.match(/<body[^>]*>(.*?)<\/body>/is),l=a?GM(a[1],t,e):"";return{css:s,html:l}}function ax(r,t,e,n){for(const s of r)if(s["#name"]==="par"){const a=s.text[0].$.src.split("#")[1],l=s.audio[0].$,c=to(l.src,t,e),h=N_(l.clipBegin),f=N_(l.clipEnd);n[c]||(n[c]={audioSrc:c,pars:[]}),n[c].pars.push({textDOMId:a,clipBegin:h,clipEnd:f})}else ax(s.children,t,e,n)}function qM(r,t,e){const n={},s=r.smil.body[0].children;return ax(s,t,e,n),Object.values(n)}function YM(){Ja.forEach(r=>{URL.revokeObjectURL(r)}),Ja.clear()}var $M=Object.defineProperty,WM=(r,t,e)=>t in r?$M(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,_n=(r,t,e)=>WM(r,typeof t!="symbol"?t+"":t,e);async function XM(r,t="./images",e={}){const n=new KM(r,t,e);return await n.loadEpub(),await n.parse(),n}class KM{constructor(t,e="./images",n={}){this.epub=t,this.options=n,_n(this,"fileName",""),_n(this,"mimeType",""),_n(this,"metadata"),_n(this,"manifest",{}),_n(this,"spine",[]),_n(this,"guide",[]),_n(this,"collections",[]),_n(this,"navMap",[]),_n(this,"pageList"),_n(this,"navList"),_n(this,"zip"),_n(this,"opfPath",""),_n(this,"opfDir",""),_n(this,"resourceSaveDir"),_n(this,"encryptionKeys",{}),_n(this,"savedResourcePath",[]),_n(this,"hrefToIdMap",{}),_n(this,"chapterCache",new Map),typeof t=="string"?this.fileName=gn.basename(t):t instanceof Uint8Array?this.fileName="":this.fileName=t.name,this.resourceSaveDir=e,O_(this.resourceSaveDir)||gM(this.resourceSaveDir),this.encryptionKeys=SM(this.options)}getFileInfo(){return{fileName:this.fileName,mimetype:this.mimeType}}getMetadata(){return this.metadata}getManifest(){return this.manifest}getSpine(){return this.spine}getGuide(){return this.guide}getCollection(){return this.collections}getToc(){return this.navMap}getPageList(){return this.pageList}getNavList(){return this.navList}async loadEpub(){this.zip=await wM(this.epub)}async parse(){const t=await this.zip.readFile("mimetype");this.mimeType=RM(t);const e=await this.zip.readFile("meta-inf/container.xml"),n=await gl(e);if(this.opfPath=OM(n),this.opfDir=gn.dirname(this.opfPath),this.zip.hasFile("meta-inf/encryption.xml")){const s=await this.zip.readFile("meta-inf/encryption.xml"),a=await gl(s,{tagNameProcessors:[c=>c.replace(AM,"")]}),l=await HM(a,this.encryptionKeys);this.zip.useDeprocessors(l)}await this.parseRootFile()}async parseRootFile(){const t=await this.zip.readFile(this.opfPath),n=(await gl(t)).package;let s="";if(n.metadata&&(this.metadata=NM(n.metadata[0])),n.manifest){this.manifest=DM(n.manifest[0],this.opfDir);for(const a in this.manifest){const l=this.manifest[a];if(this.hrefToIdMap[l.href]=l.id,EM.has(l.mediaType)||l.mediaType.startsWith("text/css")){const c=l.href.replace(/\//g,"_"),h=gn.resolve(this.resourceSaveDir,c);this.savedResourcePath.push(h),nx(h,await this.zip.readResource(l.href))}}}if(n.spine){const a=IM(n.spine[0],this.manifest);s=a.tocPath,this.spine=a.spine}if(n.guide&&(this.guide=MM(n.guide[0],this.opfDir)),n.collection&&(this.collections=LM(n.collection,this.opfDir)),s.length>0){const a=gn.dirname(s),l=await this.zip.readFile(s),c=(await gl(l)).ncx;c.navMap&&(this.navMap=kM(c.navMap[0],this.hrefToIdMap,a)),c.pageList&&(this.pageList=PM(c.pageList[0],this.hrefToIdMap,a)),c.navList&&(this.navList=BM(c.navList[0],this.hrefToIdMap,a))}}async loadChapter(t){if(this.chapterCache.has(t))return this.chapterCache.get(t);const e=this.manifest[t],n=e.href,s=gn.dirname(n),a=VM(await this.zip.readFile(n),s,this.resourceSaveDir),l=e.mediaOverlay;if(l){const h=this.manifest[l].href,f=qM(await gl(await this.zip.readFile(h),{preserveChildrenOrder:!0,explicitChildren:!0,childkey:"children"}),gn.dirname(h),this.resourceSaveDir);a.mediaOverlays=f}return this.chapterCache.set(t,a),a}resolveHref(t){if(!t.startsWith(vo))return;t=t.slice(5).trim();const[e,n]=t.split("#");let s="";if(this.hrefToIdMap[e])s=this.hrefToIdMap[e];else return;let a="";return n&&(a=`[id="${n}"]`),{id:s,selector:a}}getCoverImage(){const t=this.guide.find(e=>e.type==="cover");if(t){const e=this.resolveHref(t.href).id,n=this.manifest[e];return to(n.href,"",this.resourceSaveDir)}return""}destroy(){this.savedResourcePath.forEach(t=>{O_(t)&&yM(t)}),this.savedResourcePath.length=0,YM()}}const Bn=typeof Qt=="object"&&Qt+""=="[object process]"&&!Qt.versions.nw&&!(Qt.versions.electron&&Qt.type&&Qt.type!=="browser"),pg=[.001,0,0,.001,0,0],Um=1.35,ri={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},cs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Dl="pdfjs_internal_editor_",se={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ye={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},ZM={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},mg={TRIANGLES:1,LATTICE:2},mn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},$u={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},fn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ga={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ah={ERRORS:0,WARNINGS:1,INFOS:5},Il={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},yl={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},QM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Sh=Ah.WARNINGS;function JM(r){Number.isInteger(r)&&(Sh=r)}function t3(){return Sh}function xh(r){Sh>=Ah.INFOS&&console.info(`Info: ${r}`)}function ie(r){Sh>=Ah.WARNINGS&&console.warn(`Warning: ${r}`)}function Be(r){throw new Error(r)}function be(r,t){r||Be(t)}function e3(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ox(r,t=null,e=null){if(!r)return null;if(e&&typeof r=="string"&&(e.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),e.tryConvertEncoding))try{r=a3(r)}catch{}const n=t?URL.parse(r,t):URL.parse(r);return e3(n)?n:null}function lx(r,t,e=!1){const n=URL.parse(r);return n?(n.hash=t,n.href):e&&ox(r,"http://example.com")?r.split("#",1)[0]+`${t?`#${t}`:""}`:""}function re(r,t,e,n=!1){return Object.defineProperty(r,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Ws=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class I_ extends Ws{constructor(t,e){super(t,"PasswordException"),this.code=e}}class jm extends Ws{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class gg extends Ws{constructor(t){super(t,"InvalidPDFException")}}class ih extends Ws{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class n3 extends Ws{constructor(t){super(t,"FormatError")}}class hs extends Ws{constructor(t){super(t,"AbortException")}}function cx(r){(typeof r!="object"||r?.length===void 0)&&Be("Invalid argument for bytesToString");const t=r.length,e=8192;if(t<e)return String.fromCharCode.apply(null,r);const n=[];for(let s=0;s<t;s+=e){const a=Math.min(s+e,t),l=r.subarray(s,a);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function $l(r){typeof r!="string"&&Be("Invalid argument for stringToBytes");const t=r.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=r.charCodeAt(n)&255;return e}function i3(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function r3(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function s3(){try{return new Function(""),!0}catch{return!1}}class yn{static get isLittleEndian(){return re(this,"isLittleEndian",r3())}static get isEvalSupported(){return re(this,"isEvalSupported",s3())}static get isOffscreenCanvasSupported(){return re(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return re(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return re(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return re(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return re(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return re(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const zm=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class Ht{static makeHexColor(t,e,n){return`#${zm[t]}${zm[e]}${zm[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const s=t[n],a=t[n+1];t[n]=s*e[0]+a*e[2]+e[4],t[n+1]=s*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const s=e[0],a=e[1],l=e[2],c=e[3],h=e[4],f=e[5];for(let d=0;d<6;d+=2){const p=t[n+d],g=t[n+d+1];t[n+d]=p*s+g*l+h,t[n+d+1]=p*a+g*c+f}}static applyInverseTransform(t,e){const n=t[0],s=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-n*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,n){const s=e[0],a=e[1],l=e[2],c=e[3],h=e[4],f=e[5],d=t[0],p=t[1],g=t[2],y=t[3];let E=s*d+h,b=E,_=s*g+h,v=_,S=c*p+f,x=S,T=c*y+f,C=T;if(a!==0||l!==0){const M=a*d,L=a*g,z=l*p,k=l*y;E+=z,v+=z,_+=k,b+=k,S+=M,C+=M,T+=L,x+=L}n[0]=Math.min(n[0],E,_,b,v),n[1]=Math.min(n[1],S,T,x,C),n[2]=Math.max(n[2],E,_,b,v),n[3]=Math.max(n[3],S,T,x,C)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],s=t[1],a=t[2],l=t[3],c=n**2+s**2,h=n*a+s*l,f=a**2+l**2,d=(c+f)/2,p=Math.sqrt(d**2-(c*f-h**2));e[0]=Math.sqrt(d+p||1),e[1]=Math.sqrt(d-p||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>l?null:[n,a,s,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,s,a){a[0]=Math.min(a[0],t,n),a[1]=Math.min(a[1],e,s),a[2]=Math.max(a[2],t,n),a[3]=Math.max(a[3],e,s)}static#t(t,e,n,s,a,l,c,h,f,d){if(f<=0||f>=1)return;const p=1-f,g=f*f,y=g*f,E=p*(p*(p*t+3*f*e)+3*g*n)+y*s,b=p*(p*(p*a+3*f*l)+3*g*c)+y*h;d[0]=Math.min(d[0],E),d[1]=Math.min(d[1],b),d[2]=Math.max(d[2],E),d[3]=Math.max(d[3],b)}static#e(t,e,n,s,a,l,c,h,f,d,p,g){if(Math.abs(f)<1e-12){Math.abs(d)>=1e-12&&this.#t(t,e,n,s,a,l,c,h,-p/d,g);return}const y=d**2-4*p*f;if(y<0)return;const E=Math.sqrt(y),b=2*f;this.#t(t,e,n,s,a,l,c,h,(-d+E)/b,g),this.#t(t,e,n,s,a,l,c,h,(-d-E)/b,g)}static bezierBoundingBox(t,e,n,s,a,l,c,h,f){f[0]=Math.min(f[0],t,c),f[1]=Math.min(f[1],e,h),f[2]=Math.max(f[2],t,c),f[3]=Math.max(f[3],e,h),this.#e(t,n,a,c,e,s,l,h,3*(-t+3*(n-a)+c),6*(t-2*n+a),3*(n-t),f),this.#e(t,n,a,c,e,s,l,h,3*(-e+3*(s-l)+h),6*(e-2*s+l),3*(s-e),f)}}function a3(r){return decodeURIComponent(escape(r))}let Hm=null,M_=null;function o3(r){return Hm||(Hm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,M_=new Map([["","t"]])),r.replaceAll(Hm,(t,e,n)=>e?e.normalize("NFKC"):M_.get(n))}function ux(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),cx(r)}const Wa="pdfjs_internal_id_";function l3(r,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,s,...a]=e;if(!r(n)&&!Number.isInteger(n)||!t(s))return!1;const l=a.length;let c=!0;switch(s.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const h of a)if(!(typeof h=="number"||c&&h===null))return!1;return!0}function Fn(r,t,e){return Math.min(Math.max(r,t),e)}function hx(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(cx(r))}function c3(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):$l(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...t){return new Promise(e=>{e(r(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((t,e)=>t+e,0)});class Ml{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(a){if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(Ml.shouldBuildText(c))a?.attributes?.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&e.push({str:l}),!!a.children)for(const h of a.children)s(h)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class fx{static setupStorage(t,e,n,s,a){const l=s.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),a==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),a==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const h=c.target.options,f=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:a}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[h,f]of Object.entries(l))if(f!=null)switch(h){case"class":f.length&&t.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!c||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,f)}c&&a.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,a=t.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:a,linkService:n});const c=a!=="richText",h=t.div;if(h.append(l),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=p}c&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);l.append(p),c&&Ml.shouldBuildText(s.name)&&f.push(p)}return{textDivs:f}}const d=[[s,-1,l]];for(;d.length>0;){const[p,g,y]=d.at(-1);if(g+1===p.children.length){d.pop();continue}const E=p.children[++d.at(-1)[1]];if(E===null)continue;const{name:b}=E;if(b==="#text"){const v=document.createTextNode(E.value);f.push(v),y.append(v);continue}const _=E?.attributes?.xmlns?document.createElementNS(E.attributes.xmlns,b):document.createElement(b);if(y.append(_),E.attributes&&this.setAttributes({html:_,element:E,storage:e,intent:a,linkService:n}),E.children?.length>0)d.push([E,-1,_]);else if(E.value){const v=document.createTextNode(E.value);c&&Ml.shouldBuildText(b)&&f.push(v),_.append(v)}}for(const p of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const xr="http://www.w3.org/2000/svg";class uo{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Wl(r,t="text"){if(Sl(r,document.baseURI)){const e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class Xl{constructor({viewBox:t,userUnit:e,scale:n,rotation:s,offsetX:a=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=s,this.offsetX=a,this.offsetY=l,n*=e;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let d,p,g,y;switch(s%=360,s<0&&(s+=360),s){case 180:d=-1,p=0,g=0,y=1;break;case 90:d=0,p=1,g=1,y=0;break;case 270:d=0,p=-1,g=-1,y=0;break;case 0:d=1,p=0,g=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(g=-g,y=-y);let E,b,_,v;d===0?(E=Math.abs(f-t[1])*n+a,b=Math.abs(h-t[0])*n+l,_=(t[3]-t[1])*n,v=(t[2]-t[0])*n):(E=Math.abs(h-t[0])*n+a,b=Math.abs(f-t[1])*n+l,_=(t[2]-t[0])*n,v=(t[3]-t[1])*n),this.transform=[d*n,p*n,g*n,y*n,E-d*n*h-g*n*f,b-p*n*h-y*n*f],this.width=_,this.height=v}get rawDims(){const t=this.viewBox;return re(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new Xl({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:a})}convertToViewportPoint(t,e){const n=[t,e];return Ht.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];Ht.applyTransform(e,this.transform);const n=[t[2],t[3]];return Ht.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return Ht.applyInverseTransform(n,this.transform),n}}class n0 extends Ws{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Th(r){const t=r.length;let e=0;for(;e<t&&r[e].trim()==="";)e++;return r.substring(e,e+5).toLowerCase()==="data:"}function i0(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function u3(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function h3(r,t="document.pdf"){if(typeof r!="string")return t;if(Th(r))return ie('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return t;const s=c=>{try{let h=decodeURIComponent(c);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:c):h}catch{return c}},a=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(a.test(l))return s(l);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const f of c)if(a.test(f))return s(f);const h=Array.from(n.searchParams.keys()).reverse();for(const f of h)if(a.test(f))return s(f)}if(n.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(h)return s(h[0])}return t}class L_{started=Object.create(null);times=[];time(t){t in this.started&&ie(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||ie(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:a}of this.times)t.push(`${n.padEnd(e)} ${a-s}ms
`);return t.join("")}}function Sl(r,t){const e=t?URL.parse(r,t):URL.parse(r);return e?.protocol==="http:"||e?.protocol==="https:"}function Ti(r){r.preventDefault()}function en(r){r.preventDefault(),r.stopPropagation()}function f3(r){console.log("Deprecated API usage: "+r)}class yg{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const f=e[7]||"Z";let d=parseInt(e[8],10);d=d>=0&&d<=23?d:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,f==="-"?(l+=d,c+=p):f==="+"&&(l-=d,c-=p),new Date(Date.UTC(n,s,a,l,c,h))}}function d3(r,{scale:t=1,rotation:e=0}){const{width:n,height:s}=r.attributes.style,a=[0,0,parseInt(n),parseInt(s)];return new Xl({viewBox:a,userUnit:1,scale:t,rotation:e})}function Kl(r){if(r.startsWith("#")){const t=parseInt(r.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(t=>parseInt(t)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(ie(`Not a valid color format: "${r}"`),[0,0,0])}function p3(r){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of r.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;r.set(e,Kl(n))}t.remove()}function Xe(r){const{a:t,b:e,c:n,d:s,e:a,f:l}=r.getTransform();return[t,e,n,s,a,l]}function qi(r){const{a:t,b:e,c:n,d:s,e:a,f:l}=r.getTransform().invertSelf();return[t,e,n,s,a,l]}function Gs(r,t,e=!1,n=!0){if(t instanceof Xl){const{pageWidth:s,pageHeight:a}=t.rawDims,{style:l}=r,c=yn.isCSSRoundSupported,h=`var(--total-scale-factor) * ${s}px`,f=`var(--total-scale-factor) * ${a}px`,d=c?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,p=c?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=d,l.height=p):(l.width=p,l.height=d)}n&&r.setAttribute("data-main-rotation",t.rotation)}class er{constructor(){const{pixelRatio:t}=er;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,s,a=-1){let l=1/0,c=1/0,h=1/0;n=er.capPixels(n,a),n>0&&(l=Math.sqrt(n/(t*e))),s!==-1&&(c=s/t,h=s/e);const f=Math.min(l,c,h);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const bg=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class m3{static get isDarkMode(){return re(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class g3{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),re(this,"commentForegroundColor",Kl(n))}}function y3(r,t,e,n){n=Math.min(Math.max(n??1,0),1);const s=255*(1-n);return r=Math.round(r*n+s),t=Math.round(t*n+s),e=Math.round(e*n+s),[r,t,e]}function k_(r,t){const e=r[0]/255,n=r[1]/255,s=r[2]/255,a=Math.max(e,n,s),l=Math.min(e,n,s),c=(a+l)/2;if(a===l)t[0]=t[1]=0;else{const h=a-l;switch(t[1]=c<.5?h/(a+l):h/(2-a-l),a){case e:t[0]=((n-s)/h+(n<s?6:0))*60;break;case n:t[0]=((s-e)/h+2)*60;break;case s:t[0]=((e-n)/h+4)*60;break}}t[2]=c}function vg(r,t){const e=r[0],n=r[1],s=r[2],a=(1-Math.abs(2*s-1))*n,l=a*(1-Math.abs(e/60%2-1)),c=s-a/2;switch(Math.floor(e/60)){case 0:t[0]=a+c,t[1]=l+c,t[2]=c;break;case 1:t[0]=l+c,t[1]=a+c,t[2]=c;break;case 2:t[0]=c,t[1]=a+c,t[2]=l+c;break;case 3:t[0]=c,t[1]=l+c,t[2]=a+c;break;case 4:t[0]=l+c,t[1]=c,t[2]=a+c;break;case 5:case 6:t[0]=a+c,t[1]=c,t[2]=l+c;break}}function P_(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function B_(r,t,e){vg(r,e),e.map(P_);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];vg(t,e),e.map(P_);const s=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>s?(n+.05)/(s+.05):(s+.05)/(n+.05)}const F_=new Map;function b3(r,t){const e=r[0]+r[1]*256+r[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=F_.get(e);if(n)return n;const s=new Float32Array(9),a=s.subarray(0,3),l=s.subarray(3,6);k_(r,l);const c=s.subarray(6,9);k_(t,c);const h=c[2]<.5,f=h?12:4.5;if(l[2]=h?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),B_(l,c,a)<f){let d,p;h?(d=l[2],p=1):(d=0,p=l[2]);const g=.005;for(;p-d>g;){const y=l[2]=(d+p)/2;h===B_(l,c,a)<f?d=y:p=y}l[2]=h?p:d}return vg(l,a),n=Ht.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),F_.set(e,n),n}function dx({html:r,dir:t,className:e},n){const s=document.createDocumentFragment();if(typeof r=="string"){const a=document.createElement("p");a.dir=t||"auto";const l=r.split(/(?:\r\n?|\n)/);for(let c=0,h=l.length;c<h;++c){const f=l[c];a.append(document.createTextNode(f)),c<h-1&&a.append(document.createElement("br"))}s.append(a)}else fx.render({xfaHtml:r,div:s,intent:"richText"});s.firstElementChild.classList.add("richText",e),n.append(s)}function px(r){const t=new Path2D;if(!r)return t;for(let e=0,n=r.length;e<n;)switch(r[e++]){case yl.moveTo:t.moveTo(r[e++],r[e++]);break;case yl.lineTo:t.lineTo(r[e++],r[e++]);break;case yl.curveTo:t.bezierCurveTo(r[e++],r[e++],r[e++],r[e++],r[e++],r[e++]);break;case yl.quadraticCurveTo:t.quadraticCurveTo(r[e++],r[e++],r[e++],r[e++]);break;case yl.closePath:t.closePath();break;default:ie(`Unrecognized drawing path operator: ${r[e-1]}`);break}return t}class Ol{#t=null;#e=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#c=null;constructor(t){this.#i=t,Ol.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Ti,{signal:e}),t.addEventListener("pointerdown",Ol.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const s=this.#i.toolbarPosition;if(s){const{style:a}=t,l=this.#i._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#f(t){this.#i._focusEventsAllowed=!1,en(t)}#h(t){this.#i._focusEventsAllowed=!0,en(t)}#d(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#f.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ti,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",Ol.#c[t]),this.#d(n)&&n.addEventListener("click",s=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#n.append(e,this.#g),this.#a=t}addComment(t,e=null){if(this.#s)return;const n=t.renderForToolbar();if(!n)return;this.#d(n);const s=this.#r=this.#g;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(s,e)):this.#n.append(n,s),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#d(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#d(e),this.#n.append(e,this.#g)}removeButton(t){t==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null)}async addButton(t,e){switch(t){case"colorPicker":e&&this.addColorPicker(e);break;case"altText":e&&await this.addAltText(e);break;case"editSignature":e&&await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":e&&this.addComment(e);break}}async addButtonBefore(t,e,n){if(!e&&t==="comment")return;const s=this.#n.querySelector(n);s&&t==="comment"&&this.addComment(e,s)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class v3{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Ti,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let n=0,s=0;for(const a of t){const l=a.y+a.height;if(l<n)continue;const c=a.x+(e?a.width:0);if(l>n){s=c,n=l;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,n]}show(t,e,n){const[s,a]=this.#a(e,n),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,n,s){const a=document.createElement("button");a.classList.add("basic",t),a.tabIndex=0,a.setAttribute("data-l10n-id",e);const l=document.createElement("span");a.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(a.addEventListener("contextmenu",Ti,{signal:c}),a.addEventListener("click",s,{signal:c})),this.#t.append(a)}}function mx(r,t,e){for(const n of e)t.addEventListener(n,r[n].bind(r))}class Te{static#t=NaN;static#e=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(t){(Te.#e||=new Set).add(t)}static setPointer(t,e){Te.#t||=e,Te.#n??=t}static setTimeStamp(t){Te.#i=t}static isSamePointerId(t){return Te.#t===t}static isSamePointerIdOrRemove(t){return Te.#t===t?!0:(Te.#e?.delete(t),!1)}static isSamePointerType(t){return Te.#n===t}static isInitializedAndDifferentPointerType(t){return Te.#n!==null&&!Te.isSamePointerType(t)}static isSameTimeStamp(t){return Te.#i===t}static isUsingMultiplePointers(){return Te.#e?.size>=1}static clearPointerType(){Te.#n=null}static clearPointerIds(){Te.#t=NaN,Te.#e=null}static clearTimeStamp(){Te.#i=NaN}}class w3{#t=0;get id(){return`${Dl}${this.#t++}`}}class r0{#t=ux();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const a=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return re(this,"_isSVGFittingCanvas",a)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let s;if(typeof e=="string"?(n.url=e,s=await Wl(e,"blob")):e instanceof File?s=n.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const a=r0._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((f,d)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,f()},l.onload=async()=>{const p=n.svgUrl=l.result;c.src=await a?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=l.onerror=d});l.readAsDataURL(s),await h}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){ie(s),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:s,type:a}=t;return this.#n(`${e}_${n}_${s}_${a}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=s.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class _3{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:s,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(s&&t(),this.#e)return;const h={cmd:t,undo:e,post:n,type:a};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(h);return}if(l&&this.#t[this.#n].type===a){c&&(h.undo=this.#t[this.#n].undo),this.#t[this.#n]=h;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(h)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Zl{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=yn.platform;for(const[n,s,a={}]of t)for(const l of n){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:s,options:{bubbles:a=!1,args:l=[],checker:c=null}}=n;c&&!c(t,e)||(s.bind(t,...l,e)(),a||en(e))}}class s0{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return p3(t),re(this,"_colors",t)}convert(t){const e=Kl(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((a,l)=>a===e[l]))return s0._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Ht.makeHexColor(...e):t}}class fs{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#c=new _3;#l=null;#f=null;#h=null;#d=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#x=null;#A=null;#_=null;#C=null;#w=!1;#S=null;#N=new w3;#R=!1;#O=!1;#B=!1;#I=null;#L=null;#F=null;#k=null;#V=null;#T=se.NONE;#E=new Set;#M=null;#U=null;#z=null;#$=null;#Y=null;#W={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#P=null;#q=null;#Q=null;#J=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=fs.prototype,e=l=>l.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return re(this,"_keyboardManager",new Zl([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#q.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}constructor(t,e,n,s,a,l,c,h,f,d,p,g,y,E,b,_){const v=this._signal=this.#t.signal;this.#q=t,this.#Q=e,this.#J=n,this.#s=s,this.#l=a,this.#U=l,this.#Y=h,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:v}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),c._on("setpreference",this.onSetPreference.bind(this),{signal:v}),c._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:v}),window.addEventListener("pointerdown",()=>{this.#O=!0},{capture:!0,signal:v}),window.addEventListener("pointerup",()=>{this.#O=!1},{capture:!0,signal:v}),this.#at(),this.#ft(),this.#et(),this.#r=h.annotationStorage,this.#x=h.filterFactory,this.#z=f,this.#C=d||null,this.#y=p,this.#v=g,this.#b=y,this.#V=E||null,this.viewParameters={realScale:uo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=_!==!1,a?.setSidebarUiManager(this)}destroy(){this.#j?.resolve(),this.#j=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#k?.clear(),this.#e=null,this.#E.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#U?.destroy(),this.#S?.hide(),this.#S=null,this.#F?.destroy(),this.#F=null,this.#i=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#P&&(clearTimeout(this.#P),this.#P=null),this._editorUndoBar?.destroy(),this.#Y=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#V}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return re(this,"hcmFilter",this.#z?this.#x.addHCMFilter(this.#z.foreground,this.#z.background):"none")}get direction(){return re(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return re(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return re(this,"highlightColors",null);const e=new Map,n=!!this.#z;for(const[s,a]of t){const l=s.endsWith("_HCM");if(n&&l){e.set(s.replace("_HCM",""),a);continue}!n&&!l&&e.set(s,a)}return re(this,"highlightColors",e)}get highlightColorNames(){return re(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#F=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,s){this.#l?.showDialog(this,t,e,n,s)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),s=a=>{a.pageNumber===t&&(this._eventBus._off("editorsrendered",s),e())};this._eventBus.on("editorsrendered",s),await n}getSignature(t){this.#U?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#U}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){t==="enableNewAltTextWhenAddingImage"&&(this.#b=e)}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#q.focus()}findParent(t,e){for(const n of this.#a.values()){const{x:s,y:a,width:l,height:c}=n.div.getBoundingClientRect();if(t>=s&&t<=s+l&&e>=a&&e<=a+c)return n}return null}disableUserSelect(t=!1){this.#Q.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*uo.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Z({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#a.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:c}=n,h=n.toString(),d=this.#Z(n).closest(".textLayer"),p=this.getSelectionBoxes(d);if(!p)return;n.empty();const g=this.#tt(d),y=this.#T===se.NONE,E=()=>{const b=g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:c,text:h});y&&this.showAllEditors("highlight",!0,!0),e&&b?.editComment()};if(y){this.switchToMode(se.HIGHLIGHT,E);return}E()}commentSelection(t=""){this.highlightSelection(t,!0)}#rt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Z(t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(this.#S||=new v3(this),this.#S.show(n,s,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#r)return null;const e=`${Dl}${t}`,n=this.#r.getRawValue(e);return n&&this.#r.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#st(){const t=document.getSelection();if(!t||t.isCollapsed){this.#M&&(this.#S?.hide(),this.#M=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#M)return;const s=this.#Z(t).closest(".textLayer");if(!s){this.#M&&(this.#S?.hide(),this.#M=null,this.#D({hasSelectedText:!1}));return}if(this.#S?.hide(),this.#M=e,this.#D({hasSelectedText:!0}),!(this.#T!==se.HIGHLIGHT&&this.#T!==se.NONE)&&(this.#T===se.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#T===se.HIGHLIGHT?this.#tt(s):null;if(a?.toggleDrawing(),this.#O){const l=new AbortController,c=this.combinedSignal(l),h=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),a?.toggleDrawing(!0),f.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",h,{signal:c}),window.addEventListener("blur",h,{signal:c})}else a?.toggleDrawing(!0),this.#X("main_toolbar")}}#X(t=""){this.#T===se.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#rt()}#at(){document.addEventListener("selectionchange",this.#st.bind(this),{signal:this._signal})}#ot(){if(this.#_)return;this.#_=new AbortController;const t=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#lt(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#E)if(e.div.contains(t)){this.#L=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#L)return;const[t,e]=this.#L;this.#L=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#I)return;this.#I=new AbortController;const t=this.combinedSignal(this.#I);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ct(){this.#I?.abort(),this.#I=null}#ut(){if(this.#f)return;this.#f=new AbortController;const t=this.combinedSignal(this.#f);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#ht(){this.#f?.abort(),this.#f=null}#ft(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.setEditingState(!0)}removeEditListeners(){this.#ct(),this.setEditingState(!1)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#E){const s=n.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){ie(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const h of n){const f=await s.deserialize(h);if(!f)return;a.push(f)}const l=()=>{for(const h of a)this.#nt(h);this.#it(a)},c=()=>{for(const h of a)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){ie(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#T!==se.NONE&&!this.isEditorHandlingKeyboard&&fs._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#X("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(t){Object.entries(t).some(([n,s])=>this.#W[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#W,t)}),this.#T===se.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#G([[ye.HIGHLIGHT_FREE,!0]]))}#G(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ot(),this.#ut(),this.#D({isEditing:this.#T!==se.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#lt(),this.#ht(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#G(e.defaultPropertiesToUpdate)}}getId(){return this.#N.id}get currentLayer(){return this.#a.get(this.#d)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#a.set(t.pageIndex,t),this.#R?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,s=!1,a=!1,l=!1){if(this.#T!==t&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#T===se.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#T=t,t===se.NONE){this.setEditingState(!1),this.#pt();for(const c of this.#n.values())c.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#j.resolve();return}for(const c of this.#n.values())c.addStandaloneCommentButton();t===se.SIGNATURE&&await this.#U?.loadSignatures(),n&&Te.clearPointerType(),this.setEditingState(!0),await this.#dt(),this.unselectAll();for(const c of this.#a.values())c.updateMode(t);if(t===se.POPUP){this.#i||=await this.#Y.getAnnotationsByType(new Set(this.#u.map(f=>f._editorType)));const c=new Set,h=[];for(const f of this.#n.values()){const{annotationElementId:d,hasComment:p,deleted:g}=f;d&&c.add(d),p&&!g&&h.push(f.getData())}for(const f of this.#i){const{id:d,popupRef:p,contentsObj:g}=f;p&&g?.str&&!c.has(d)&&!this.#g.has(d)&&h.push(f)}this.#l?.showSidebar(h)}if(!e){s&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const c of this.#n.values())c.uid===e?(this.setSelected(c),l?c.editComment():a?c.enterInEditMode():c.focus()):c.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case ye.CREATE:this.currentLayer.addNewEditor(e);return;case ye.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#$||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#E)n.updateParams(t,e);else for(const n of this.#u)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const a of this.#n.values())a.editorType===t&&a.show(e);(this.#$?.get(ye.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#G([[ye.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#B!==t){this.#B=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#dt(){if(!this.#R){this.#R=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#R){this.#R=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#k?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#nt(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#G(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#E);return t}updateUI(t){this.#mt===t&&this.#G(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#G(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#E.has(t)){this.#E.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#E.add(t),t.select(),this.#G(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.uid}),this.#h?.commitOrRemove();for(const e of this.#E)e!==t&&e.unselect();this.#E.clear(),this.#E.add(t),t.select(),this.#G(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#E.has(t)}get firstSelectedEditor(){return this.#E.values().next().value}unselect(t){t.unselect(),this.#E.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#E.size!==0}get isEnterHandled(){return this.#E.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(t){this.#c.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(t){this.#c.cleanType(t)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#E],n=()=>{this._editorUndoBar?.show(s,e.length===1?e[0].editorType:e.length);for(const a of e)a.remove()},s=()=>{for(const a of e)this.#nt(a)};this.addCommands({cmd:n,undo:s,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#it(t){for(const e of this.#E)e.unselect();this.#E.clear();for(const e of t)e.isEmpty()||(this.#E.add(e),e.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#E)t.commit();this.#it(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#T!==se.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#E)t.unselect();this.#E.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[s,a]=this.#H,l=[...this.#E],c=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(s,a),h.translationDone())},undo:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(-s,-a),h.translationDone())},mustExec:!1})},c);for(const h of l)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const t of this.#E)this.#m.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const t=this.#m;this.#m=null;let e=!1;for(const[{x:s,y:a,pageIndex:l},c]of t)c.newX=s,c.newY=a,c.newPageIndex=l,e||=s!==c.savedX||a!==c.savedY||l!==c.savedPageIndex;if(!e)return!1;const n=(s,a,l,c)=>{if(this.#n.has(s.id)){const h=this.#a.get(c);h?s._setParentAndPosition(h,a,l):(s.pageIndex=c,s.x=a,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:l,newPageIndex:c}]of t)n(s,a,l,c)},undo:()=>{for(const[s,{savedX:a,savedY:l,savedPageIndex:c}]of t)n(s,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#m)for(const n of this.#m.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#E.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#T}isEditingMode(){return this.#T!==se.NONE}get imageManager(){return re(this,"imageManager",new r0)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,d=e.rangeCount;f<d;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:s,width:a,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(f,d,p,g)=>({x:(d-s)/l,y:1-(f+p-n)/a,width:g/l,height:p/a});break;case"180":c=(f,d,p,g)=>({x:1-(f+p-n)/a,y:1-(d+g-s)/l,width:p/a,height:g/l});break;case"270":c=(f,d,p,g)=>({x:1-(d+g-s)/l,y:(f-n)/a,width:g/l,height:p/a});break;default:c=(f,d,p,g)=>({x:(f-n)/a,y:(d-s)/l,width:p/a,height:g/l});break}const h=[];for(let f=0,d=e.rangeCount;f<d;f++){const p=e.getRangeAt(f);if(!p.collapsed)for(const{x:g,y,width:E,height:b}of p.getClientRects())E===0||b===0||h.push(c(g,y,E,b))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#r.getRawValue(e);n&&(this.#T===se.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const s=this.#k?.get(t);s&&(s.setCanvas(e,n),this.#k.delete(t))}addMissingCanvas(t,e){(this.#k||=new Map).set(t,e)}}class Ki{#t=null;#e=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#c=null;#l=null;#f=null;#h=!1;static#d=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,Ki.#d||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Ki._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",Ki.#d.missing),e.setAttribute("data-l10n-id",Ki.#d["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",Ti,{signal:n}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const s=a=>{a.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#r=!0,s(a))},{signal:n}),await this.#m(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#f=await Ki._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#m())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#f),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#f}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:s,cancel:a=!1}){n&&(this.#l=n,this.#f=s),!(this.#t===t&&this.#e===e)&&(a||(this.#t=t,this.#e=e),this.#m())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#m(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Ki.#d[this.#g]),this.#n?.setAttribute("data-l10n-id",Ki.#d[`${this.#g}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const s=100,a=this.#c._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:a}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:a})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Tu{#t=null;#e=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#f(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const s=this.#n.commentButtonColor;s&&(n.backgroundColor=s)}return this.#f(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:s,y:a,width:l,height:c}=this.#n.parent.boundingClientRect;return[(t-s)/l,(e+n-a)/c]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#f(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",Ti,{signal:n}),e&&(t.addEventListener("focusin",a=>{this.#n._focusEventsAllowed=!1,en(a)},{capture:!0,signal:n}),t.addEventListener("focusout",a=>{this.#n._focusEventsAllowed=!0,en(a)},{capture:!0,signal:n})),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const s=a=>{a.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#i=!0,s(a))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,s;if(e)[n,s]=e;else{[n,s]=this.#n.commentButtonPosition;const{width:d,height:p,x:g,y}=this.#n;n=g+n*d,s=y+s*p}const a=this.#n.parent.boundingClientRect,{x:l,y:c,width:h,height:f}=a;this.#n._uiManager.editComment(this.#n,l+n*h,c+s*f,{...t,parentDimensions:a})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#r&&(this.#s=null),t===null){this.#r="",this.#c=!0;return}this.#r=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Ch{#t;#e=!1;#i=null;#n;#a;#s;#r;#o=null;#c;#l=null;#f;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:s=null,onPinching:a=null,onPinchEnd:l=null,signal:c}){this.#t=t,this.#i=n,this.#n=e,this.#a=s,this.#s=a,this.#r=l,this.#f=new AbortController,this.#c=AbortSignal.any([c,this.#f.signal]),t.addEventListener("touchstart",this.#d.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/er.pixelRatio}#d(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const s=this.#o=new AbortController,a=AbortSignal.any([this.#c,s.signal]),l=this.#t,c={capture:!0,signal:a,passive:!1},h=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(en(f),h(f))},c),l.addEventListener("pointerup",h,c),l.addEventListener("pointercancel",h,c);return}if(!this.#h){this.#h=new AbortController;const s=AbortSignal.any([this.#c,this.#h.signal]),a=this.#t,l={signal:s,capture:!1,passive:!1};a.addEventListener("touchmove",this.#g.bind(this),l);const c=this.#m.bind(this);a.addEventListener("touchend",c,l),a.addEventListener("touchcancel",c,l),l.capture=!0,a.addEventListener("pointerdown",en,l),a.addEventListener("pointermove",en,l),a.addEventListener("pointercancel",en,l),a.addEventListener("pointerup",en,l),this.#a?.()}if(en(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;en(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:s,screenY:a}=e,{screenX:l,screenY:c}=n,h=this.#l,{touch0X:f,touch0Y:d,touch1X:p,touch1Y:g}=h,y=p-f,E=g-d,b=l-s,_=c-a,v=Math.hypot(b,_)||1,S=Math.hypot(y,E)||1;if(!this.#e&&Math.abs(S-v)<=Ch.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=s,h.touch0Y=a,h.touch1X=l,h.touch1Y=c,!this.#e){this.#e=!0;return}const x=[(s+l)/2,(a+c)/2];this.#s?.(x,S,v)}#m(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#r?.()),this.#l&&(en(t),this.#l=null,this.#e=!1))}destroy(){this.#f?.abort(),this.#f=null,this.#o?.abort(),this.#o=null}}class Zt{#t=null;#e=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#c=null;#l=null;#f=null;#h=null;#d=null;#g="";#m=!1;#u=null;#p=!1;#y=!1;#v=!1;#b=null;#x=0;#A=0;#_=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#S=Zt._zIndex++;static _borderLineWidth=-1;static _colorManager=new s0;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Zt.prototype._resizeWithKeyboard,e=fs.TRANSLATE_SMALL,n=fs.TRANSLATE_BIG;return re(this,"_resizerKeyboardManager",new Zl([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Zt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null,this.canAddComment=!0;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[a,l];const[c,h]=this.parentDimensions;this.x=t.x/c,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return re(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new E3({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Zt._l10n??=t,Zt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Zt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Zt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Be("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(t){this.#w=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#S}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#P(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[a,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/a,this.y=(e+s)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,s]=this.parentDimensions;this.setAt(t*n,e*s,this.width*n,this.height*s),this._onTranslated()}#N([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#N(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#N(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[s,a]}=this;if(this.x+=t/s,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,f]=this.getBaseTranslation();l+=h,c+=f;const{style:d}=n;d.left=`${(100*l).toFixed(2)}%`,d.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Zt,s=n/t,a=n/e;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,s]}=this;let{x:a,y:l,width:c,height:h}=this;if(c*=n,h*=s,a*=n,l*=s,this._mustFixPosition)switch(t){case 0:a=Fn(a,0,n-c),l=Fn(l,0,s-h);break;case 90:a=Fn(a,0,n-h),l=Fn(l,c,s);break;case 180:a=Fn(a,c,n),l=Fn(l,h,s);break;case 270:a=Fn(a,h,n),l=Fn(l,0,s-c);break}this.x=a/=n,this.y=l/=s;const[f,d]=this.getBaseTranslation();a+=f,l+=d,e.left=`${(100*a).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#R(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Zt.#R(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Zt.#R(t,e,360-this.parentRotation)}#O(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#B(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");this.#c.append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",this.#I.bind(this,n),{signal:e}),s.addEventListener("contextmenu",Ti,{signal:e}),s.tabIndex=-1}this.div.prepend(this.#c)}#I(t,e){e.preventDefault();const{isMac:n}=yn.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#k.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",en,{passive:!1,signal:l}),window.addEventListener("contextmenu",Ti,{signal:l}),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=c,this.div.style.cursor=h,this.#F()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#L(t,e,n,s){this.width=n,this.height=s,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#f)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=this.#f;this.#f=null;const a=this.x,l=this.y,c=this.width,h=this.height;a===t&&l===e&&c===n&&h===s||this.addCommands({cmd:this.#L.bind(this,a,l,c,h),undo:this.#L.bind(this,t,e,n,s),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#k(t,e){const[n,s]=this.parentDimensions,a=this.x,l=this.y,c=this.width,h=this.height,f=Zt.MIN_SIZE/n,d=Zt.MIN_SIZE/s,p=this.#O(this.rotation),g=(et,Q)=>[p[0]*et+p[2]*Q,p[1]*et+p[3]*Q],y=this.#O(360-this.rotation),E=(et,Q)=>[y[0]*et+y[2]*Q,y[1]*et+y[3]*Q];let b,_,v=!1,S=!1;switch(t){case"topLeft":v=!0,b=(et,Q)=>[0,0],_=(et,Q)=>[et,Q];break;case"topMiddle":b=(et,Q)=>[et/2,0],_=(et,Q)=>[et/2,Q];break;case"topRight":v=!0,b=(et,Q)=>[et,0],_=(et,Q)=>[0,Q];break;case"middleRight":S=!0,b=(et,Q)=>[et,Q/2],_=(et,Q)=>[0,Q/2];break;case"bottomRight":v=!0,b=(et,Q)=>[et,Q],_=(et,Q)=>[0,0];break;case"bottomMiddle":b=(et,Q)=>[et/2,Q],_=(et,Q)=>[et/2,0];break;case"bottomLeft":v=!0,b=(et,Q)=>[0,Q],_=(et,Q)=>[et,0];break;case"middleLeft":S=!0,b=(et,Q)=>[0,Q/2],_=(et,Q)=>[et,Q/2];break}const x=b(c,h),T=_(c,h);let C=g(...T);const M=Zt._round(a+C[0]),L=Zt._round(l+C[1]);let z=1,k=1,rt,ht;if(e.fromKeyboard)({deltaX:rt,deltaY:ht}=e);else{const{screenX:et,screenY:Q}=e,[ft,vt]=this.#l;[rt,ht]=this.screenToPageTranslation(et-ft,Q-vt),this.#l[0]=et,this.#l[1]=Q}if([rt,ht]=E(rt/n,ht/s),v){const et=Math.hypot(c,h);z=k=Math.max(Math.min(Math.hypot(T[0]-x[0]-rt,T[1]-x[1]-ht)/et,1/c,1/h),f/c,d/h)}else S?z=Fn(Math.abs(T[0]-x[0]-rt),f,1)/c:k=Fn(Math.abs(T[1]-x[1]-ht),d,1)/h;const U=Zt._round(c*z),dt=Zt._round(h*k);C=g(..._(U,dt));const j=M-C[0],yt=L-C[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=U,this.height=dt,this.x=j,this.y=yt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Ol(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Ki.initialize(Zt._l10n),this.#i=new Ki(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new Tu(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:s}}=this.#n;return{text:e,richText:t,date:n,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Tu(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new Tu(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Tu(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,s]=t.rect,[a]=this.pageDimensions,[l]=this.pageTranslation,c=l+a+1,h=s-100,f=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,h,f,s]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#z();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[s,a]=this.getInitialTranslation();return this.translate(s,a),mx(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new Ch({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#V.bind(this),onPinching:this.#T.bind(this),onPinchEnd:this.#E.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#V(){this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#T(t,e,n){let a=.7*(n/e)+1-.7;if(a===1)return;const l=this.#O(this.rotation),c=(M,L)=>[l[0]*M+l[2]*L,l[1]*M+l[3]*L],[h,f]=this.parentDimensions,d=this.x,p=this.y,g=this.width,y=this.height,E=Zt.MIN_SIZE/h,b=Zt.MIN_SIZE/f;a=Math.max(Math.min(a,1/g,1/y),E/g,b/y);const _=Zt._round(g*a),v=Zt._round(y*a);if(_===g&&v===y)return;this.#u||=[d,p,g,y];const S=c(g/2,y/2),x=Zt._round(d+S[0]),T=Zt._round(p+S[1]),C=c(_/2,v/2);this.x=x-C[0],this.y=T-C[1],this.width=_,this.height=v,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#E(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(t){const{isMac:e}=yn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#U(t);return}this.#M(t)}#M(t){const{isMac:e}=yn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#U(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const s=new AbortController,a=this._uiManager.combinedSignal(s),l={capture:!0,passive:!1,signal:a},c=f=>{s.abort(),this.#r=null,this.#m=!1,this._uiManager.endDragSession()||this.#M(f),n&&this._onStopDragging()};e&&(this.#x=t.clientX,this.#A=t.clientY,this.#r=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:p,pointerId:g}=f;if(g!==this.#r){en(f);return}const[y,E]=this.screenToPageTranslation(d-this.#x,p-this.#A);this.#x=d,this.#A=p,this._uiManager.dragSelectedEditors(y,E)},l),window.addEventListener("touchmove",en,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#C||f.isPrimary)&&c(f),en(f)},l));const h=f=>{if(!this.#r||this.#r===f.pointerId){c(f);return}en(f)};window.addEventListener("pointerup",h,{signal:a}),window.addEventListener("blur",h,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const s=this.parentScale,[a,l]=this.pageDimensions,[c,h]=this.pageTranslation,f=t/s,d=e/s,p=this.x*a,g=this.y*l,y=this.width*a,E=this.height*l;switch(n){case 0:return[p+f+c,l-g-d-E+h,p+f+y+c,l-g-d+h];case 90:return[p+d+c,l-g+f+h,p+d+E+c,l-g+f+y+h];case 180:return[p-f-y+c,l-g+d+h,p-f+c,l-g+d+E+h];case 270:return[p-d-E+c,l-g-f-y+h,p-d+c,l-g-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,a,l]=t,c=a-n,h=l-s;switch(this.rotation){case 0:return[n,e-l,c,h];case 90:return[n,e-s,h,c];case 180:return[a,e-s,c,h];case 270:return[a,e-l,h,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Zt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:s,deleted:a,richText:l},uid:c,pageIndex:h,creationDate:f,modificationDate:d}=this;return{id:c,pageIndex:h,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:n||d,popupRef:!a,color:e,opacity:s}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:s}=this.getClientDimensions(),{innerHeight:a,innerWidth:l}=window;return e<l&&s>0&&t<a&&n>0}#z(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#z()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});s.rotation=t.rotation,s.#t=t.accessibilityData,s._isCopy=t.isCopy||!1;const[a,l]=s.pageDimensions,[c,h,f,d]=s.getRectInCurrentCoords(t.rect,l);return s.x=c/a,s.y=h/l,s.width=f/a,s.height=d/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#P(),this.removeEditToolbar(),this.#_){for(const t of this.#_.values())clearTimeout(t);this.#_=null}this.parent=null,this.#C?.destroy(),this.#C=null,this.#h?.remove(),this.#h=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#B(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,s,a,l]=this.getPDFRect();return[Zt._round(n+(a-n)*t),Zt._round(s+(l-s)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n?.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#$.bind(this),c=this.#Y.bind(this),h=this._uiManager._signal;for(const f of this.#e){const d=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:h}),f.addEventListener("blur",c,{signal:h}),f.addEventListener("focus",this.#W.bind(this,d),{signal:h}),f.setAttribute("data-l10n-id",Zt._l10nResizer[d])}}const n=this.#e[0];let s=0;for(const l of e){if(l===n)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(a!==s){if(a<s)for(let c=0;c<s-a;c++)this.#c.append(this.#c.firstElementChild);else if(a>s)for(let c=0;c<a-s;c++)this.#c.firstElementChild.before(this.#c.lastElementChild);let l=0;for(const c of e){const f=this.#e[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Zt._l10nResizer[f])}}this.#H(0),this.#v=!0,this.#c.firstElementChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#$(t){Zt._resizerKeyboardManager.exec(this,t)}#Y(t){this.#v&&t.relatedTarget?.parentNode!==this.#c&&this.#P()}#W(t){this.#g=this.#v?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#v&&this.#k(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#P(){this.#v=!1,this.#H(-1),this.#F()}_stopResizingWithKeyboard(){this.#P(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#_||=new Map;const{action:n}=t;let s=this.#_.get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),this.#_.delete(n),this.#_.size===0&&(this.#_=null)},Zt._telemetryTimeout),this.#_.set(n,s);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstElementChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class E3 extends Zt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const U_=3285377520,wi=4294901760,Yi=65535;class gx{constructor(t){this.h1=t?t&4294967295:U_,this.h2=t?t&4294967295:U_}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let b=0,_=t.length;b<_;b++){const v=t.charCodeAt(b);v<=255?e[n++]=v:(e[n++]=v>>>8,e[n++]=v&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,a=n-s*4,l=new Uint32Array(e.buffer,0,s);let c=0,h=0,f=this.h1,d=this.h2;const p=3432918353,g=461845907,y=p&Yi,E=g&Yi;for(let b=0;b<s;b++)b&1?(c=l[b],c=c*p&wi|c*y&Yi,c=c<<15|c>>>17,c=c*g&wi|c*E&Yi,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(h=l[b],h=h*p&wi|h*y&Yi,h=h<<15|h>>>17,h=h*g&wi|h*E&Yi,d^=h,d=d<<13|d>>>19,d=d*5+3864292196);switch(c=0,a){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*p&wi|c*y&Yi,c=c<<15|c>>>17,c=c*g&wi|c*E&Yi,s&1?f^=c:d^=c}this.h1=f,this.h2=d}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&wi|t*36045&Yi,e=e*4283543511&wi|((e<<16|t>>>16)*2950163797&wi)>>>16,t^=e>>>1,t=t*444984403&wi|t*60499&Yi,e=e*3301882366&wi|((e<<16|t>>>16)*3120437893&wi)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const wg=Object.freeze({map:null,hash:"",transfer:void 0});class a0{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof Zt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof Zt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let s=!1;if(n!==void 0)for(const[a,l]of Object.entries(e))n[a]!==l&&(s=!0,n[a]=l);else s=!0,this.#n.set(t,e);s&&this.#a(),e instanceof Zt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new yx(this)}get serializable(){if(this.#n.size===0)return wg;const t=new Map,e=new gx,n=[],s=Object.create(null);let a=!1;for(const[l,c]of this.#n){const h=c instanceof Zt?c.serialize(!1,s):c;h&&(t.set(l,h),e.update(`${l}:${JSON.stringify(h)}`),a||=!!h.bitmap)}if(a)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:wg}get editorStats(){let t=null;const e=new Map;let n=0,s=0;for(const a of this.#n.values()){if(!(a instanceof Zt)){a.popup&&(a.popup.deleted?s+=1:n+=1);continue}a.isCommentDeleted?s+=1:a.hasEditedComment&&(n+=1);const l=a.telemetryFinalData;if(!l)continue;const{type:c}=l;e.has(c)||e.set(c,Object.getPrototypeOf(a).constructor),t||=Object.create(null);const h=t[c]||=new Map;for(const[f,d]of Object.entries(l)){if(f==="type")continue;let p=h.get(f);p||(p=new Map,h.set(f,p));const g=p.get(d)??0;p.set(d,g+1)}}if((s>0||n>0)&&(t||=Object.create(null),t.comments={deleted:s,edited:n}),!t)return null;for(const[a,l]of e)t[a]=l.computeTelemetryFinalData(t[a]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class yx extends a0{#t;constructor(t){super();const{map:e,hash:n,transfer:s}=t.serializable,a=structuredClone(e,s?{transfer:s}:null);this.#t={map:a,hash:n,transfer:s}}get print(){Be("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return re(this,"modifiedIds",{ids:new Set,hash:""})}}class A3{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(be(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:a,style:l}=t,c=new FontFace(s,a,l);this.addNativeFontFace(c);try{await c.load(),this.#t.add(s),n?.(t)}catch{ie(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Be("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw ie(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return re(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return re(this,"isSyncFontLoadingSupported",Bn||yn.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(be(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return re(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(T,C){return T.charCodeAt(C)<<24|T.charCodeAt(C+1)<<16|T.charCodeAt(C+2)<<8|T.charCodeAt(C+3)&255}function s(T,C,M,L){const z=T.substring(0,C),k=T.substring(C+M);return z+L+k}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let f=0;function d(T,C){if(++f>30){ie("Load test font never loaded."),C();return}if(h.font="30px "+T,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(d.bind(null,T,C))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=s(g,976,p.length,p);const E=16,b=1482184792;let _=n(g,E);for(a=0,l=p.length-3;a<l;a+=4)_=_-b+n(p,a)|0;a<p.length&&(_=_-b+n(p+"XXX",a)|0),g=s(g,E,4,i3(_));const v=`url(data:font/opentype;base64,${btoa(g)});`,S=`@font-face {font-family:"${p}";src:${v}}`;this.insertRule(S);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const T of[t.loadedName,p]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=T,x.append(C)}this._document.body.append(x),d(p,()=>{x.remove(),e.complete()})}}class S3{#t;constructor(t,e=null,n,s){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),s&&(this.charProcOperatorList=s)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${hx(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let s;try{s=t.get(n)}catch(l){ie(`getPathGenerator - ignoring character: "${l}".`)}const a=px(s?.path);return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=a}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}set disableFontFace(t){re(this,"disableFontFace",!!t)}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}set bbox(t){re(this,"bbox",t)}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}class eo{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let s=0;for(const f of eo.strings){const d=e.encode(t[f]);n[f]=d,s+=4+d.length}const a=new ArrayBuffer(s),l=new Uint8Array(a),c=new DataView(a);let h=0;for(const f of eo.strings){const d=n[f],p=d.length;c.setUint32(h,p),l.set(d,h+4),h+=4+p}return be(h===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){be(t<eo.strings.length,"Invalid string index");let e=0;for(let s=0;s<t;s++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class no{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let s=0;for(const g of no.strings){const y=e.encode(t[g]);n[g]=y,s+=4+y.length}s+=4;let a,l,c=1+s;t.style&&(a=e.encode(t.style.style),l=e.encode(t.style.weight),c+=4+a.length+4+l.length);const h=new ArrayBuffer(c),f=new Uint8Array(h),d=new DataView(h);let p=0;d.setUint8(p++,t.guessFallback?1:0),d.setUint32(p,0),p+=4,s=0;for(const g of no.strings){const y=n[g],E=y.length;s+=4+E,d.setUint32(p,E),f.set(y,p+4),p+=4+E}return d.setUint32(p-s-4,s),t.style&&(d.setUint32(p,a.length),f.set(a,p+4),p+=4+a.length,d.setUint32(p,l.length),f.set(l,p+4),p+=4+l.length),be(p<=h.byteLength,"SubstitionInfo.write: Buffer overflow"),h.transferToFixedLength(p)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){be(t<no.strings.length,"Invalid string index");let e=5;for(let s=0;s<t;s++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const s=this.#e.getUint32(t),a=this.#i.decode(new Uint8Array(this.#t,t+4,s));return{style:n,weight:a}}}class Le{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:t,extra:e}){this.#s=t,this.#r=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){be(t<Le.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,s=this.#o.getUint8(e)>>n&3;return s===0?void 0:s===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return be(t<Le.numbers.length,"Invalid number index"),this.#o.getFloat64(Le.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Le.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<4;s++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=Le.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<6;s++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=Le.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<3;s++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#f(t){be(t<Le.strings.length,"Invalid string index");let e=Le.#a+4;for(let a=0;a<t;a++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),s=new Uint8Array(n);return s.set(new Uint8Array(this.#s,e+4,n)),this.#r.decode(s)}get fallbackName(){return this.#f(0)}get loadedName(){return this.#f(1)}get mimetype(){return this.#f(2)}get name(){return this.#f(3)}get data(){let t=Le.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);t+=4+s;const a=this.#o.getUint32(t);if(a!==0)return new Uint8Array(this.#s,t+4,a)}clearData(){let t=Le.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);t+=4+s;const a=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,a).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Le.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);if(s===0)return null;const a=new Uint8Array(s);return a.set(new Uint8Array(this.#s,t+4,s)),new eo(a.buffer)}get systemFontInfo(){let t=Le.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const s=new Uint8Array(n);return s.set(new Uint8Array(this.#s,t+4,n)),new no(s.buffer)}static write(t){const e=t.systemFontInfo?no.write(t.systemFontInfo):null,n=t.cssFontInfo?eo.write(t.cssFontInfo):null,s=new TextEncoder,a={};let l=0;for(const b of Le.strings)a[b]=s.encode(t[b]),l+=4+a[b].length;const c=Le.#a+4+l+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),h=new ArrayBuffer(c),f=new Uint8Array(h),d=new DataView(h);let p=0;const g=Le.bools.length;let y=0,E=0;for(let b=0;b<g;b++){const _=t[Le.bools[b]];y|=(_===void 0?0:_?2:1)<<E,E+=2,(E===8||b===g-1)&&(d.setUint8(p++,y),y=0,E=0)}be(p===Le.#t,"FontInfo.write: Boolean properties offset mismatch");for(const b of Le.numbers)d.setFloat64(p,t[b]),p+=8;if(be(p===Le.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){d.setUint8(p++,4);for(const b of t.bbox)d.setInt16(p,b,!0),p+=2}else d.setUint8(p++,0),p+=8;if(be(p===Le.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){d.setUint8(p++,6);for(const b of t.fontMatrix)d.setFloat64(p,b,!0),p+=8}else d.setUint8(p++,0),p+=48;if(be(p===Le.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){d.setUint8(p++,1);for(const b of t.defaultVMetrics)d.setInt16(p,b,!0),p+=2}else d.setUint8(p++,0),p+=6;be(p===Le.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(Le.#a,0),p+=4;for(const b of Le.strings){const _=a[b],v=_.length;d.setUint32(p,v),f.set(_,p+4),p+=4+v}if(d.setUint32(Le.#a,p-Le.#a-4),!e)d.setUint32(p,0),p+=4;else{const b=e.byteLength;d.setUint32(p,b),be(p+4+b<=h.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),p+4),p+=4+b}if(!n)d.setUint32(p,0),p+=4;else{const b=n.byteLength;d.setUint32(p,b),be(p+4+b<=h.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(n),p+4),p+=4+b}return t.data===void 0?(d.setUint32(p,0),p+=4):(d.setUint32(p,t.data.length),f.set(t.data,p+4),p+=4+t.data.length),be(p<=h.byteLength,"FontInfo.write: Buffer overflow"),h.transferToFixedLength(p)}}class En{static#t=0;static#e=1;static#i=2;static#n=3;static#a=4;static#s=8;static#r=12;static#o=16;constructor(t){this.buffer=t,this.view=new DataView(t),this.data=new Uint8Array(t)}static write(t){let e,n=null,s=[],a=[],l=[],c=[],h=null,f=null;switch(t[0]){case"RadialAxial":e=t[1]==="axial"?1:2,n=t[2],l=t[3],e===1?s.push(...t[4],...t[5]):s.push(t[4][0],t[4][1],t[6],t[5][0],t[5][1],t[7]);break;case"Mesh":e=3,h=t[1],s=t[2],a=t[3],c=t[4]||[],n=t[6],f=t[7];break;default:throw new Error(`Unsupported pattern type: ${t[0]}`)}const d=Math.floor(s.length/2),p=Math.floor(a.length/3),g=l.length,y=c.length;let E=0;for(const C of c)E+=1,E=Math.ceil(E/4)*4,E+=4+C.coords.length*4,E+=4+C.colors.length*4,C.verticesPerRow!==void 0&&(E+=4);const b=20+d*8+p*3+g*8+(n?16:0)+(f?3:0)+E,_=new ArrayBuffer(b),v=new DataView(_),S=new Uint8Array(_);v.setUint8(En.#t,e),v.setUint8(En.#e,n?1:0),v.setUint8(En.#i,f?1:0),v.setUint8(En.#n,h),v.setUint32(En.#a,d,!0),v.setUint32(En.#s,p,!0),v.setUint32(En.#r,g,!0),v.setUint32(En.#o,y,!0);let x=20;new Float32Array(_,x,d*2).set(s),x+=d*8,S.set(a,x),x+=p*3;for(const[C,M]of l)v.setFloat32(x,C,!0),x+=4,v.setUint32(x,parseInt(M.slice(1),16),!0),x+=4;if(n)for(const C of n)v.setFloat32(x,C,!0),x+=4;f&&(S.set(f,x),x+=3);for(let C=0;C<c.length;C++){const M=c[C];v.setUint8(x,M.type),x+=1,x=Math.ceil(x/4)*4,v.setUint32(x,M.coords.length,!0),x+=4,new Int32Array(_,x,M.coords.length).set(M.coords),x+=M.coords.length*4,v.setUint32(x,M.colors.length,!0),x+=4,new Int32Array(_,x,M.colors.length).set(M.colors),x+=M.colors.length*4,M.verticesPerRow!==void 0&&(v.setUint32(x,M.verticesPerRow,!0),x+=4)}return _}getIR(){const t=this.view,e=this.data[En.#t],n=!!this.data[En.#e],s=!!this.data[En.#i],a=t.getUint32(En.#a,!0),l=t.getUint32(En.#s,!0),c=t.getUint32(En.#r,!0),h=t.getUint32(En.#o,!0);let f=20;const d=new Float32Array(this.buffer,f,a*2);f+=a*8;const p=new Uint8Array(this.buffer,f,l*3);f+=l*3;const g=[];for(let _=0;_<c;++_){const v=t.getFloat32(f,!0);f+=4;const S=t.getUint32(f,!0);f+=4,g.push([v,`#${S.toString(16).padStart(6,"0")}`])}let y=null;if(n){y=[];for(let _=0;_<4;++_)y.push(t.getFloat32(f,!0)),f+=4}let E=null;s&&(E=new Uint8Array(this.buffer,f,3),f+=3);const b=[];for(let _=0;_<h;++_){const v=t.getUint8(f);f+=1,f=Math.ceil(f/4)*4;const S=t.getUint32(f,!0);f+=4;const x=new Int32Array(this.buffer,f,S);f+=S*4;const T=t.getUint32(f,!0);f+=4;const C=new Int32Array(this.buffer,f,T);f+=T*4;const M={type:v,coords:x,colors:C};v===mg.LATTICE&&(M.verticesPerRow=t.getUint32(f,!0),f+=4),b.push(M)}if(e===1)return["RadialAxial","axial",y,g,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(e===2)return["RadialAxial","radial",y,g,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(e===3){const _=this.data[En.#n];let v=null;if(d.length>0){let S=d[0],x=d[0],T=d[1],C=d[1];for(let M=0;M<d.length;M+=2){const L=d[M],z=d[M+1];S=S>L?L:S,T=T>z?z:T,x=x<L?L:x,C=C<z?z:C}v=[S,T,x,C]}return["Mesh",_,d,p,b,v,y,E]}throw new Error(`Unsupported pattern kind: ${e}`)}}class x3{static write(t){let e,n;return yn.isFloat16ArraySupported?(n=new ArrayBuffer(t.length*2),e=new Float16Array(n)):(n=new ArrayBuffer(t.length*4),e=new Float32Array(n)),e.set(t),n}#t;constructor(t){this.#t=t}get path(){return yn.isFloat16ArraySupported?new Float16Array(this.#t):new Float32Array(this.#t)}}function T3(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(Bn)return r;const t=URL.parse(r,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function C3(r){if(Bn&&typeof In<"u"&&r instanceof In)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return $l(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Cu(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const _g=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,R3=r=>typeof r=="object"&&typeof r?.name=="string",O3=l3.bind(null,_g,R3);class N3{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[s]of this.#t)s.call(this,n)})}addEventListener(t,e,n=null){let s=null;if(n?.signal instanceof AbortSignal){const{signal:a}=n;if(a.aborted){ie("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);s=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}this.#t.set(e,s)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Ru={DATA:1,ERROR:2},hn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function j_(){}function Xn(r){if(r instanceof hs||r instanceof gg||r instanceof I_||r instanceof ih||r instanceof jm)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||Be('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new hs(r.message);case"InvalidPDFException":return new gg(r.message);case"PasswordException":return new I_(r.message,r.code);case"ResponseException":return new ih(r.message,r.status,r.missing);case"UnknownErrorException":return new jm(r.message,r.details)}return new jm(r.message,r.toString())}class xl{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===Ru.DATA)s.resolve(t.data);else if(t.callback===Ru.ERROR)s.reject(Xn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,s=t.sourceName,a=this.comObj;Promise.try(e,t.data).then(function(l){a.postMessage({sourceName:n,targetName:s,callback:Ru.DATA,callbackId:t.callbackId,data:l})},function(l){a.postMessage({sourceName:n,targetName:s,callback:Ru.ERROR,callbackId:t.callbackId,reason:Xn(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(l){a.reject(l)}return a.promise}sendWithStream(t,e,n,s){const a=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const d=Promise.withResolvers();return this.streamControllers[a]={controller:f,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:t,streamId:a,data:e,desiredSize:f.desiredSize},s),d.promise},pull:f=>{const d=Promise.withResolvers();return this.streamControllers[a].pullCall=d,h.postMessage({sourceName:l,targetName:c,stream:hn.PULL,streamId:a,desiredSize:f.desiredSize}),d.promise},cancel:f=>{be(f instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[a].cancelCall=d,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:hn.CANCEL,streamId:a,reason:Xn(f)}),d.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,l=this,c=this.actionHandler[t.action],h={enqueue(f,d=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:s,stream:hn.ENQUEUE,streamId:e,chunk:f},p)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:hn.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){be(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:hn.ERROR,streamId:e,reason:Xn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(c,t.data,h).then(function(){a.postMessage({sourceName:n,targetName:s,stream:hn.START_COMPLETE,streamId:e,success:!0})},function(f){a.postMessage({sourceName:n,targetName:s,stream:hn.START_COMPLETE,streamId:e,reason:Xn(f)})})}#n(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case hn.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(Xn(t.reason));break;case hn.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(Xn(t.reason));break;case hn.PULL:if(!c){a.postMessage({sourceName:n,targetName:s,stream:hn.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||j_).then(function(){a.postMessage({sourceName:n,targetName:s,stream:hn.PULL_COMPLETE,streamId:e,success:!0})},function(f){a.postMessage({sourceName:n,targetName:s,stream:hn.PULL_COMPLETE,streamId:e,reason:Xn(f)})});break;case hn.ENQUEUE:if(be(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case hn.CLOSE:if(be(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,e);break;case hn.ERROR:be(l,"error should have stream controller"),l.controller.error(Xn(t.reason)),this.#a(l,e);break;case hn.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(Xn(t.reason)),this.#a(l,e);break;case hn.CANCEL:if(!c)break;const h=Xn(t.reason);Promise.try(c.onCancel||j_,h).then(function(){a.postMessage({sourceName:n,targetName:s,stream:hn.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){a.postMessage({sourceName:n,targetName:s,stream:hn.CANCEL_COMPLETE,streamId:e,reason:Xn(f)})}),c.sinkCapability.reject(h),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class bx{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Be("Abstract method `_createCanvas` called.")}}class D3 extends bx{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class vx{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Be("Abstract method `_fetch` called.")}}class z_ extends vx{async _fetch(t){const e=await Wl(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):$l(e)}}class wx{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,a){return"none"}destroy(t=!1){}}class I3 extends wx{#t;#e;#i;#n;#a;#s;#r=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#a.createElementNS(xr,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(xr,"defs"),t.append(n),n.append(this.#i),this.#a.body.append(t)}return this.#i}#f(t){if(t.length===1){const h=t[0],f=new Array(256);for(let p=0;p<256;p++)f[p]=h[p]/255;const d=f.join(",");return[d,d,d]}const[e,n,s]=t,a=new Array(256),l=new Array(256),c=new Array(256);for(let h=0;h<256;h++)a[h]=e[h]/255,l[h]=n[h]/255,c[h]=s[h]/255;return[a.join(","),l.join(","),c.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(Th(e)?ie('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=lx(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,s,a]=this.#f(t),l=t.length===1?n:`${n}${s}${a}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const c=`g_${this.#n}_transfer_map_${this.#r++}`,h=this.#h(c);this.#o.set(t,h),this.#o.set(l,h);const f=this.#m(c);return this.#p(n,s,a,f),h}addHCMFilter(t,e){const n=`${t}-${e}`,s="base";let a=this.#c.get(s);if(a?.key===n||(a?(a.filter?.remove(),a.key=n,a.url="none",a.filter=null):(a={key:n,url:"none",filter:null},this.#c.set(s,a)),!t||!e))return a.url;const l=this.#v(t);t=Ht.makeHexColor(...l);const c=this.#v(e);if(e=Ht.makeHexColor(...c),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return a.url;const h=new Array(256);for(let y=0;y<=255;y++){const E=y/255;h[y]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const f=h.join(","),d=`g_${this.#n}_hcm_filter`,p=a.filter=this.#m(d);this.#p(f,f,f,p),this.#g(p);const g=(y,E)=>{const b=l[y]/255,_=c[y]/255,v=new Array(E+1);for(let S=0;S<=E;S++)v[S]=b+S/E*(_-b);return v.join(",")};return this.#p(g(0,5),g(1,5),g(2,5),p),a.url=this.#h(d),a.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#f([t]),s=`alpha_${n}`;if(e=this.#o.get(s),e)return this.#o.set(t,e),e;const a=`g_${this.#n}_alpha_map_${this.#r++}`,l=this.#h(a);this.#o.set(t,l),this.#o.set(s,l);const c=this.#m(a);return this.#y(n,c),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,s;if(t?([n]=this.#f([t]),s=`luminosity_${n}`):s="luminosity",e=this.#o.get(s),e)return this.#o.set(t,e),e;const a=`g_${this.#n}_luminosity_map_${this.#r++}`,l=this.#h(a);this.#o.set(t,l),this.#o.set(s,l);const c=this.#m(a);return this.#d(c),t&&this.#y(n,c),l}addHighlightHCMFilter(t,e,n,s,a){const l=`${e}-${n}-${s}-${a}`;let c=this.#c.get(t);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#c.set(t,c)),!e||!n))return c.url;const[h,f]=[e,n].map(this.#v.bind(this));let d=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),p=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[g,y]=[s,a].map(this.#v.bind(this));p<d&&([d,p,g,y]=[p,d,y,g]),this.#l.style.color="";const E=(v,S,x)=>{const T=new Array(256),C=(p-d)/x,M=v/255,L=(S-v)/(255*x);let z=0;for(let k=0;k<=x;k++){const rt=Math.round(d+k*C),ht=M+k*L;for(let U=z;U<=rt;U++)T[U]=ht;z=rt+1}for(let k=z;k<256;k++)T[k]=T[z-1];return T.join(",")},b=`g_${this.#n}_hcm_${t}_filter`,_=c.filter=this.#m(b);return this.#g(_),this.#p(E(g[0],y[0],5),E(g[1],y[1],5),E(g[2],y[2],5),_),c.url=this.#h(b),c.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#r=0)}#d(t){const e=this.#a.createElementNS(xr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#a.createElementNS(xr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#m(t){const e=this.#a.createElementNS(xr,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const s=this.#a.createElementNS(xr,e);s.setAttribute("type","discrete"),s.setAttribute("tableValues",n),t.append(s)}#p(t,e,n,s){const a=this.#a.createElementNS(xr,"feComponentTransfer");s.append(a),this.#u(a,"feFuncR",t),this.#u(a,"feFuncG",e),this.#u(a,"feFuncB",n)}#y(t,e){const n=this.#a.createElementNS(xr,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#v(t){return this.#l.style.color=t,Kl(getComputedStyle(this.#l).getPropertyValue("color"))}}class _x{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Be("Abstract method `_fetch` called.")}}class H_ extends _x{async _fetch(t){const e=await Wl(t,"arraybuffer");return new Uint8Array(e)}}class Ex{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Be("Abstract method `_fetch` called.")}}class G_ extends Ex{async _fetch(t){const e=await Wl(t,"arraybuffer");return new Uint8Array(e)}}Bn&&ie("Please use the `legacy` build in Node.js environments.");async function o0(r){const e=await Qt.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(e)}class M3 extends wx{}class L3 extends bx{_createCanvas(t,e){return Qt.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class k3 extends vx{async _fetch(t){return o0(t)}}class P3 extends _x{async _fetch(t){return o0(t)}}class B3 extends Ex{async _fetch(t){return o0(t)}}const Ua="__forcedDependency",{floor:V_,ceil:q_}=Math;function Ou(r,t,e,n,s,a){r[t*4+0]=Math.min(r[t*4+0],e),r[t*4+1]=Math.min(r[t*4+1],n),r[t*4+2]=Math.max(r[t*4+2],s),r[t*4+3]=Math.max(r[t*4+3],a)}const Eg=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class F3{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===Eg}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const Nu=(r,t)=>{if(!r)return;let e=r.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},r.set(t,e)),e};class U3{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Ua]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#f=new Map;#h=new Map;#d;#g;#m;#u;#p;constructor(t,e,n=!1){this.#d=t.width,this.#g=t.height,this.#y(e),n&&(this.#p=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const n=new ArrayBuffer(t*4);this.#m=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),e&&e.length>0?(this.#u.set(e),this.#u.fill(Eg,e.length)):this.#u.fill(Eg)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Ua]:{__proto__:this.#e[Ua]}},this.#r={__proto__:this.#r},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(Nu(this.#p,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(Nu(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(Nu(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(Ht.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Ua,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(Ua,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,s,a,l){const c=Ht.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),h=[1/0,1/0,-1/0,-1/0];Ht.axialAlignedBoundingBox([n,a,s,l],c,h);const f=Ht.intersect(this.#r,h);return f?(this.#r[0]=f[0],this.#r[1]=f[1],this.#r[2]=f[2],this.#r[3]=f[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(t,e,n,s,a,l){const c=this.#r;if(c[0]===1/0)return this;const h=Ht.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(c[0]===-1/0)return Ht.axialAlignedBoundingBox([n,a,s,l],h,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return Ht.axialAlignedBoundingBox([n,a,s,l],h,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],c[3])),this}recordCharacterBBox(t,e,n,s=1,a=0,l=0,c){const h=n.bbox;let f,d;if(h&&(f=h[2]!==h[0]&&h[3]!==h[1]&&this.#h.get(n),f!==!1&&(d=[0,0,0,0],Ht.axialAlignedBoundingBox(h,n.fontMatrix,d),(s!==1||a!==0||l!==0)&&Ht.scaleMinMax([s,0,0,-s,a,l],d),f)))return this.recordBBox(t,e,d[0],d[2],d[1],d[3]);if(!c)return this.recordFullPageBBox(t);const p=c();return h&&d&&f===void 0&&(f=d[0]<=a-p.actualBoundingBoxLeft&&d[2]>=a+p.actualBoundingBoxRight&&d[1]<=l-p.actualBoundingBoxAscent&&d[3]>=l+p.actualBoundingBoxDescent,this.#h.set(n,f),f)?this.recordBBox(t,e,d[0],d[2],d[1],d[3]):this.recordBBox(t,e,a-p.actualBoundingBoxLeft,a+p.actualBoundingBoxRight,l-p.actualBoundingBoxAscent,l+p.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#d,this.#r[2]),this.#o[3]=Math.min(this.#g,this.#r[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,s=this.#t,a=this.#e;for(const l of e)l in this.#t?n.add(s[l]):l in a&&a[l].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Ua]),this.#p){const n=Nu(this.#p,t),{dependencies:s}=n;this.#l.forEach(s.add,s),this.#n.forEach(s.add,s),this.#a.forEach(s.add,s),s.delete(t),n.isRenderingOperation=!0}if(this.#c===t){const n=V_(this.#o[0]*256/this.#d),s=V_(this.#o[1]*256/this.#g),a=q_(this.#o[2]*256/this.#d),l=q_(this.#o[3]*256/this.#g);Ou(this.#m,t,n,s,a,l);for(const c of this.#l)c!==t&&Ou(this.#m,c,n,s,a,l);for(const c of this.#n)c!==t&&Ou(this.#m,c,n,s,a,l);for(const c of this.#a)c!==t&&Ou(this.#m,c,n,s,a,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const s of n)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#f.get(t);return this.#f.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new F3(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class rh{#t;#e;#i;#n=0;#a=0;constructor(t,e,n){if(t instanceof rh&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,s,a,l){return this.#i||this.#t.recordClipBox(this.#e,e,n,s,a,l),this}recordBBox(t,e,n,s,a,l){return this.#i||this.#t.recordBBox(this.#e,e,n,s,a,l),this}recordCharacterBBox(t,e,n,s,a,l,c){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,s,a,l,c),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const _i={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},On={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Ag(r,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),r.clip(s)}class l0{isModifyingCurrentTransform(){return!1}getPattern(){Be("Abstract method `getPattern` called.")}}class j3 extends l0{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(t,e=null){let n,s=this._p0,a=this._p1;if(e&&(s=s.slice(),a=a.slice(),Ht.applyTransform(s,e),Ht.applyTransform(a,e)),this._type==="axial")n=t.createLinearGradient(s[0],s[1],a[0],a[1]);else if(this._type==="radial"){let l=this._r0,c=this._r1;if(e){const h=new Float32Array(2);Ht.singularValueDecompose2dScale(e,h),l*=h[0],c*=h[0]}n=t.createRadialGradient(s[0],s[1],l,a[0],a[1],c)}for(const l of this._colorStops)n.addColorStop(l[0],l[1]);return n}getPattern(t,e,n,s){let a;if(s===On.STROKE||s===On.FILL){if(this.isOriginBased()){let g=Ht.transform(n,e.baseTransform);this.matrix&&(g=Ht.transform(g,this.matrix));const y=.001,E=Math.hypot(g[0],g[1]),b=Math.hypot(g[2],g[3]),_=(g[0]*g[2]+g[1]*g[3])/(E*b);if(Math.abs(_)<y)if(this.isRadial()){if(Math.abs(E-b)<y)return this._createGradient(t,g)}else return this._createGradient(t,g)}const l=e.current.getClippedPathBoundingBox(s,Xe(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",c,h),d=f.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-l[0],-l[1]),n=Ht.transform(n,[1,0,0,1,l[0],l[1]]),d.transform(...e.baseTransform),this.matrix&&d.transform(...this.matrix),Ag(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),a=t.createPattern(f.canvas,"no-repeat");const p=new DOMMatrix(n);a.setTransform(p)}else Ag(t,this._bbox),a=this._createGradient(t);return a}}function Gm(r,t,e,n,s,a,l,c){const h=t.coords,f=t.colors,d=r.data,p=r.width*4;let g;h[e+1]>h[n+1]&&(g=e,e=n,n=g,g=a,a=l,l=g),h[n+1]>h[s+1]&&(g=n,n=s,s=g,g=l,l=c,c=g),h[e+1]>h[n+1]&&(g=e,e=n,n=g,g=a,a=l,l=g);const y=(h[e]+t.offsetX)*t.scaleX,E=(h[e+1]+t.offsetY)*t.scaleY,b=(h[n]+t.offsetX)*t.scaleX,_=(h[n+1]+t.offsetY)*t.scaleY,v=(h[s]+t.offsetX)*t.scaleX,S=(h[s+1]+t.offsetY)*t.scaleY;if(E>=S)return;const x=f[a],T=f[a+1],C=f[a+2],M=f[l],L=f[l+1],z=f[l+2],k=f[c],rt=f[c+1],ht=f[c+2],U=Math.round(E),dt=Math.round(S);let j,yt,et,Q,ft,vt,It,H;for(let Z=U;Z<=dt;Z++){if(Z<_){const N=Z<E?0:(E-Z)/(E-_);j=y-(y-b)*N,yt=x-(x-M)*N,et=T-(T-L)*N,Q=C-(C-z)*N}else{let N;Z>S?N=1:_===S?N=0:N=(_-Z)/(_-S),j=b-(b-v)*N,yt=M-(M-k)*N,et=L-(L-rt)*N,Q=z-(z-ht)*N}let K;Z<E?K=0:Z>S?K=1:K=(E-Z)/(E-S),ft=y-(y-v)*K,vt=x-(x-k)*K,It=T-(T-rt)*K,H=C-(C-ht)*K;const st=Math.round(Math.min(j,ft)),ut=Math.round(Math.max(j,ft));let ct=p*Z+st*4;for(let N=st;N<=ut;N++)K=(j-N)/(j-ft),K<0?K=0:K>1&&(K=1),d[ct++]=yt-(yt-vt)*K|0,d[ct++]=et-(et-It)*K|0,d[ct++]=Q-(Q-H)*K|0,d[ct++]=255}}function z3(r,t,e){const n=t.coords,s=t.colors;let a,l;switch(t.type){case mg.LATTICE:const c=t.verticesPerRow,h=Math.floor(n.length/c)-1,f=c-1;for(a=0;a<h;a++){let d=a*c;for(let p=0;p<f;p++,d++)Gm(r,e,n[d],n[d+1],n[d+c],s[d],s[d+1],s[d+c]),Gm(r,e,n[d+c+1],n[d+1],n[d+c],s[d+c+1],s[d+1],s[d+c])}break;case mg.TRIANGLES:for(a=0,l=n.length;a<l;a+=3)Gm(r,e,n[a],n[a+1],n[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class H3 extends l0{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,d=Math.ceil(this._bounds[3])-h,p=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*t[1]*1.1)),3e3),y=f/p,E=d/g,b={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/y,scaleY:1/E},_=p+4,v=g+4,S=n.getCanvas("mesh",_,v),x=S.context,T=x.createImageData(p,g);if(e){const M=T.data;for(let L=0,z=M.length;L<z;L+=4)M[L]=e[0],M[L+1]=e[1],M[L+2]=e[2],M[L+3]=255}for(const M of this._figures)z3(T,M,b);return x.putImageData(T,2,2),{canvas:S.canvas,offsetX:c-2*y,offsetY:h-2*E,scaleX:y,scaleY:E}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,s){Ag(t,this._bbox);const a=new Float32Array(2);if(s===On.SHADING)Ht.singularValueDecompose2dScale(Xe(t),a);else if(this.matrix){Ht.singularValueDecompose2dScale(this.matrix,a);const[c,h]=a;Ht.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=c,a[1]*=h}else Ht.singularValueDecompose2dScale(e.baseTransform,a);const l=this._createMeshCanvas(a,s===On.SHADING?null:this._background,e.cachedCanvases);return s!==On.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class G3 extends l0{getPattern(){return"hotpink"}}function V3(r){switch(r[0]){case"RadialAxial":return new j3(r);case"Mesh":return new H3(r);case"Dummy":return new G3}throw new Error(`Unknown IR type: ${r[0]}`)}const Y_={COLORED:1,UNCOLORED:2};class c0{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=s}createPatternCanvas(t,e){const{bbox:n,operatorList:s,paintType:a,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:d}=this;f=Math.abs(f),d=Math.abs(d),xh("TilingType: "+l);const p=n[0],g=n[1],y=n[2],E=n[3],b=y-p,_=E-g,v=new Float32Array(2);Ht.singularValueDecompose2dScale(this.matrix,v);const[S,x]=v;Ht.singularValueDecompose2dScale(this.baseTransform,v);const T=S*v[0],C=x*v[1];let M=b,L=_,z=!1,k=!1;const rt=Math.ceil(f*T),ht=Math.ceil(d*C),U=Math.ceil(b*T),dt=Math.ceil(_*C);rt>=U?M=f:z=!0,ht>=dt?L=d:k=!0;const j=this.getSizeAndScale(M,this.ctx.canvas.width,T),yt=this.getSizeAndScale(L,this.ctx.canvas.height,C),et=t.cachedCanvases.getCanvas("pattern",j.size,yt.size),Q=et.context,ft=h.createCanvasGraphics(Q,e);if(ft.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(ft,a,c),Q.translate(-j.scale*p,-yt.scale*g),ft.transform(0,j.scale,0,0,yt.scale,0,0),Q.save(),ft.dependencyTracker?.save(),this.clipBbox(ft,p,g,y,E),ft.baseTransform=Xe(ft.ctx),ft.executeOperatorList(s),ft.endDrawing(),ft.dependencyTracker?.restore(),Q.restore(),z||k){const vt=et.canvas;z&&(M=f),k&&(L=d);const It=this.getSizeAndScale(M,this.ctx.canvas.width,T),H=this.getSizeAndScale(L,this.ctx.canvas.height,C),Z=It.size,K=H.size,st=t.cachedCanvases.getCanvas("pattern-workaround",Z,K),ut=st.context,ct=z?Math.floor(b/f):0,N=k?Math.floor(_/d):0;for(let D=0;D<=ct;D++)for(let ot=0;ot<=N;ot++)ut.drawImage(vt,Z*D,K*ot,Z,K,0,0,Z,K);return{canvas:st.canvas,scaleX:It.scale,scaleY:H.scale,offsetX:p,offsetY:g}}return{canvas:et.canvas,scaleX:j.scale,scaleY:yt.scale,offsetX:p,offsetY:g}}getSizeAndScale(t,e,n){const s=Math.max(c0.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*n);return a>=s?a=s:n=a/t,{scale:n,size:a}}clipBbox(t,e,n,s,a){const l=s-e,c=a-n;t.ctx.rect(e,n,l,c),Ht.axialAlignedBoundingBox([e,n,s,a],Xe(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,a=t.current;switch(e){case Y_.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;s.fillStyle=a.fillColor=l,s.strokeStyle=a.strokeColor=c;break;case Y_.UNCOLORED:s.fillStyle=s.strokeStyle=n,a.fillColor=a.strokeColor=n;break;default:throw new n3(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,s,a){let l=n;s!==On.SHADING&&(l=Ht.transform(l,e.baseTransform),this.matrix&&(l=Ht.transform(l,this.matrix)));const c=this.createPatternCanvas(e,a);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(h),f}}function q3({src:r,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=yn.isLittleEndian?4278190080:255,[h,f]=l?[a,c]:[c,a],d=n>>3,p=n&7,g=r.length;e=new Uint32Array(e.buffer);let y=0;for(let E=0;E<s;E++){for(const _=t+d;t<_;t++){const v=t<g?r[t]:255;e[y++]=v&128?f:h,e[y++]=v&64?f:h,e[y++]=v&32?f:h,e[y++]=v&16?f:h,e[y++]=v&8?f:h,e[y++]=v&4?f:h,e[y++]=v&2?f:h,e[y++]=v&1?f:h}if(p===0)continue;const b=t<g?r[t++]:255;for(let _=0;_<p;_++)e[y++]=b&1<<7-_?f:h}return{srcPos:t,destPos:y}}const $_=16,W_=100,Y3=15,X_=10,Kn=16,Vm=new DOMMatrix,ai=new Float32Array(2),Xa=new Float32Array([1/0,1/0,-1/0,-1/0]);function $3(r,t){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){t.save(),this.__originalSave()},r.restore=function(){t.restore(),this.__originalRestore()},r.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},r.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},r.transform=function(e,n,s,a,l,c){t.transform(e,n,s,a,l,c),this.__originalTransform(e,n,s,a,l,c)},r.setTransform=function(e,n,s,a,l,c){t.setTransform(e,n,s,a,l,c),this.__originalSetTransform(e,n,s,a,l,c)},r.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},r.rotate=function(e){t.rotate(e),this.__originalRotate(e)},r.clip=function(e){t.clip(e),this.__originalClip(e)},r.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},r.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},r.bezierCurveTo=function(e,n,s,a,l,c){t.bezierCurveTo(e,n,s,a,l,c),this.__originalBezierCurveTo(e,n,s,a,l,c)},r.rect=function(e,n,s,a){t.rect(e,n,s,a),this.__originalRect(e,n,s,a)},r.closePath=function(){t.closePath(),this.__originalClosePath()},r.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class W3{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Du(r,t,e,n,s,a,l,c,h,f){const[d,p,g,y,E,b]=Xe(r);if(p===0&&g===0){const S=l*d+E,x=Math.round(S),T=c*y+b,C=Math.round(T),M=(l+h)*d+E,L=Math.abs(Math.round(M)-x)||1,z=(c+f)*y+b,k=Math.abs(Math.round(z)-C)||1;return r.setTransform(Math.sign(d),0,0,Math.sign(y),x,C),r.drawImage(t,e,n,s,a,0,0,L,k),r.setTransform(d,p,g,y,E,b),[L,k]}if(d===0&&y===0){const S=c*g+E,x=Math.round(S),T=l*p+b,C=Math.round(T),M=(c+f)*g+E,L=Math.abs(Math.round(M)-x)||1,z=(l+h)*p+b,k=Math.abs(Math.round(z)-C)||1;return r.setTransform(0,Math.sign(p),Math.sign(g),0,x,C),r.drawImage(t,e,n,s,a,0,0,k,L),r.setTransform(d,p,g,y,E,b),[k,L]}r.drawImage(t,e,n,s,a,l,c,h,f);const _=Math.hypot(d,p),v=Math.hypot(g,y);return[_*h,v*f]}class K_{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=pg;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=mn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Xa.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=On.FILL,e=null){const n=this.minMax.slice();if(t===On.STROKE){e||Be("Stroke bounding box must include transform."),Ht.singularValueDecompose2dScale(e,ai);const s=ai[0]*this.lineWidth/2,a=ai[1]*this.lineWidth/2;n[0]-=s,n[1]-=a,n[2]+=s,n[3]+=a}return n}updateClipFromPath(){const t=Ht.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Xa,0)}getClippedPathBoundingBox(t=On.FILL,e=null){return Ht.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Z_(r,t){if(t instanceof ImageData){r.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%Kn,a=(e-s)/Kn,l=s===0?a:a+1,c=r.createImageData(n,Kn);let h=0,f;const d=t.data,p=c.data;let g,y,E,b;if(t.kind===$u.GRAYSCALE_1BPP){const _=d.byteLength,v=new Uint32Array(p.buffer,0,p.byteLength>>2),S=v.length,x=n+7>>3,T=4294967295,C=yn.isLittleEndian?4278190080:255;for(g=0;g<l;g++){for(E=g<a?Kn:s,f=0,y=0;y<E;y++){const M=_-h;let L=0;const z=M>x?n:M*8-7,k=z&-8;let rt=0,ht=0;for(;L<k;L+=8)ht=d[h++],v[f++]=ht&128?T:C,v[f++]=ht&64?T:C,v[f++]=ht&32?T:C,v[f++]=ht&16?T:C,v[f++]=ht&8?T:C,v[f++]=ht&4?T:C,v[f++]=ht&2?T:C,v[f++]=ht&1?T:C;for(;L<z;L++)rt===0&&(ht=d[h++],rt=128),v[f++]=ht&rt?T:C,rt>>=1}for(;f<S;)v[f++]=0;r.putImageData(c,0,g*Kn)}}else if(t.kind===$u.RGBA_32BPP){for(y=0,b=n*Kn*4,g=0;g<a;g++)p.set(d.subarray(h,h+b)),h+=b,r.putImageData(c,0,y),y+=Kn;g<l&&(b=n*s*4,p.set(d.subarray(h,h+b)),r.putImageData(c,0,y))}else if(t.kind===$u.RGB_24BPP)for(E=Kn,b=n*E,g=0;g<l;g++){for(g>=a&&(E=s,b=n*E),f=0,y=b;y--;)p[f++]=d[h++],p[f++]=d[h++],p[f++]=d[h++],p[f++]=255;r.putImageData(c,0,g*Kn)}else throw new Error(`bad image kind: ${t.kind}`)}function Q_(r,t){if(t.bitmap){r.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%Kn,a=(e-s)/Kn,l=s===0?a:a+1,c=r.createImageData(n,Kn);let h=0;const f=t.data,d=c.data;for(let p=0;p<l;p++){const g=p<a?Kn:s;({srcPos:h}=q3({src:f,srcPos:h,dest:d,width:n,height:g,nonBlackColor:0})),r.putImageData(c,0,p*Kn)}}function bl(r,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)r[n]!==void 0&&(t[n]=r[n]);r.setLineDash!==void 0&&(t.setLineDash(r.getLineDash()),t.lineDashOffset=r.lineDashOffset)}function Iu(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:t}=r;t!=="none"&&t!==""&&(r.filter="none")}function J_(r,t){if(t)return!0;Ht.singularValueDecompose2dScale(r,ai);const e=Math.fround(er.pixelRatio*uo.PDF_TO_CSS_UNITS);return ai[0]<=e&&ai[1]<=e}const X3=["butt","round","square"],K3=["miter","round","bevel"],Z3={},tE={};class io{constructor(t,e,n,s,a,{optionalContentConfig:l,markedContentStack:c=null},h,f,d){this.ctx=t,this.current=new K_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new W3(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Xe(this.compositeCtx))}this.ctx.save(),Iu(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Xe(this.ctx)}executeOperatorList(t,e,n,s,a){const l=t.argsArray,c=t.fnArray;let h=e||0;const f=l.length;if(f===h)return h;const d=f-h>X_&&typeof n=="function",p=d?Date.now()+Y3:0;let g=0;const y=this.commonObjs,E=this.objs;let b,_;for(;;){if(s!==void 0&&h===s.nextBreakPoint)return s.breakIt(h,n),h;if(!a||a(h))if(b=c[h],_=l[h]??null,b!==Il.dependency)_===null?this[b](h):this[b](h,..._);else for(const v of _){this.dependencyTracker?.recordNamedData(v,h);const S=v.startsWith("g_")?y:E;if(!S.has(v))return S.get(v,n),h}if(h++,h===f)return h;if(d&&++g>X_){if(Date.now()>p)return n(),h;g=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,s=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=n,h=s,f="prescale1",d,p;for(;a>2&&c>1||l>2&&h>1;){let g=c,y=h;a>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/g),l>2&&h>1&&(y=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/y),d=this.cachedCanvases.getCanvas(f,g,y),p=d.context,p.clearRect(0,0,g,y),p.drawImage(t,0,0,c,h,0,0,g,y),t=d.canvas,c=g,h=y,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:h}}_createMaskCanvas(t,e){const n=this.ctx,{width:s,height:a}=e,l=this.current.fillColor,c=this.current.patternFill,h=Xe(n);let f,d,p,g;if((e.bitmap||e.data)&&e.count>1){const rt=e.bitmap||e.data.buffer;d=JSON.stringify(c?h:[h.slice(0,4),l]),f=this._cachedBitmapsMap.get(rt),f||(f=new Map,this._cachedBitmapsMap.set(rt,f));const ht=f.get(d);if(ht&&!c){const U=Math.round(Math.min(h[0],h[2])+h[4]),dt=Math.round(Math.min(h[1],h[3])+h[5]);return this.dependencyTracker?.recordDependencies(t,_i.transformAndFill),{canvas:ht,offsetX:U,offsetY:dt}}p=ht}p||(g=this.cachedCanvases.getCanvas("maskCanvas",s,a),Q_(g.context,e));let y=Ht.transform(h,[1/s,0,0,-1/a,0,0]);y=Ht.transform(y,[1,0,0,1,0,-a]);const E=Xa.slice();Ht.axialAlignedBoundingBox([0,0,s,a],y,E);const[b,_,v,S]=E,x=Math.round(v-b)||1,T=Math.round(S-_)||1,C=this.cachedCanvases.getCanvas("fillCanvas",x,T),M=C.context,L=b,z=_;M.translate(-L,-z),M.transform(...y),p||(p=this._scaleImage(g.canvas,qi(M)),p=p.img,f&&c&&f.set(d,p)),M.imageSmoothingEnabled=J_(Xe(M),e.interpolate),Du(M,p,0,0,p.width,p.height,0,0,s,a),M.globalCompositeOperation="source-in";const k=Ht.transform(qi(M),[1,0,0,1,-L,-z]);return M.fillStyle=c?l.getPattern(n,this,k,On.FILL,t):l,M.fillRect(0,0,s,a),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(d,C.canvas)),this.dependencyTracker?.recordDependencies(t,_i.transformAndFill),{canvas:C.canvas,offsetX:Math.round(L),offsetY:Math.round(z)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=X3[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=K3[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,s]of e)switch(n){case"LW":this.setLineWidth(t,s);break;case"LC":this.setLineCap(t,s);break;case"LJ":this.setLineJoin(t,s);break;case"ML":this.setMiterLimit(t,s);break;case"D":this.setDash(t,s[0],s[1]);break;case"RI":this.setRenderingIntent(t,s);break;case"FL":this.setFlatness(t,s);break;case"Font":this.setFont(t,s[0],s[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=s;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=s;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(s,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=a.context;l.setTransform(this.suspendedCtx.getTransform()),bl(this.suspendedCtx,l),$3(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),bl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const a=s[0],l=s[1],c=s[2]-a,h=s[3]-l;c===0||h===0||(this.genericComposeSMask(e.context,n,c,h,e.subtype,e.backdrop,e.transferMap,a,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,a,l,c,h,f,d,p){let g=t.canvas,y=h-d,E=f-p;if(l)if(y<0||E<0||y+n>g.width||E+s>g.height){const _=this.cachedCanvases.getCanvas("maskExtension",n,s),v=_.context;v.drawImage(g,-y,-E),v.globalCompositeOperation="destination-atop",v.fillStyle=l,v.fillRect(0,0,n,s),v.globalCompositeOperation="source-over",g=_.canvas,y=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(y,E,n,s),t.clip(_),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(y,E,n,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const b=new Path2D;b.rect(h,f,n,s),e.clip(b),e.globalCompositeOperation="destination-in",e.drawImage(g,y,E,n,s,h,f,n,s),e.restore()}save(t){this.inSMaskMode&&bl(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&bl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,s,a,l,c){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,s,a,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,s){let[a]=n;if(!s){a||=n[0]=new Path2D,this[e](t,a);return}if(this.dependencyTracker!==null){const l=e===Il.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,s[0]-l,s[2]+l,s[1]-l,s[3]+l).recordDependencies(t,["transform"])}a instanceof Path2D||(a=n[0]=px(a)),Ht.axialAlignedBoundingBox(s,Xe(this.ctx),this.current.minMax),this[e](t,a),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const s=this.ctx,a=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const l=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=a.getPattern(s,this,qi(s),On.STROKE,t),l){const c=new Path2D;c.addPath(e,s.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,_i.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(On.STROKE,Xe(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const s=this.ctx,a=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const f=a.isModifyingCurrentTransform()?s.getTransform():null;if(this.dependencyTracker?.save(t),s.save(),s.fillStyle=a.getPattern(s,this,qi(s),On.FILL,t),f){const d=new Path2D;d.addPath(e,s.getTransform().invertSelf().multiplySelf(f)),e=d}c=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),this.dependencyTracker?.recordDependencies(t,_i.fill),c&&(s.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,h)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,_i.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=Z3}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=tE}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;e!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",t),s.recordCloseMarker(t)}if(e!==void 0){const s=new Path2D,a=n.getTransform().invertSelf();for(const{transform:l,x:c,y:h,fontSize:f,path:d}of e)d&&s.addPath(d,new DOMMatrix(l).preMultiplySelf(a).translate(c,h).scale(f,-f));n.clip(s)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const s=this.commonObjs.get(e),a=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(a.fontMatrix=s.fontMatrix||pg,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&ie("Invalid font matrix for font "+e),n<0?(n=-n,a.fontDirection=-1):a.fontDirection=1,this.current.font=s,this.current.fontSize=n,s.isType3Font)return;const l=s.loadedName||"sans-serif",c=s.systemFontInfo?.css||`"${l}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const f=s.italic?"italic":"normal";let d=n;n<$_?d=$_:n>W_&&(d=W_),this.current.fontSizeScale=n/d,this.ctx.font=`${f} ${h} ${d}px ${c}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const s=new Path2D;return s.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),s}paintChar(t,e,n,s,a,l){const c=this.ctx,h=this.current,f=h.font,d=h.textRenderingMode,p=h.fontSize/h.fontSizeScale,g=d&mn.FILL_STROKE_MASK,y=!!(d&mn.ADD_TO_PATH_FLAG),E=h.patternFill&&!f.missingFile,b=h.patternStroke&&!f.missingFile;let _;if((f.disableFontFace||y||E||b)&&!f.missingFile&&(_=f.getPathGenerator(this.commonObjs,e)),_&&(f.disableFontFace||E||b)){c.save(),c.translate(n,s),c.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(t,c,f);let v;if(g===mn.FILL||g===mn.FILL_STROKE)if(a){v=c.getTransform(),c.setTransform(...a);const S=this.#i(_,v,a);c.fill(S)}else c.fill(_);if(g===mn.STROKE||g===mn.FILL_STROKE)if(l){v||=c.getTransform(),c.setTransform(...l);const{a:S,b:x,c:T,d:C}=v,M=Ht.inverseTransform(l),L=Ht.transform([S,x,T,C,0,0],M);Ht.singularValueDecompose2dScale(L,ai),c.lineWidth*=Math.max(ai[0],ai[1])/p,c.stroke(this.#i(_,v,l))}else c.lineWidth/=p,c.stroke(_);c.restore()}else(g===mn.FILL||g===mn.FILL_STROKE)&&(c.fillText(e,n,s),this.dependencyTracker?.recordCharacterBBox(t,c,f,p,n,s,()=>c.measureText(e))),(g===mn.STROKE||g===mn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,c,f,p,n,s,()=>c.measureText(e)).recordDependencies(t,_i.stroke),c.strokeText(e,n,s));y&&((this.pendingTextPaths||=[]).push({transform:Xe(c),x:n,y:s,fontSize:p,path:_}),this.dependencyTracker?.recordCharacterBBox(t,c,f,p,n,s))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return re(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,_i.showText).resetBBox(t),this.current.textRenderingMode&mn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,s=n.font;if(s.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const a=n.fontSize;if(a===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,c=n.fontSizeScale,h=n.charSpacing,f=n.wordSpacing,d=n.fontDirection,p=n.textHScale*d,g=e.length,y=s.vertical,E=y?1:-1,b=s.defaultVMetrics,_=a*n.fontMatrix[0],v=n.textRenderingMode===mn.FILL&&!s.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),d>0?l.scale(p,-1):l.scale(p,1);let S,x;const T=n.textRenderingMode&mn.FILL_STROKE_MASK,C=T===mn.FILL||T===mn.FILL_STROKE,M=T===mn.STROKE||T===mn.FILL_STROKE;if(C&&n.patternFill){l.save();const ht=n.fillColor.getPattern(l,this,qi(l),On.FILL,t);S=Xe(l),l.restore(),l.fillStyle=ht}if(M&&n.patternStroke){l.save();const ht=n.strokeColor.getPattern(l,this,qi(l),On.STROKE,t);x=Xe(l),l.restore(),l.strokeStyle=ht}let L=n.lineWidth;const z=n.textMatrixScale;if(z===0||L===0?M&&(L=this.getSinglePixelWidth()):L/=z,c!==1&&(l.scale(c,c),L/=c),l.lineWidth=L,s.isInvalidPDFjsFont){const ht=[];let U=0;for(const j of e)ht.push(j.unicode),U+=j.width;const dt=ht.join("");if(l.fillText(dt,0,0),this.dependencyTracker!==null){const j=l.measureText(dt);this.dependencyTracker.recordBBox(t,this.ctx,-j.actualBoundingBoxLeft,j.actualBoundingBoxRight,-j.actualBoundingBoxAscent,j.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=U*_*p,l.restore(),this.compose();return}let k=0,rt;for(rt=0;rt<g;++rt){const ht=e[rt];if(typeof ht=="number"){k+=E*ht*a/1e3;continue}let U=!1;const dt=(ht.isSpace?f:0)+h,j=ht.fontChar,yt=ht.accent;let et,Q,ft=ht.width;if(y){const H=ht.vmetric||b,Z=-(ht.vmetric?H[1]:ft*.5)*_,K=H[2]*_;ft=H?-H[0]:ft,et=Z/c,Q=(k+K)/c}else et=k/c,Q=0;let vt;if(s.remeasure&&ft>0){vt=l.measureText(j);const H=vt.width*1e3/a*c;if(ft<H&&this.isFontSubpixelAAEnabled){const Z=ft/H;U=!0,l.save(),l.scale(Z,1),et/=Z}else ft!==H&&(et+=(ft-H)/2e3*a/c)}if(this.contentVisible&&(ht.isInFont||s.missingFile)){if(v&&!yt)l.fillText(j,et,Q),this.dependencyTracker?.recordCharacterBBox(t,l,vt?{bbox:null}:s,a/c,et,Q,()=>vt??l.measureText(j));else if(this.paintChar(t,j,et,Q,S,x),yt){const H=et+a*yt.offset.x/c,Z=Q-a*yt.offset.y/c;this.paintChar(t,yt.fontChar,H,Z,S,x)}}const It=y?ft*_-dt*d:ft*_+dt*d;k+=It,U&&l.restore()}y?n.y-=k:n.x+=k*p,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,s=this.current,a=s.font,l=s.fontSize,c=s.fontDirection,h=a.vertical?1:-1,f=s.charSpacing,d=s.wordSpacing,p=s.textHScale*c,g=s.fontMatrix||pg,y=e.length,E=s.textRenderingMode===mn.INVISIBLE;let b,_,v,S;if(E||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),s.textMatrix&&n.transform(...s.textMatrix),n.translate(s.x,s.y+s.textRise),n.scale(p,c);const x=this.dependencyTracker;for(this.dependencyTracker=x?new rh(x,t):null,b=0;b<y;++b){if(_=e[b],typeof _=="number"){S=h*_*l/1e3,this.ctx.translate(S,0),s.x+=S*p;continue}const T=(_.isSpace?d:0)+f,C=a.charProcOperatorList[_.operatorListId];C?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...g),this.executeOperatorList(C),this.restore()):ie(`Type3 character "${_.operatorListId}" is not available.`);const M=[_.width,0];Ht.applyTransform(M,g),v=M[0]*l+T,n.translate(v,0),s.x+=v*p}n.restore(),x&&(this.dependencyTracker=x)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,s,a,l,c){const h=new Path2D;h.rect(s,a,l-s,c-a),this.ctx.clip(h),this.dependencyTracker?.recordBBox(t,this.ctx,s,l,a,c).recordClipBox(t,this.ctx,s,l,a,c),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const s=this.baseTransform||Xe(this.ctx),a={createCanvasGraphics:(l,c)=>new io(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new rh(this.dependencyTracker,c,!0):null)};n=new c0(e,this.ctx,a,s)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=V3(this.getObject(t,e)),this.cachedPatterns.set(e,s)),n&&(s.matrix=n),s}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const s=this._getPattern(t,e);n.fillStyle=s.getPattern(n,this,qi(n),On.SHADING,t);const a=qi(n);if(a){const{width:l,height:c}=n.canvas,h=Xa.slice();Ht.axialAlignedBoundingBox([0,0,l,c],a,h);const[f,d,p,g]=h;this.ctx.fillRect(f,d,p-f,g-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,_i.transform).recordDependencies(t,_i.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Be("Should not call beginInlineImage")}beginImageData(){Be("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Xe(this.ctx),n)){Ht.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[s,a,l,c]=n,h=new Path2D;h.rect(s,a,l-s,c-a),this.ctx.clip(h),this.dependencyTracker?.recordClipBox(t,this.ctx,s,l,a,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||xh("TODO: Support non-isolated groups."),e.knockout&&ie("Knockout groups not supported.");const s=Xe(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=Xa.slice();Ht.axialAlignedBoundingBox(e.bbox,Xe(n),a);const l=[0,0,n.canvas.width,n.canvas.height];a=Ht.intersect(a,l)||[0,0,0,0];const c=Math.floor(a[0]),h=Math.floor(a[1]),f=Math.max(Math.ceil(a[2])-c,1),d=Math.max(Math.ceil(a[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,d]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,f,d),y=g.context;y.translate(-c,-h),y.transform(...s);let E=new Path2D;const[b,_,v,S]=e.bbox;if(E.rect(b,_,v-b,S-_),e.matrix){const x=new Path2D;x.addPath(E,new DOMMatrix(e.matrix)),E=x}y.clip(E),e.smask&&this.smaskStack.push({canvas:g.canvas,context:y,offsetX:c,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(c,h),n.save()),bl(n,y),this.ctx=y,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Xe(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...a);const l=Xa.slice();Ht.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],a,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,s,a,l){if(this.#t(),Iu(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const c=n[2]-n[0],h=n[3]-n[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=n[0],s[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=c,n[3]=h,Ht.singularValueDecompose2dScale(Xe(this.ctx),ai);const{viewportScale:f}=this,d=Math.ceil(c*this.outputScaleX*f),p=Math.ceil(h*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(d,p);const{canvas:g,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(ai[0],0,0,-ai[1],0,h*ai[1]),Iu(this.ctx)}else{Iu(this.ctx),this.endPath(t);const f=new Path2D;f.rect(n[0],n[1],c,h),this.ctx.clip(f)}}this.current=new K_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...s),this.transform(t,...a)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const s=this.ctx,a=this._createMaskCanvas(t,e),l=a.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(l,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,a.offsetX,a.offsetX+l.width,a.offsetY,a.offsetY+l.height).recordOperation(t),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,s=0,a=0,l,c){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const h=this.ctx;h.save();const f=Xe(h);h.transform(n,s,a,l,0,0);const d=this._createMaskCanvas(t,e);h.setTransform(1,0,0,1,d.offsetX-f[4],d.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let p=0,g=c.length;p<g;p+=2){const y=Ht.transform(f,[n,s,a,l,c[p],c[p+1]]);h.drawImage(d.canvas,y[4],y[5]),this.dependencyTracker?.recordBBox(t,this.ctx,y[4],y[4]+d.canvas.width,y[5],y[5]+d.canvas.height)}h.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,s=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,_i.transformAndFill);for(const l of e){const{data:c,width:h,height:f,transform:d}=l,p=this.cachedCanvases.getCanvas("maskCanvas",h,f),g=p.context;g.save();const y=this.getObject(t,c,l);Q_(g,y),g.globalCompositeOperation="source-in",g.fillStyle=a?s.getPattern(g,this,qi(n),On.FILL,t):s,g.fillRect(0,0,h,f),g.restore(),n.save(),n.transform(...d),n.scale(1,-1),Du(n,p.canvas,0,0,h,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,h,0,f),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){ie("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,s,a){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){ie("Dependent image isn't ready yet");return}const c=l.width,h=l.height,f=[];for(let d=0,p=a.length;d<p;d+=2)f.push({transform:[n,0,0,s,a[d],a[d+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,a=this.cachedCanvases.getCanvas("inlineImage",n,s),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",a.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,s=e.height,a=this.ctx;this.save(t);const{filter:l}=a;l!=="none"&&l!==""&&(a.filter="none"),a.scale(1/n,-1/s);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,s).context;Z_(d,e),c=this.applyTransferMapsToCanvas(d)}const h=this._scaleImage(c,qi(a));a.imageSmoothingEnabled=J_(Xe(a),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,a,0,n,-s,0).recordDependencies(t,_i.imageXObject).recordOperation(t),Du(a,h.img,0,0,h.paintWidth,h.paintHeight,0,-s,n,s),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const s=this.ctx;let a;if(e.bitmap)a=e.bitmap;else{const l=e.width,c=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;Z_(f,e),a=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of n)s.save(),s.transform(...l.transform),s.scale(1,-1),Du(s,a,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,s,0,1,-1,0),s.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,_i.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const a=this.ctx;this.pendingClip?(s||(this.pendingClip===tE?a.clip(e,"evenodd"):a.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Xe(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:a}=this.ctx.getTransform();let l,c;if(n===0&&s===0){const h=Math.abs(e),f=Math.abs(a);if(h===f)if(t===0)l=c=1/h;else{const d=h*t;l=c=d<1?1/d:1}else if(t===0)l=1/h,c=1/f;else{const d=h*t,p=f*t;l=d<1?1/d:1,c=p<1?1/p:1}}else{const h=Math.abs(e*a-n*s),f=Math.hypot(e,n),d=Math.hypot(s,a);if(t===0)l=d/h,c=f/h;else{const p=t*h;l=d>p?d/p:1,c=f>p?f/p:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:s}}=this,[a,l]=this.getScaleForStroking();if(a===l){n.lineWidth=(s||1)*a,n.stroke(t);return}const c=n.getLineDash();e&&n.save(),n.scale(a,l),Vm.a=1/a,Vm.d=1/l;const h=new Path2D;if(h.addPath(t,Vm),c.length>0){const f=Math.max(a,l);n.setLineDash(c.map(d=>d/f)),n.lineDashOffset/=f}n.lineWidth=s||1,n.stroke(h),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const r in Il)io.prototype[r]!==void 0&&(io.prototype[Il[r]]=io.prototype[r]);class ro{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class Q3{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Va=Symbol("INTERNAL");class J3{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:s,rbGroups:a}){this.#t=!!(t&ri.DISPLAY),this.#e=!!(t&ri.PRINT),this.name=e,this.intent=n,this.usage=s,this.rbGroups=a}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Va&&Be("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class tL{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=ri.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new J3(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(Va,!1);for(const n of t.on)this.#e.get(n)._setVisible(Va,!0);for(const n of t.off)this.#e.get(n)._setVisible(Va,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const a=t[s];let l;if(Array.isArray(a))l=this.#a(a);else if(this.#e.has(a))l=this.#e.get(a).visible;else return ie(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return xh("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(ie(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return ie(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return ie(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return ie(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return ie(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return ie(`Unknown optional content policy ${t.policy}.`),!0}return ie(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const s=this.#e.get(t);if(!s){ie(`Optional content group not found: ${t}`);return}if(n&&e&&s.rbGroups.length)for(const a of s.rbGroups)for(const l of a)l!==t&&this.#e.get(l)?._setVisible(Va,!1,!0);s._setVisible(Va,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const a=this.#e.get(s);if(a)switch(n){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!a.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new gx;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class eL{constructor(t,{disableRange:e=!1,disableStream:n=!1}){be(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,a?.length>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,f)=>{this._onReceiveData({begin:h,chunk:f})}),t.addProgressListener((h,f)=>{this._onProgress({loaded:h,total:f})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(n),!0)});be(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){be(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new nL(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new iL(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class nL{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=i0(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class iL{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function rL(r){let t=!0,e=n("filename\\*","i").exec(r);if(e){e=e[1];let d=c(e);return d=unescape(d),d=h(d),d=f(d),a(d)}if(e=l(r),e){const d=f(e);return a(d)}if(e=n("filename","i").exec(r),e){e=e[1];let d=c(e);return d=f(d),a(d)}function n(d,p){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function s(d,p){if(d){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(d,{fatal:!0}),y=$l(p);p=g.decode(y),t=!1}catch{}}return p}function a(d){return t&&/[\x80-\xff]/.test(d)&&(d=s("utf-8",d),t&&(d=s("iso-8859-1",d))),d}function l(d){const p=[];let g;const y=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=y.exec(d))!==null;){let[,b,_,v]=g;if(b=parseInt(b,10),b in p){if(b===0)break;continue}p[b]=[_,v]}const E=[];for(let b=0;b<p.length&&b in p;++b){let[_,v]=p[b];v=c(v),_&&(v=unescape(v),b===0&&(v=h(v))),E.push(v)}return E.join("")}function c(d){if(d.startsWith('"')){const p=d.slice(1).split('\\"');for(let g=0;g<p.length;++g){const y=p[g].indexOf('"');y!==-1&&(p[g]=p[g].slice(0,y),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}d=p.join('"')}return d}function h(d){const p=d.indexOf("'");if(p===-1)return d;const g=d.slice(0,p),E=d.slice(p+1).replace(/^[^']*'/,"");return s(g,E)}function f(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,y,E){if(y==="q"||y==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,_){return String.fromCharCode(parseInt(_,16))}),s(g,E);try{E=atob(E)}catch{}return s(g,E)})}return""}function Ax(r,t){const e=new Headers;if(!r||!t||typeof t!="object")return e;for(const n in t){const s=t[n];s!==void 0&&e.append(n,s)}return e}function Rh(r){return URL.parse(r)?.origin??null}function Sx({responseHeaders:r,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(r.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*e)||n||!t||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function xx(r){const t=r.get("Content-Disposition");if(t){let e=rL(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(i0(e))return e}return null}function Ql(r,t){return new ih(`Unexpected server response (${r}) while retrieving PDF "${t}".`,r,r===404||r===0&&t.startsWith("file:"))}function Tx(r){return r===200||r===206}function Cx(r,t,e){return{method:"GET",headers:r,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Rx(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(ie(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class sL{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Ax(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return be(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new aL(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new oL(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class aL{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),s=e.url;fetch(s,Cx(n,this._withCredentials,this._abortController)).then(a=>{if(t._responseOrigin=Rh(a.url),!Tx(a.status))throw Ql(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:c,suggestedLength:h}=Sx({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=xx(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new hs("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Rx(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class oL{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${n-1}`);const l=s.url;fetch(l,Cx(a,this._withCredentials,this._abortController)).then(c=>{const h=Rh(c.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!Tx(c.status))throw Ql(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Rx(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const qm=200,Ym=206;function lL(r){const t=r.response;return typeof t!="string"?t:$l(t).buffer}class cL{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Ax(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,l]of this.headers)e.setRequestHeader(a,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=Ym):s.expectedStatus=qm,e.responseType="arraybuffer",be(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){n.onError(s.status);return}const a=s.status||qm;if(!(a===qm&&n.expectedStatus===Ym)&&a!==n.expectedStatus){n.onError(s.status);return}const c=lL(s);if(a===Ym){const h=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);f?n.onDone({begin:parseInt(f[1],10),chunk:c}):(ie('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class uL{constructor(t){this._source=t,this._manager=new cL(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return be(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new hL(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new fL(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class hL{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Rh(e.responseURL);const n=e.getAllResponseHeaders(),s=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[h,...f]=c.split(": ");return[h,f.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:l}=Sx({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=xx(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ql(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class fL{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Rh(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Ql(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const dL=/^[a-z][a-z0-9\-+.]+:/i;function pL(r){if(dL.test(r))return new URL(r);const t=Qt.getBuiltinModule("url");return new URL(t.pathToFileURL(r))}class mL{constructor(t){this.source=t,this.url=pL(t.url),be(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return be(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new gL(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new yL(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class gL{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=Qt.getBuiltinModule("fs");n.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=Ql(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new hs("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class yL{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const a=Qt.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const vl=Symbol("INITIAL_DATA");class Ox{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:vl}}get(t,e=null){if(e){const s=this.#e(t);return s.promise.then(()=>e(s.data)),null}const n=this.#t[t];if(!n||n.data===vl)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==vl}delete(t){const e=this.#t[t];return!e||e.data===vl?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==vl&&(yield[t,e])}}}const bL=1e5,eE=30;class si{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#c=null;#l=null;#f=0;#h=0;#d=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#x=new WeakMap;static#A=null;static#_=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#m=t;else if(typeof t=="object")this.#m=new ReadableStream({start(h){h.enqueue(t),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*er.pixelRatio,this.#f=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:a,pageX:l,pageY:c}=n.rawDims;this.#y=[1,0,0,-1,-l,c+a],this.#o=s,this.#r=a,si.#O(),e.style.setProperty("--min-font-size",si.#A),Gs(e,n),this.#t.promise.finally(()=>{si.#_.delete(this),this.#s=null,this.#d=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=yn.platform;return re(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#d,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#c=this.#m.getReader(),si.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*er.pixelRatio,s=t.rotation;if(s!==this.#f&&(e?.(),this.#f=s,Gs(this.#l,{rotation:s})),n!==this.#h){e?.(),this.#h=n;const a={div:null,properties:null,ctx:si.#N(this.#a)};for(const l of this.#u)a.properties=this.#p.get(l),a.div=l,this.#S(a)}}cancel(){const t=new hs("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#C(t){if(this.#i)return;this.#s.ctx??=si.#N(this.#a);const e=this.#u,n=this.#g;for(const s of t){if(e.length>bL){ie("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const a=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),s.id&&this.#e.setAttribute("id",`${s.id}`),a.append(this.#e)}else s.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(s.str),this.#w(s)}}#w(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const s=Ht.transform(this.#y,t.transform);let a=Math.atan2(s[1],s[0]);const l=this.#d[t.fontName];l.vertical&&(a+=Math.PI/2);let c=this.#n&&l.fontSubstitution||l.fontFamily;c=si.fontFamilyMap.get(c)||c;const h=Math.hypot(s[2],s[3]),f=h*si.#B(c,l,this.#a);let d,p;a===0?(d=s[4],p=s[5]-f):(d=s[4]+f*Math.sin(a),p=s[5]-f*Math.cos(a));const g=e.style;g.left=`${(100*d/this.#o).toFixed(2)}%`,g.top=`${(100*p/this.#r).toFixed(2)}%`,g.setProperty("--font-height",`${h.toFixed(2)}px`),g.fontFamily=c,n.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),a!==0&&(n.angle=a*(180/Math.PI));let y=!1;if(t.str.length>1)y=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const E=Math.abs(t.transform[0]),b=Math.abs(t.transform[3]);E!==b&&Math.max(E,b)/Math.min(E,b)>1.5&&(y=!0)}if(y&&(n.canvasWidth=l.vertical?t.height:t.width),this.#p.set(e,n),this.#s.div=e,this.#s.properties=n,this.#S(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),this.#e.append(E)}}#S(t){const{div:e,properties:n,ctx:s}=t,{style:a}=e;if(n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:h}=n;si.#R(s,h*this.#h,l);const{width:f}=s.measureText(e.textContent);f>0&&a.setProperty("--scale-x",c*this.#h/f)}n.angle!==0&&a.setProperty("--rotate",`${n.angle}deg`)}static cleanup(){if(!(this.#_.size>0)){this.#v.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#N(t=null){let e=this.#b.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,e),this.#x.set(e,{size:0,family:""})}return e}static#R(t,e,n){const s=this.#x.get(t);e===s.size&&n===s.family||(t.font=`${e}px ${n}`,s.size=e,s.family=n)}static#O(){if(this.#A!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#A=t.getBoundingClientRect().height,t.remove()}static#B(t,e,n){const s=this.#v.get(t);if(s)return s;const a=this.#N(n);a.canvas.width=a.canvas.height=eE,this.#R(a,eE,t);const l=a.measureText(""),c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let f=.8;return c?f=c/(c+h):(yn.platform.isFirefox&&ie("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#v.set(t,f),f}}const vL=100;function Nx(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const t=new u0,{docId:e}=t,n=r.url?T3(r.url):null,s=r.data?C3(r.data):null,a=r.httpHeaders||null,l=r.withCredentials===!0,c=r.password??null,h=r.range instanceof Dx?r.range:null,f=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let d=r.worker instanceof Ll?r.worker:null;const p=r.verbosity,g=typeof r.docBaseUrl=="string"&&!Th(r.docBaseUrl)?r.docBaseUrl:null,y=Cu(r.cMapUrl),E=r.cMapPacked!==!1,b=r.CMapReaderFactory||(Bn?k3:z_),_=Cu(r.iccUrl),v=Cu(r.standardFontDataUrl),S=r.StandardFontDataFactory||(Bn?P3:H_),x=Cu(r.wasmUrl),T=r.WasmFactory||(Bn?B3:G_),C=r.stopAtErrors!==!0,M=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,L=r.isEvalSupported!==!1,z=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Bn,k=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Bn&&(yn.platform.isFirefox||!globalThis.chrome),rt=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,ht=typeof r.disableFontFace=="boolean"?r.disableFontFace:Bn,U=r.fontExtraProperties===!0,dt=r.enableXfa===!0,j=r.ownerDocument||globalThis.document,yt=r.disableRange===!0,et=r.disableStream===!0,Q=r.disableAutoFetch===!0,ft=r.pdfBug===!0,vt=r.CanvasFactory||(Bn?L3:D3),It=r.FilterFactory||(Bn?M3:I3),H=r.enableHWA===!0,Z=r.useWasm!==!1,K=h?h.length:r.length??NaN,st=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Bn&&!ht,ut=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(b===z_&&S===H_&&T===G_&&y&&v&&x&&Sl(y,document.baseURI)&&Sl(v,document.baseURI)&&Sl(x,document.baseURI)),ct=null;JM(p);const N={canvasFactory:new vt({ownerDocument:j,enableHWA:H}),filterFactory:new It({docId:e,ownerDocument:j}),cMapReaderFactory:ut?null:new b({baseUrl:y,isCompressed:E}),standardFontDataFactory:ut?null:new S({baseUrl:v}),wasmFactory:ut?null:new T({baseUrl:x})};d||(d=Ll.create({verbosity:p,port:ro.workerPort}),t._worker=d);const D={docId:e,apiVersion:"5.4.530",data:s,password:c,disableAutoFetch:Q,rangeChunkSize:f,length:K,docBaseUrl:g,enableXfa:dt,evaluatorOptions:{maxImageSize:M,disableFontFace:ht,ignoreErrors:C,isEvalSupported:L,isOffscreenCanvasSupported:z,isImageDecoderSupported:k,canvasMaxAreaInBytes:rt,fontExtraProperties:U,useSystemFonts:st,useWasm:Z,useWorkerFetch:ut,cMapUrl:y,iccUrl:_,standardFontDataUrl:v,wasmUrl:x}},ot={ownerDocument:j,pdfBug:ft,styleElement:ct,loadingParams:{disableAutoFetch:Q,enableXfa:dt}};return d.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const J=d.messageHandler.sendWithPromise("GetDocRequest",D,s?[s.buffer]:null);let G;if(h)G=new eL(h,{disableRange:yt,disableStream:et});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");const W=Sl(n)?sL:Bn?mL:uL;G=new W({url:n,length:K,httpHeaders:a,withCredentials:l,rangeChunkSize:f,disableRange:yt,disableStream:et})}return J.then(W=>{if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const St=new xl(e,W,d.port),I=new EL(St,t,G,ot,N,H);t._transport=I,St.send("Ready",null)})}).catch(t._capability.reject),t}class u0{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${u0.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class Dx{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#a)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Be("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class wL{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return re(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(t){return this._transport.extractPages(t)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class _L{#t=!1;constructor(t,e,n,s=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new L_:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new Ox,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:a=!1}={}){return new Xl({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return re(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:s="display",annotationMode:a=cs.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:d=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:y=!1,operationsFilter:E=null}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(s,a,p,g),{renderingIntent:_,cacheKey:v}=b;this.#t=!1,h||=this._transport.getOptionalContentConfig(_);let S=this._intentStates.get(v);S||(S=Object.create(null),this._intentStates.set(v,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const x=!!(_&ri.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const T=!!(this._pdfBug&&globalThis.StepperManager?.enabled),C=!this.recordedBBoxes&&(y||T),M=k=>{if(S.renderTasks.delete(L),C){const rt=L.gfx?.dependencyTracker.take();rt&&(L.stepper&&L.stepper.setOperatorBBoxes(rt,L.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=rt))}x&&(this.#t=!0),this.#e(),k?(L.capability.reject(k),this._abortOperatorList({intentState:S,reason:k instanceof Error?k:new Error(k)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new Ka({callback:M,params:{canvas:e,canvasContext:t,dependencyTracker:C?new U3(e,S.operatorList.length,T):null,viewport:n,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:E});(S.renderTasks||=new Set).add(L);const z=L.task;return Promise.all([S.displayReadyCapability.promise,h]).then(([k,rt])=>{if(this.destroyed){M();return}if(this._stats?.time("Rendering"),!(rt.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:k,optionalContentConfig:rt}),L.operatorListChanged()}).catch(M),z}getOperatorList({intent:t="display",annotationMode:e=cs.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(t,e,n,s,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Ml.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function a(){l.read().then(function({value:h,done:f}){if(f){n(c);return}c.lang??=h.lang,Object.assign(c.styles,h.styles),c.items.push(...h.items),a()},s)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new L_),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:s}){const{map:a,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:s},l).getReader(),f=this._intentStates.get(e);f.streamReader=h;const d=()=>{h.read().then(({value:p,done:g})=>{if(g){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,f),d())},p=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const g of f.renderTasks)g.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(p);else if(f.opListReadCapability)f.opListReadCapability.reject(p);else throw p}})};d()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof n0){let s=vL;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new hs(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}var us,Li,Cr,Us,ph,js,zs,Un,Wu,Ix,Mx,Tl,lo,Xu;const Ye=class Ye{constructor({name:t=null,port:e=null,verbosity:n=t3()}={}){Gi(this,Un);Gi(this,us,Promise.withResolvers());Gi(this,Li,null);Gi(this,Cr,null);Gi(this,Us,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(qe(Ye,zs).has(e))throw new Error("Cannot use more than one PDFWorker per port.");qe(Ye,zs).set(e,this),Vi(this,Un,Ix).call(this,e)}else Vi(this,Un,Mx).call(this)}get promise(){return qe(this,us).promise}get port(){return qe(this,Cr)}get messageHandler(){return qe(this,Li)}destroy(){this.destroyed=!0,qe(this,Us)?.terminate(),Wn(this,Us,null),qe(Ye,zs).delete(qe(this,Cr)),Wn(this,Cr,null),qe(this,Li)?.destroy(),Wn(this,Li,null)}static create(t){const e=qe(this,zs).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ye(t)}static get workerSrc(){if(ro.workerSrc)return ro.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return re(this,"_setupFakeWorkerGlobal",(async()=>qe(this,lo,Xu)?qe(this,lo,Xu):(await import(this.workerSrc)).WorkerMessageHandler)())}};us=new WeakMap,Li=new WeakMap,Cr=new WeakMap,Us=new WeakMap,ph=new WeakMap,js=new WeakMap,zs=new WeakMap,Un=new WeakSet,Wu=function(){qe(this,us).resolve(),qe(this,Li).send("configure",{verbosity:this.verbosity})},Ix=function(t){Wn(this,Cr,t),Wn(this,Li,new xl("main","worker",t)),qe(this,Li).on("ready",()=>{}),Vi(this,Un,Wu).call(this)},Mx=function(){if(qe(Ye,js)||qe(Ye,lo,Xu)){Vi(this,Un,Tl).call(this);return}let{workerSrc:t}=Ye;try{Ye._isSameOrigin(window.location,t)||(t=Ye._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new xl("main","worker",e),s=()=>{a.abort(),n.destroy(),e.terminate(),this.destroyed?qe(this,us).reject(new Error("Worker was destroyed")):Vi(this,Un,Tl).call(this)},a=new AbortController;e.addEventListener("error",()=>{qe(this,Us)||s()},{signal:a.signal}),n.on("test",c=>{if(a.abort(),this.destroyed||!c){s();return}Wn(this,Li,n),Wn(this,Cr,e),Wn(this,Us,e),Vi(this,Un,Wu).call(this)}),n.on("ready",c=>{if(a.abort(),this.destroyed){s();return}try{l()}catch{Vi(this,Un,Tl).call(this)}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{xh("The worker has been disabled.")}Vi(this,Un,Tl).call(this)},Tl=function(){qe(Ye,js)||(ie("Setting up fake worker."),Wn(Ye,js,!0)),Ye._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){qe(this,us).reject(new Error("Worker was destroyed"));return}const e=new N3;Wn(this,Cr,e);const n=`fake${P1(Ye,ph)._++}`,s=new xl(n+"_worker",n,e);t.setup(s,e),Wn(this,Li,new xl(n,n+"_worker",e)),Vi(this,Un,Wu).call(this)}).catch(t=>{qe(this,us).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},lo=new WeakSet,Xu=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Gi(Ye,lo),Gi(Ye,ph,0),Gi(Ye,js,!1),Gi(Ye,zs,new WeakMap),Bn&&(Wn(Ye,js,!0),ro.workerSrc||="./pdf.worker.mjs"),Ye._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const s=new URL(e,n);return n.origin===s.origin},Ye._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Ye.fromPort=t=>{if(f3("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ye.create(t)};let Ll=Ye;class EL{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#a=null;constructor(t,e,n,s,a,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Ox,this.fontLoader=new A3({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,s),s}get annotationStorage(){return re(this,"annotationStorage",new a0)}getRenderingIntent(t,e=cs.ENABLE,n=null,s=!1,a=!1){let l=ri.DISPLAY,c=wg;switch(t){case"any":l=ri.ANY;break;case"display":break;case"print":l=ri.PRINT;break;default:ie(`getRenderingIntent - invalid intent: ${t}`)}const h=l&ri.PRINT&&n instanceof yx?n:this.annotationStorage;switch(e){case cs.DISABLE:l+=ri.ANNOTATIONS_DISABLE;break;case cs.ENABLE:break;case cs.ENABLE_FORMS:l+=ri.ANNOTATIONS_FORMS;break;case cs.ENABLE_STORAGE:l+=ri.ANNOTATIONS_STORAGE,c=h.serializable;break;default:ie(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(l+=ri.IS_EDITING),a&&(l+=ri.OPLIST);const{ids:f,hash:d}=h.modifiedIds,p=[l,c.hash,d];return{renderingIntent:l,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),si.cleanup(),this._networkStream?.cancelAllRequests(new hs("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{be(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){s.close();return}be(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:l}=this._fullReader;return(!s||!a)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:l}}),t.on("GetRangeReader",(n,s)=>{be(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){s.close();return}be(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{a.cancel(l),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new wL(n,this))}),t.on("DocException",n=>{e._capability.reject(Xn(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw Xn(n);const s=a=>{a instanceof Error?this.#a.reject(a):this.#a.resolve({password:a})};e.onPassword(s,n.code)}catch(s){this.#a.reject(s)}return this.#a.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,a])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":if("error"in a){const p=a.error;ie(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new Le(a),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,h=new S3(l,c,a.extra,a.charProcOperatorList);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h.fontExtraProperties&&h.data&&h.clearData(),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:f}=a;be(f,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,g]of p.objs)if(g?.ref===f)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":this.commonObjs.resolve(n,new x3(a));break;case"Image":this.commonObjs.resolve(n,a);break;case"Pattern":const d=new En(a);this.commonObjs.resolve(n,d.getIR());break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,a,l])=>{if(this.destroyed)return;const c=this.#e.get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(a){case"Image":case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[n.type];if(!s)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&ie("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}extractPages(t){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:t})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#n.set(a.refStr,t);const l=new _L(e,a,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,s),s}getPageIndex(t){return _g(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new tL(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>({info:s[0],metadata:s[1]?new Q3(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:s[2]}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),si.cleanup()}}cachedPageNumber(t){if(!_g(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class AL{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Ka{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:d=!1,pdfBug:p=!1,pageColors:g=null,enableHWA:y=!1,operationsFilter:E=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new AL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=y,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=E}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Ka.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ka.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:s,background:a,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new io(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:s,viewport:n,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Ka.#e.delete(this._canvas),t||=new n0(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ka.#e.delete(this._canvas),this.callback())))}}const SL="5.4.530",xL="50cc4adac";class Ai{#t=null;#e=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#c=null;#l=null;static#f=null;static get _keyboardManager(){return re(this,"_keyboardManager",new Zl([[["Escape","mac+Escape"],Ai.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ai.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ai.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ai.prototype._moveToPrevious],[["Home","mac+Home"],Ai.prototype._moveToBeginning],[["End","mac+End"],Ai.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#r=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Ai.#f||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Ti,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,s]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=n,a.setAttribute("data-l10n-id",Ai.#f[n]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=s,a.ariaSelected=s===this.#i,a.addEventListener("click",this.#d.bind(this,s),{signal:e}),t.append(a)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#d(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:ye.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#d(e,t)}_moveToNext(t){if(!this.#p){this.#m(t);return}if(t.target===this.#t){this.#n.firstElementChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstElementChild||t.target===this.#t){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#p){this.#m(t);return}this.#n.firstElementChild?.focus()}_moveToEnd(t){if(!this.#p){this.#m(t);return}this.#n.lastElementChild?.focus()}#g(t){Ai._keyboardManager.exec(this,t)}#m(t){if(this.#p){this.hideDropdown();return}if(this.#a=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class kl{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,kl.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,color:n}=this.#e,s=this.#t=document.createElement("input");return s.type="color",s.value=n||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",kl.#n[t]),s.addEventListener("input",()=>{this.#i.updateParams(e,s.value)},{signal:this.#i._signal}),s}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function nE(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function wl(r){return Math.max(0,Math.min(255,255*r))}class iE{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=wl(t),[t,t,t]}static G_HTML([t]){const e=nE(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(wl)}static RGB_HTML(t){return`#${t.map(nE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[wl(1-Math.min(1,t+s)),wl(1-Math.min(1,n+s)),wl(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,a=1-e,l=1-n,c=Math.min(s,a,l);return["CMYK",s,a,l,c]}}class TL{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Be("Abstract method `_createSVG` called.")}}class sh extends TL{_createSVG(t){return document.createElementNS(xr,t)}}const CL=9,Vs=new WeakSet,RL=new Date().getTimezoneOffset()*60*1e3;class $m{static create(t){switch(t.data.annotationType){case fn.LINK:return new h0(t);case fn.TEXT:return new NL(t);case fn.WIDGET:switch(t.data.fieldType){case"Tx":return new DL(t);case"Btn":return t.data.radioButton?new Lx(t):t.data.checkBox?new ML(t):new LL(t);case"Ch":return new kL(t);case"Sig":return new IL(t)}return new Xs(t);case fn.POPUP:return new Sg(t);case fn.FREETEXT:return new kx(t);case fn.LINE:return new BL(t);case fn.SQUARE:return new FL(t);case fn.CIRCLE:return new UL(t);case fn.POLYLINE:return new Px(t);case fn.CARET:return new zL(t);case fn.INK:return new f0(t);case fn.POLYGON:return new jL(t);case fn.HIGHLIGHT:return new Bx(t);case fn.UNDERLINE:return new HL(t);case fn.SQUIGGLY:return new GL(t);case fn.STRIKEOUT:return new VL(t);case fn.STAMP:return new Fx(t);case fn.FILEATTACHMENT:return new qL(t);default:return new Ze(t)}}}class Ze{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,this.hasOwnCommentButton=!1,e&&(this.contentElement=this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ze._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:s}=this.data;let a=-1/0,l=-1/0;if(e?.length>=8){for(let c=0;c<e.length;c+=8)e[c+1]>l?(l=e[c+1],a=e[c+2]):e[c+1]===l&&(a=Math.max(a,e[c+2]));return[a,l]}if(n?.length>=1){for(const c of n)for(let h=0,f=c.length;h<f;h+=2)c[h+1]>l?(l=c[h+1],a=c[h]):c[h+1]===l&&(a=Math.max(a,c[h]));if(a!==1/0)return[a,l]}return s?[s[2],s[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:s,pageX:a,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-a)/n,t[1]=100*(t[1]-l)/s,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Dl}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${Dl}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let s=this.#i?.popup||this.popup;!s&&n?.text&&(this._createPopup(n),s=this.#i.popup),s&&(s.updateEdited(t),n?.deleted&&(s.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:h}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-c)/a}%`,e.top=`${100*(l-t[3]+h)/l}%`,s===0?(e.width=`${100*(t[2]-t[0])/a}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(s)}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),!(this instanceof Xs)&&!(this instanceof h0)&&(a.tabIndex=0);const{style:l}=a;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof Sg){const{rotation:b}=e;return!e.hasOwnCanvas&&b!==0&&this.setRotation(b,a),a}const{width:c,height:h}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const b=e.borderStyle.horizontalCornerRadius,_=e.borderStyle.verticalCornerRadius;if(b>0||_>0){const S=`calc(${b}px * var(--total-scale-factor)) / calc(${_}px * var(--total-scale-factor))`;l.borderRadius=S}else if(this instanceof Lx){const S=`calc(${c}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=S}switch(e.borderStyle.style){case Ga.SOLID:l.borderStyle="solid";break;case Ga.DASHED:l.borderStyle="dashed";break;case Ga.BEVELED:ie("Unimplemented border style: beveled");break;case Ga.INSET:ie("Unimplemented border style: inset");break;case Ga.UNDERLINE:l.borderBottomStyle="solid";break}const v=e.borderColor||null;v?(this.#e=!0,l.borderColor=Ht.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):l.borderWidth=0}const f=Ht.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:d,pageHeight:p,pageX:g,pageY:y}=s.rawDims;l.left=`${100*(f[0]-g)/d}%`,l.top=`${100*(f[1]-y)/p}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(l.width=`${100*c/d}%`,l.height=`${100*h/p}%`):this.setRotation(E,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims;let{width:a,height:l}=this;t%180!==0&&([a,l]=[l,a]),e.style.width=`${100*a/n}%`,e.style.height=`${100*l/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const a=s.detail[e],l=a[0],c=a.slice(1);s.target.style[n]=iE[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:iE[`${l}_rgb`](c)})};return re(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail))(t[s]||n[s])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,a]of Object.entries(e)){const l=n[s];if(l){const c={detail:{[s]:a},target:t};l(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,a]=this.data.rect.map(b=>Math.fround(b));if(t.length===8){const[b,_,v,S]=t.subarray(2,6);if(s===b&&a===_&&e===v&&n===S)return}const{style:l}=this.container;let c;if(this.#e){const{borderColor:b,borderWidth:_}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const h=s-e,f=a-n,{svgFactory:d}=this,p=d.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=d.createElement("defs");p.append(g);const y=d.createElement("clipPath"),E=`clippath_${this.data.id}`;y.setAttribute("id",E),y.setAttribute("clipPathUnits","objectBoundingBox"),g.append(y);for(let b=2,_=t.length;b<_;b+=8){const v=t[b],S=t[b+1],x=t[b+2],T=t[b+3],C=d.createElement("rect"),M=(x-e)/h,L=(a-S)/f,z=(v-x)/h,k=(S-T)/f;C.setAttribute("x",M),C.setAttribute("y",L),C.setAttribute("width",z),C.setAttribute("height",k),y.append(C),c?.push(`<rect vector-effect="non-scaling-stroke" x="${M}" y="${L}" width="${z}" height="${k}"/>`)}this.#e&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${E})`}_createPopup(t=null){const{data:e}=this;let n,s;t?(n={str:t.text},s=t.date):(n=e.contentsObj,s=e.modificationDate),this.#i=new Sg({data:{color:e.color,titleObj:e.titleObj,modificationDate:s,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Be("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:a,id:l,exportValues:c}of s){if(a===-1||l===e)continue;const h=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!Vs.has(f)){ie(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:f})}return n}for(const s of document.getElementsByName(t)){const{exportValue:a}=s,l=s.getAttribute("data-element-id");l!==e&&Vs.has(s)&&n.push({id:l,exportValue:a,domElement:s})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class OL extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&this._createPopup(t.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class h0 extends Ze{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let s=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),s=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),s=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=n,this.container.append(n)),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",s=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,s),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(e.actions)){const a=n.get(s);a&&(t[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:s}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){ie('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:s,refs:a,include:l}=e,c=[];if(s.length!==0||a.length!==0){const d=new Set(a);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:y}of g)d.add(y)}for(const p of Object.values(this._fieldObjects))for(const g of p)d.has(g.id)===l&&c.push(g)}else for(const d of Object.values(this._fieldObjects))c.push(...d);const h=this.annotationStorage,f=[];for(const d of c){const{id:p}=d;switch(f.push(p),d.type){case"text":{const y=d.defaultValue||"";h.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=d.defaultValue===d.exportValues;h.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=d.defaultValue||"";h.setValue(p,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!Vs.has(g)){ie(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class NL extends Ze{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(t),this.container}}class Xs extends Ze{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return yn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,a){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l)}})})}_setEventListeners(t,e,n,s){for(const[a,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,a,l,s),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Ht.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||CL,a=t.style;let l;const c=2,h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),d=Math.round(f/(Um*s))||1,p=f/d;l=Math.min(s,h(p/Um))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(s,h(f/Um))}a.fontSize=`calc(${l}px * var(--total-scale-factor))`,a.color=Ht.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class DL extends Xs{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const a=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),a.setValue(l.id,{[s]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=t.getValue(e,{value:this.data.fieldValue});let a=s.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=s.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??a,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??a),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Vs.add(n),this.contentElement=n,n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:d,timeStep:p}=this.data,g=!!d&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",E=>{t.setValue(e,{value:E.target.value}),this.setPropertyOnSiblings(n,"value",E.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",E=>{const b=this.data.defaultFieldValue??"";n.value=h.userValue=b,h.formattedValue=null});let y=E=>{const{formattedValue:b}=h;b!=null&&(E.target.value=b),E.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",b=>{if(h.focused)return;const{target:_}=b;if(g&&(_.type=d,p&&(_.step=p)),h.userValue){const v=h.userValue;if(g)if(d==="time"){const S=new Date(v),x=[S.getHours(),S.getMinutes(),S.getSeconds()];_.value=x.map(T=>T.toString().padStart(2,"0")).join(":")}else _.value=new Date(v-RL).toISOString().split(d==="date"?"T":".",1)[0];else _.value=v}h.lastCommittedValue=_.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const _={value(v){h.userValue=v.detail.value??"",g||t.setValue(e,{value:h.userValue.toString()}),v.target.value=h.userValue},formattedValue(v){const{formattedValue:S}=v.detail;h.formattedValue=S,S!=null&&v.target!==document.activeElement&&(v.target.value=S);const x={formattedValue:S};g&&(x.value=S),t.setValue(e,x)},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{const{charLimit:S}=v.detail,{target:x}=v;if(S===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",S);let T=h.userValue;!T||T.length<=S||(T=T.slice(0,S),x.value=h.userValue=T,t.setValue(e,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(_,b)}),n.addEventListener("keydown",b=>{h.commitKey=1;let _=-1;if(b.key==="Escape"?_=0:b.key==="Enter"&&!this.data.multiLine?_=2:b.key==="Tab"&&(h.commitKey=3),_===-1)return;const{value:v}=b.target;h.lastCommittedValue!==v&&(h.lastCommittedValue=v,h.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:_,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const E=y;y=null,n.addEventListener("blur",b=>{if(!h.focused||!b.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{target:_}=b;let{value:v}=_;if(g){if(v&&d==="time"){const S=v.split(":").map(x=>parseInt(x,10));v=new Date(2e3,0,1,S[0],S[1],S[2]||0).valueOf(),_.step=""}else v.includes("T")||(v=`${v}T00:00`),v=new Date(v).valueOf();_.type="text"}h.userValue=v,h.lastCommittedValue!==v&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:h.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}),E(b)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",b=>{h.lastCommittedValue=null;const{data:_,target:v}=b,{value:S,selectionStart:x,selectionEnd:T}=v;let C=x,M=T;switch(b.inputType){case"deleteWordBackward":{const L=S.substring(0,x).match(/\w*[^\w]*$/);L&&(C-=L[0].length);break}case"deleteWordForward":{const L=S.substring(x).match(/^[^\w]*\w*/);L&&(M+=L[0].length);break}case"deleteContentBackward":x===T&&(C-=1);break;case"deleteContentForward":x===T&&(M+=1);break}b.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,change:_||"",willCommit:!1,selStart:C,selEnd:M}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class IL extends Xs{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class ML extends Xs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Vs.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const f of this._getElementsByName(c,n)){const d=h&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=d),t.setValue(f.id,{value:d})}t.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Lx extends Xs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const a=document.createElement("input");if(Vs.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const f of this._getElementsByName(c,n))t.setValue(f.id,{value:!1});t.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;a.addEventListener("updatefromsandbox",c=>{const h={value:f=>{const d=l===f.detail.value;for(const p of this._getElementsByName(f.target.name)){const g=d&&p.id===n;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class LL extends h0{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class kL extends Xs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");Vs.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",d=>{const p=this.data.defaultFieldValue;for(const g of s.options)g.selected=g.value===p});for(const d of this.data.options){const p=document.createElement("option");p.textContent=d.displayValue,p.value=d.exportValue,n.value.includes(d.exportValue)&&(p.setAttribute("selected",!0),a=!1),s.append(p)}let l=null;if(a){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),s.prepend(d),l=()=>{d.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const c=d=>{const p=d?"value":"textContent",{options:g,multiple:y}=s;return y?Array.prototype.filter.call(g,E=>E.selected).map(E=>E[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let h=c(!1);const f=d=>{const p=d.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",d=>{const p={value(g){l?.();const y=g.detail.value,E=new Set(Array.isArray(y)?y:[y]);for(const b of s.options)b.selected=E.has(b.value);t.setValue(e,{value:c(!0)}),h=c(!1)},multipleSelection(g){s.multiple=!0},remove(g){const y=s.options,E=g.detail.remove;y[E].selected=!1,s.remove(E),y.length>0&&Array.prototype.findIndex.call(y,_=>_.selected)===-1&&(y[0].selected=!0),t.setValue(e,{value:c(!0),items:f(g)}),h=c(!1)},clear(g){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),h=c(!1)},insert(g){const{index:y,displayValue:E,exportValue:b}=g.detail.insert,_=s.children[y],v=document.createElement("option");v.textContent=E,v.value=b,_?_.before(v):s.append(v),t.setValue(e,{value:c(!0),items:f(g)}),h=c(!1)},items(g){const{items:y}=g.detail;for(;s.length!==0;)s.remove(0);for(const E of y){const{displayValue:b,exportValue:_}=E,v=document.createElement("option");v.textContent=b,v.value=_,s.append(v)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:f(g)}),h=c(!1)},indices(g){const y=new Set(g.detail.indices);for(const E of g.target.options)E.selected=y.has(E.index);t.setValue(e,{value:c(!0)}),h=c(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,d)}),s.addEventListener("input",d=>{const p=c(!0),g=c(!1);t.setValue(e,{value:p}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):s.addEventListener("input",function(d){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Sg extends Ze{constructor(t){const{data:e,elements:n,parent:s}=t,a=!!s._commentManager;if(super(t,{isRenderable:!a&&Ze._hasPopupData(e)}),this.elements=n,a&&Ze._hasPopupData(e)){const l=this.popup=this.#t();for(const c of n)c.popup=l}else this.popup=null}#t(){return new PL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",n.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(s=>`${Wa}${s}`).join(",")),this.container}}class PL{#t=null;#e=this.#V.bind(this);#i=this.#U.bind(this);#n=this.#M.bind(this);#a=this.#E.bind(this);#s=null;#r=null;#o=null;#c=null;#l=null;#f=null;#h=null;#d=!1;#g=null;#m=null;#u=null;#p=null;#y=null;#v=null;#b=null;#x=null;#A=null;#_=null;#C=!1;#w=null;#S=null;constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:a,contentsObj:l,richText:c,parent:h,rect:f,parentRect:d,open:p,commentManager:g=null}){this.#r=t,this.#A=s,this.#o=l,this.#x=c,this.#f=h,this.#s=e,this.#b=f,this.#h=d,this.#l=n,this.#t=g,this.#w=n[0],this.#c=yg.toDateObject(a),this.trigger=n.flatMap(y=>y.getElementsToTriggerPopup()),g||(this.#N(),this.#r.hidden=!0,p&&this.#E())}#N(){if(this.#m)return;this.#m=new AbortController;const{signal:t}=this.#m;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#R(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#w.container.after(this.#p);return}if(this.#y||this.#R(),!this.#y)return;const{signal:t}=this.#m=new AbortController,e=this.#w.hasOwnCommentButton,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},s=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},a=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#p=this.#w.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",s,{signal:t}),l.addEventListener("pointerleave",a,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#p=document.createElement("button");l.className="annotationCommentButton";const c=this.#w.container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#B(),this.#O(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",s,{signal:t}),l.addEventListener("pointerleave",a,{signal:t}),c.after(l)}}#O(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.#p||this.renderCommentButton();const[t,e]=this.#y,{style:n}=this.#p;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#B(){this.#w.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#w.commentData;return t?this.#f._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:s,modificationDate:a}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:s,modificationDate:a}}get elementBeforePopup(){return this.#p}get comment(){return this.#S||=this.#w.commentText,this.#S}set comment(t){t!==this.comment&&(this.#w.commentText=this.#S=t)}focus(){this.#w.container?.focus()}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#p&&(this.#p.classList.toggle("selected",t),this.#p.ariaExpanded=e)}setSelectedCommentButton(t){this.#p.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:t,y:e,height:n}=this.#p.getBoundingClientRect(),{x:s,y:a,width:l,height:c}=this.#w.layer.getBoundingClientRect();return[(t-s)/l,(e+n-a)/c]}set commentPopupPosition(t){this.#v=t}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#v||this.commentButtonPosition.map(f=>f/100),s=this.parentBoundingClientRect,{x:a,y:l,width:c,height:h}=s;this.#t.showDialog(null,this,a+e*c,l+n*h,{...t,parentDimensions:s})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const n=t.style.outlineColor=Ht.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#A?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#A}if(t.append(e),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),e.append(n)}dx({html:this.#I||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#r.append(t)}get#I(){const t=this.#x,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#x.html||null}get#L(){return this.#I?.attributes?.style?.fontSize||0}get#F(){return this.#I?.attributes?.style?.color||null}#k(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:this.#F,fontSize:this.#L?`calc(${this.#L}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:s});return n}#V(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#d)&&this.#E()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#S=null):e&&(e.deleted?this.remove():(this.#B(),this.#S=e.text)),t&&(this.#y=null,this.#R(),this.#O());return}if(n||e?.deleted){this.remove();return}this.#N(),this.#_||={contentsObj:this.#o,richText:this.#x},t&&(this.#u=null),e&&e.text&&(this.#x=this.#k(e.text),this.#c=yg.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#_&&({contentsObj:this.#o,richText:this.#x}=this.#_,this.#_=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#C=!1,this.#d=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#T(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:a}}}=this.#f;let l=!!this.#h,c=l?this.#h:this.#b;for(const E of this.#l)if(!c||Ht.intersect(E.data.rect,c)!==null){c=E.data.rect,l=!0;break}const h=Ht.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),d=l?c[2]-c[0]+5:0,p=h[0]+d,g=h[1];this.#u=[100*(p-s)/e,100*(g-a)/n];const{style:y}=this.#r;y.left=`${this.#u[0]}%`,y.top=`${this.#u[1]}%`}#E(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#d=!this.#d,this.#d?(this.#M(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#e)):(this.#U(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#e))}#M(){this.#g||this.render(),this.isVisible?this.#d&&this.#r.classList.add("focused"):(this.#T(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#U(){this.#r.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#r.hidden=!0)}maybeShow(){this.#t||(this.#N(),this.#C&&(this.#g||this.#M(),this.#C=!1,this.#r.hidden=!1))}get isVisible(){return this.#t?!1:this.#r.hidden===!1}}class kx extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=se.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=this.contentElement=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class BL extends Ze{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),a=this.#t=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class FL extends Ze{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),a=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",e-a),l.setAttribute("height",n-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class UL extends Ze{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),a=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-a/2),l.setAttribute("ry",n/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Px extends Ze{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:s},width:a,height:l}=this;if(!e)return this.container;const c=this.svgFactory.create(a,l,!0);let h=[];for(let d=0,p=e.length;d<p;d+=2){const g=e[d]-t[0],y=t[3]-e[d+1];h.push(`${g},${y}`)}h=h.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",h),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),c.append(f),this.container.append(c),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class jL extends Px{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class zL extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class f0 extends Ze{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?se.HIGHLIGHT:se.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:s,popupRef:a}}=this,{transform:l,width:c,height:h}=this.#i(e,t),f=this.svgFactory.create(c,h,!0),d=this.#t=this.svgFactory.createElement("svg:g");f.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",l);for(let p=0,g=n.length;p<g;p++){const y=this.svgFactory.createElement(this.svgElementName);this.#e.push(y),y.setAttribute("points",n[p].join(",")),d.append(y)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:s}=t,a=this.#t;if(e>=0&&a.setAttribute("stroke-width",e||1),n)for(let l=0,c=this.#e.length;l<c;l++)this.#e[l].setAttribute("points",n[l].join(","));if(s){const{transform:l,width:c,height:h}=this.#i(this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${h}`),a.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Bx extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=se.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class HL extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class GL extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class VL extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class Fx extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=se.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class qL extends Ze{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:s}=yn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class d0{#t=null;#e=null;#i=null;#n=new Map;#a=null;#s=null;#r=[];#o=!1;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:a,viewport:l,structTreeLayer:c,commentManager:h,linkService:f,annotationStorage:d}){this.div=t,this.#t=e,this.#e=n,this.#a=c||null,this.#s=f||null,this.#i=d||new a0,this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=h||null}hasEditableAnnotations(){return this.#n.size>0}async render(t){const{annotations:e}=t,n=this.div;Gs(n,this.viewport);const s=new Map,a=[],l={data:null,layer:n,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new sh,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const h=c.annotationType===fn.POPUP;if(h){const p=s.get(c.id);if(!p)continue;if(!this._commentManager){a.push(c);continue}l.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const f=$m.create(l);if(!f.isRenderable)continue;if(!h&&(this.#r.push(f),c.popupRef)){const p=s.get(c.popupRef);p?p.push(f):s.set(c.popupRef,[f])}const d=f.render();c.hidden&&(d.style.visibility="hidden"),f._isEditable&&(this.#n.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}await this.#c();for(const c of a){const h=l.elements=s.get(c.id);l.data=c;const f=$m.create(l);if(!f.isRenderable)continue;const d=f.render();f.contentElement.id=`${Wa}${c.id}`,c.hidden&&(d.style.visibility="hidden"),h.at(-1).container.after(d)}this.#l()}async#c(){if(this.#r.length===0)return;this.div.replaceChildren();const t=[];if(!this.#o){this.#o=!0;for(const{contentElement:n,data:{id:s}}of this.#r){const a=n.id=`${Wa}${s}`;t.push(this.#a?.getAriaAttributes(a).then(l=>{if(l)for(const[c,h]of l)n.setAttribute(c,h)}))}}this.#r.sort(({data:{rect:[n,s,a,l]}},{data:{rect:[c,h,f,d]}})=>{if(n===a&&s===l)return 1;if(c===f&&h===d)return-1;const p=l,g=s,y=(s+l)/2,E=d,b=h,_=(h+d)/2;if(y>=E&&_<=g)return-1;if(_>=p&&y<=b)return 1;const v=(n+a)/2,S=(c+f)/2;return v-S});const e=document.createDocumentFragment();for(const n of this.#r)e.append(n.container),this._commentManager?(n.extraPopupElement?.popup||n.popup)?.renderCommentButton():n.extraPopupElement&&e.append(n.extraPopupElement.render());if(this.div.append(e),await Promise.all(t),this.#t)for(const n of this.#r)this.#t.addPointerInTextLayer(n.contentElement,!1)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new sh,parent:this};for(const n of t){n.borderStyle||=d0._defaultBorderStyle,e.data=n;const s=$m.create(e);s.isRenderable&&(s.render(),s.contentElement.id=`${Wa}${n.id}`,this.#r.push(s))}await this.#c()}update({viewport:t}){const e=this.div;this.viewport=t,Gs(e,{rotation:t.rotation}),this.#l(),e.hidden=!1}#l(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):s.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,s.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:s}=t,a=new OL({data:{id:n,rect:t.getPDFRect(),rotation:s},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i});return a.render(),a.contentElement.id=`${Wa}${n}`,a.createOrUpdatePopup(),this.#r.push(a),a}removeAnnotation(t){const e=this.#r.findIndex(s=>s.data.id===t);if(e<0)return;const[n]=this.#r.splice(e,1);this.#t?.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(t){if(t.length!==0){for(const e of t)e.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}static get _defaultBorderStyle(){return re(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ga.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Mu=/\r\n?|\n/g;class An extends Zt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=An.prototype,e=a=>a.isEmpty(),n=fs.TRANSLATE_SMALL,s=fs.TRANSLATE_BIG;return re(this,"_keyboardManager",new Zl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}]]))}static _type="freetext";static _editorType=se.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||An._defaultColor||Zt._defaultLineColor,this.#n=t.fontSize||An._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(t,e){Zt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case ye.FREETEXT_SIZE:An._defaultFontSize=e;break;case ye.FREETEXT_COLOR:An._defaultColor=e;break}}updateParams(t,e){switch(t){case ye.FREETEXT_SIZE:this.#a(e);break;case ye.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[ye.FREETEXT_SIZE,An._defaultFontSize],[ye.FREETEXT_COLOR,An._defaultColor||Zt._defaultLineColor]]}get propertiesToUpdate(){return[[ye.FREETEXT_SIZE,this.#n],[ye.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new kl(this),[["colorPicker",this._colorPicker]]}get colorType(){return ye.FREETEXT_COLOR}#a(t){const e=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-this.#n)*this.parentScale),this.#n=s,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ye.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=s=>{this.color=s,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ye.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-An._internalPadding*t,-(An._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(An.#c(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,l=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),n=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#r().trimEnd();if(t===e)return;const n=s=>{if(this.#t=s,!s){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){An._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,h]=this.getInitialTranslation();[c,h]=this.pageTranslationToScreen(c,h);const[f,d]=this.pageDimensions,[p,g]=this.pageTranslation;let y,E;switch(this.rotation){case 0:y=t+(l[0]-p)/f,E=e+this.height-(l[1]-g)/d;break;case 90:y=t+(l[0]-p)/f,E=e-(l[1]-g)/d,[c,h]=[h,-c];break;case 180:y=t-this.width+(l[0]-p)/f,E=e-(l[1]-g)/d,[c,h]=[-c,-h];break;case 270:y=t+(l[0]-p-this.height*d)/f,E=e+(l[1]-g-this.width*f)/d,[c,h]=[-h,c];break}this.setAt(y*s,E*a,c,h)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Mu,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const s=An.#h(e.getData("text")||"").replaceAll(Mu,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:h}=l,f=[],d=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(d.push(c.nodeValue.slice(h).replaceAll(Mu,"")),y!==this.editorDiv){let E=f;for(const b of this.editorDiv.childNodes){if(b===y){E=d;continue}E.push(An.#c(b))}}f.push(c.nodeValue.slice(0,h).replaceAll(Mu,""))}else if(c===this.editorDiv){let y=f,E=0;for(const b of this.editorDiv.childNodes)E++===h&&(y=d),y.push(An.#c(b))}this.#t=`${f.join(`
`)}${s}${d.join(`
`)}`,this.#l();const p=new Range;let g=Math.sumPrecise(f.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const E=y.nodeValue.length;if(g<=E){p.setStart(y,g),p.setEnd(y,g);break}g-=E}a.removeAllRanges(),a.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#f(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=An._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let s=null;if(t instanceof kx){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:f,id:d,popupRef:p,richText:g,contentsObj:y,creationDate:E,modificationDate:b},textContent:_,textPosition:v,parent:{page:{pageNumber:S}}}=t;if(!_||_.length===0)return null;s=t={annotationType:se.FREETEXT,color:Array.from(c),fontSize:l,value:_.join(`
`),position:v,pageIndex:S-1,rect:h.slice(0),rotation:f,annotationElementId:d,id:d,deleted:!1,popupRef:p,comment:y?.str||null,richText:g,creationDate:E,modificationDate:b}}const a=await super.deserialize(t,e,n);return a.#n=t.fontSize,a.color=Ht.makeHexColor(...t.color),a.#t=An.#h(t.value),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Zt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#f()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#d(n)?null:(n.id=this.annotationElementId,n)}#d(t){const{value:e,fontSize:n,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,c)=>l!==s[c])||t.pageIndex!==a}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const s of this.#t.split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),e.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class Vt{static PRECISION=1e-4;toSVGPath(){Be("Abstract method `toSVGPath` must be implemented.")}get box(){Be("Abstract getter `box` must be implemented.")}serialize(t,e){Be("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,s,a,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c]*s,l[c+1]=n+t[c+1]*a;return l}static _rescaleAndSwap(t,e,n,s,a,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c+1]*s,l[c+1]=n+t[c]*a;return l}static _translate(t,e,n,s){s||=new Float32Array(t.length);for(let a=0,l=t.length;a<l;a+=2)s[a]=e+t[a],s[a+1]=n+t[a+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,s,a){switch(a){case 90:return[1-e/n,t/s];case 180:return[1-t/n,1-e/s];case 270:return[e/n,1-t/s];default:return[t/n,e/s]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,s,a,l){return[(t+5*n)/6,(e+5*s)/6,(5*n+a)/6,(5*s+l)/6,(n+a)/2,(s+l)/2]}}class Fs{#t;#e=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#c;#l;#f;#h;#d=[];static#g=8;static#m=2;static#u=Fs.#g+Fs.#m;constructor({x:t,y:e},n,s,a,l,c=0){this.#t=n,this.#h=a*s,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=c,this.#l=Fs.#g*s,this.#c=Fs.#u*s,this.#f=s,this.#d.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#p(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,s,a,l]=this.#t;return[(this.#r+(t[0]-e[0])/2-n)/a,(this.#o+(t[1]-e[1])/2-s)/l,(this.#r+(e[0]-t[0])/2-n)/a,(this.#o+(e[1]-t[1])/2-s)/l]}add({x:t,y:e}){this.#r=t,this.#o=e;const[n,s,a,l]=this.#t;let[c,h,f,d]=this.#s.subarray(8,12);const p=t-f,g=e-d,y=Math.hypot(p,g);if(y<this.#c)return!1;const E=y-this.#l,b=E/y,_=b*p,v=b*g;let S=c,x=h;c=f,h=d,f+=_,d+=v,this.#d?.push(t,e);const T=-v/E,C=_/E,M=T*this.#h,L=C*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+M,d+L],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-M,d-L],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([c+M,h+L],2),this.#a.push(NaN,NaN,NaN,NaN,(c+M-n)/a,(h+L-s)/l),this.#s.set([c-M,h-L],14),this.#e.push(NaN,NaN,NaN,NaN,(c-M-n)/a,(h-L-s)/l)),this.#s.set([S,x,c,h,f,d],6),!this.isEmpty()):(this.#s.set([S,x,c,h,f,d],6),Math.abs(Math.atan2(x-h,S-c)-Math.atan2(v,_))<Math.PI/2?([c,h,f,d]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+f)/2-n)/a,((h+d)/2-s)/l),[c,h,S,x]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((S+c)/2-n)/a,((x+h)/2-s)/l),!0):([S,x,c,h,f,d]=this.#s.subarray(0,6),this.#a.push(((S+5*c)/6-n)/a,((x+5*h)/6-s)/l,((5*c+f)/6-n)/a,((5*h+d)/6-s)/l,((c+f)/2-n)/a,((h+d)/2-s)/l),[f,d,c,h,S,x]=this.#s.subarray(12,18),this.#e.push(((S+5*c)/6-n)/a,((x+5*h)/6-s)/l,((5*c+f)/6-n)/a,((5*h+d)/6-s)/l,((c+f)/2-n)/a,((h+d)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);this.#b(n);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return this.#v(n),n.join(" ")}#y(){const[t,e,n,s]=this.#t,[a,l,c,h]=this.#p();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/s} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/s} L${a} ${l} L${c} ${h} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/s} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/s} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#b(t){const[e,n,s,a]=this.#t,l=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[h,f,d,p]=this.#p();t.push(`L${(l[0]-e)/s} ${(l[1]-n)/a} L${h} ${f} L${d} ${p} L${(c[0]-e)/s} ${(c[1]-n)/a}`)}newFreeDrawOutline(t,e,n,s,a,l){return new Ux(t,e,n,s,a,l)}getOutlines(){const t=this.#a,e=this.#e,n=this.#s,[s,a,l,c]=this.#t,h=new Float32Array((this.#d?.length??0)+2);for(let p=0,g=h.length-2;p<g;p+=2)h[p]=(this.#d[p]-s)/l,h[p+1]=(this.#d[p+1]-a)/c;if(h[h.length-2]=(this.#r-s)/l,h[h.length-1]=(this.#o-a)/c,isNaN(n[6])&&!this.isEmpty())return this.#x(h);const f=new Float32Array(this.#a.length+24+this.#e.length);let d=t.length;for(let p=0;p<d;p+=2){if(isNaN(t[p])){f[p]=f[p+1]=NaN;continue}f[p]=t[p],f[p+1]=t[p+1]}d=this.#_(f,d);for(let p=e.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(e[p+g])){f[d]=f[d+1]=NaN,d+=2;continue}f[d]=e[p+g],f[d+1]=e[p+g+1],d+=2}return this.#A(f,d),this.newFreeDrawOutline(f,h,this.#t,this.#f,this.#i,this.#n)}#x(t){const e=this.#s,[n,s,a,l]=this.#t,[c,h,f,d]=this.#p(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-n)/a,(e[3]-s)/l,NaN,NaN,NaN,NaN,(e[4]-n)/a,(e[5]-s)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,f,d,NaN,NaN,NaN,NaN,(e[16]-n)/a,(e[17]-s)/l,NaN,NaN,NaN,NaN,(e[14]-n)/a,(e[15]-s)/l],0),this.newFreeDrawOutline(p,t,this.#t,this.#f,this.#i,this.#n)}#A(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#_(t,e){const n=this.#s.subarray(4,6),s=this.#s.subarray(16,18),[a,l,c,h]=this.#t,[f,d,p,g]=this.#p();return t.set([NaN,NaN,NaN,NaN,(n[0]-a)/c,(n[1]-l)/h,NaN,NaN,NaN,NaN,f,d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[0]-a)/c,(s[1]-l)/h],e),e+=24}}class Ux extends Vt{#t;#e=new Float32Array(4);#i;#n;#a;#s;#r;constructor(t,e,n,s,a,l){super(),this.#r=t,this.#a=e,this.#t=n,this.#s=s,this.#i=a,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[c,h,f,d]=this.#e;for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-c)/f,t[p+1]=(t[p+1]-h)/d;for(let p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-c)/f,e[p+1]=(e[p+1]-h)/d}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let e=6,n=this.#r.length;e<n;e+=6){if(isNaN(this.#r[e])){t.push(`L${this.#r[e+4]} ${this.#r[e+5]}`);continue}t.push(`C${this.#r[e]} ${this.#r[e+1]} ${this.#r[e+2]} ${this.#r[e+3]} ${this.#r[e+4]} ${this.#r[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,s],a){const l=n-t,c=s-e;let h,f;switch(a){case 0:h=Vt._rescale(this.#r,t,s,l,-c),f=Vt._rescale(this.#a,t,s,l,-c);break;case 90:h=Vt._rescaleAndSwap(this.#r,t,e,l,c),f=Vt._rescaleAndSwap(this.#a,t,e,l,c);break;case 180:h=Vt._rescale(this.#r,n,e,-l,c),f=Vt._rescale(this.#a,n,e,-l,c);break;case 270:h=Vt._rescaleAndSwap(this.#r,n,s,-l,-c),f=Vt._rescaleAndSwap(this.#a,n,s,-l,-c);break}return{outline:Array.from(h),points:[Array.from(f)]}}#o(t){const e=this.#r;let n=e[4],s=e[5];const a=[n,s,n,s];let l=n,c=s,h=n,f=s;const d=t?Math.max:Math.min,p=new Float32Array(4);for(let y=6,E=e.length;y<E;y+=6){const b=e[y+4],_=e[y+5];isNaN(e[y])?(Ht.pointBoundingBox(b,_,a),c>_?(l=b,c=_):c===_&&(l=d(l,b)),f<_?(h=b,f=_):f===_&&(h=d(h,b))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,Ht.bezierBoundingBox(n,s,...e.slice(y,y+6),p),Ht.rectBoundingBox(p[0],p[1],p[2],p[3],a),c>p[1]?(l=p[0],c=p[1]):c===p[1]&&(l=d(l,p[0])),f<p[3]?(h=p[2],f=p[3]):f===p[3]&&(h=d(h,p[2]))),n=b,s=_}const g=this.#e;g[0]=a[0]-this.#i,g[1]=a[1]-this.#i,g[2]=a[2]-a[0]+2*this.#i,g[3]=a[3]-a[1]+2*this.#i,this.firstPoint=[l,c],this.lastPoint=[h,f]}get box(){return this.#e}newOutliner(t,e,n,s,a,l=0){return new Fs(t,e,n,s,a,l)}getNewOutline(t,e){const[n,s,a,l]=this.#e,[c,h,f,d]=this.#t,p=a*f,g=l*d,y=n*f+c,E=s*d+h,b=this.newOutliner({x:this.#a[0]*p+y,y:this.#a[1]*g+E},this.#t,this.#s,t,this.#n,e??this.#i);for(let _=2;_<this.#a.length;_+=2)b.add({x:this.#a[_]*p+y,y:this.#a[_+1]*g+E});return b.getOutlines()}}class xg{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,n=0,s=!0){const a=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:b,y:_,width:v,height:S}of t){const x=Math.floor((b-e)/l)*l,T=Math.ceil((b+v+e)/l)*l,C=Math.floor((_-e)/l)*l,M=Math.ceil((_+S+e)/l)*l,L=[x,C,M,!0],z=[T,C,M,!1];this.#n.push(L,z),Ht.rectBoundingBox(x,C,T,M,a)}const c=a[2]-a[0]+2*n,h=a[3]-a[1]+2*n,f=a[0]-n,d=a[1]-n;let p=s?-1/0:1/0,g=1/0;const y=this.#n.at(s?-1:-2),E=[y[0],y[2]];for(const b of this.#n){const[_,v,S,x]=b;!x&&s?v<g?(g=v,p=_):v===g&&(p=Math.max(p,_)):x&&!s&&(v<g?(g=v,p=_):v===g&&(p=Math.min(p,_))),b[0]=(_-f)/c,b[1]=(v-d)/h,b[2]=(S-d)/h}this.#t=new Float32Array([f,d,c,h]),this.#e=[p,g],this.#i=E}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const l of t){const[c,h,f]=l;e.push([c,h,l],[c,f,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const h=e[l][2],f=e[l+1][2];h.push(f),f.push(h),n.add(h),n.add(f)}const s=[];let a;for(;n.size>0;){const l=n.values().next().value;let[c,h,f,d,p]=l;n.delete(l);let g=c,y=h;for(a=[c,f],s.push(a);;){let E;if(n.has(d))E=d;else if(n.has(p))E=p;else break;n.delete(E),[c,h,f,d,p]=E,g!==c&&(a.push(g,y,c,y===h?h:f),g=c),y=y===h?f:h}a.push(g,y)}return new YL(s,this.#t,this.#e,this.#i)}#r(t){const e=this.#a;let n=0,s=e.length-1;for(;n<=s;){const a=n+s>>1,l=e[a][0];if(l===t)return a;l<t?n=a+1:s=a-1}return s+1}#o([,t,e]){const n=this.#r(t);this.#a.splice(n,0,[t,e])}#c([,t,e]){const n=this.#r(t);for(let s=n;s<this.#a.length;s++){const[a,l]=this.#a[s];if(a!==t)break;if(a===t&&l===e){this.#a.splice(s,1);return}}for(let s=n-1;s>=0;s--){const[a,l]=this.#a[s];if(a!==t)break;if(a===t&&l===e){this.#a.splice(s,1);return}}}#l(t){const[e,n,s]=t,a=[[e,n,s]],l=this.#r(s);for(let c=0;c<l;c++){const[h,f]=this.#a[c];for(let d=0,p=a.length;d<p;d++){const[,g,y]=a[d];if(!(f<=g||y<=h)){if(g>=h){if(y>f)a[d][1]=f;else{if(p===1)return[];a.splice(d,1),d--,p--}continue}a[d][2]=h,y>f&&a.push([e,f,y])}}}return a}}class YL extends Vt{#t;#e;constructor(t,e,n,s){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=s}toSVGPath(){const t=[];for(const e of this.#e){let[n,s]=e;t.push(`M${n} ${s}`);for(let a=2;a<e.length;a+=2){const l=e[a],c=e[a+1];l===n?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,s],a){const l=[],c=n-t,h=s-e;for(const f of this.#e){const d=new Array(f.length);for(let p=0;p<f.length;p+=2)d[p]=t+f[p]*c,d[p+1]=s-f[p+1]*h;l.push(d)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Tg extends Fs{newFreeDrawOutline(t,e,n,s,a,l){return new $L(t,e,n,s,a,l)}}class $L extends Ux{newOutliner(t,e,n,s,a,l=0){return new Tg(t,e,n,s,a,l)}}class sn extends Zt{#t=null;#e=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#c=null;#l=null;#f=null;#h=!1;#d=null;#g=null;#m=null;#u="";#p;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=se.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=sn.prototype;return re(this,"_keyboardManager",new Zl([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||sn._defaultColor,this.#p=t.thickness||sn._defaultThickness,this.opacity=t.opacity||sn._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#b(t),this.#w()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new xg(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new xg(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:n}=this.#l;this.#d=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:s}=this.#s;this.#g=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const s=1.5;if(this.#s=t.getNewOutline(this.#p/2+s,.0025),e>=0)this.#f=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#f,{bbox:sn.#S(this.#l.box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:sn.#S(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[a,l,c,h]=t.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=c,this.height=h;break;case 90:{const[p,g]=this.parentDimensions;this.x=l,this.y=1-a,this.width=c*g/p,this.height=h*p/g;break}case 180:this.x=1-a,this.y=1-l,this.width=c,this.height=h;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-l,this.y=a,this.width=c*g/p,this.height=h*p/g;break}}const{firstPoint:f}=t;this.#d=[(f[0]-a)/c,(f[1]-l)/h];const{lastPoint:d}=this.#s;this.#g=[(d[0]-a)/c,(d[1]-l)/h]}static initialize(t,e){Zt.initialize(t,e),sn._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case ye.HIGHLIGHT_COLOR:sn._defaultColor=e;break;case ye.HIGHLIGHT_THICKNESS:sn._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#d}updateParams(t,e){switch(t){case ye.HIGHLIGHT_COLOR:this.#x(e);break;case ye.HIGHLIGHT_THICKNESS:this.#A(e);break}}static get defaultPropertiesToUpdate(){return[[ye.HIGHLIGHT_COLOR,sn._defaultColor],[ye.HIGHLIGHT_THICKNESS,sn._defaultThickness]]}get propertiesToUpdate(){return[[ye.HIGHLIGHT_COLOR,this.color||sn._defaultColor],[ye.HIGHLIGHT_THICKNESS,this.#p||sn._defaultThickness],[ye.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#f,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#x(t){const e=(a,l)=>{this.color=a,this.opacity=l,this.onUpdatedColor()},n=this.color,s=this.opacity;this.addCommands({cmd:e.bind(this,t,sn._defaultOpacity),undo:e.bind(this,n,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ye.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#A(t){const e=this.#p,n=s=>{this.#p=s,this.#_(s)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ye.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Ai({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#O())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#O())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#w(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#_(t){this.#h&&(this.#b({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())}#C(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#w(t=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#S([t,e,n,s],a){switch(a){case 90:return[1-e-s,t,s,n];case 180:return[1-t-n,1-e-s,n,s];case 270:return[e,1-t-n,s,n]}return[t,e,n,s]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=sn.#S(this.#l.box,t)):n=sn.#S([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#f,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#m,{bbox:sn.#S(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#N.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(),mx(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#N(t){sn._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#R(!0);break;case 1:case 3:this.#R(!1);break}}#R(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#r,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#h||this.#R(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!t}}))}#O(){return this.#h?this.rotation:0}#B(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,s]=this.pageTranslation,a=this.#i,l=new Float32Array(a.length*8);let c=0;for(const{x:h,y:f,width:d,height:p}of a){const g=h*t+n,y=(1-f)*e+s;l[c]=l[c+4]=g,l[c+1]=l[c+3]=y,l[c+2]=l[c+6]=g+d*t,l[c+5]=l[c+7]=y-p*e,c+=8}return l}#I(t){return this.#l.serialize(t,this.#O())}static startHighlighting(t,e,{target:n,x:s,y:a}){const{x:l,y:c,width:h,height:f}=n.getBoundingClientRect(),d=new AbortController,p=t.combinedSignal(d),g=y=>{d.abort(),this.#F(t,y)};window.addEventListener("blur",g,{signal:p}),window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("pointerdown",en,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Ti,{signal:p}),n.addEventListener("pointermove",this.#L.bind(this,t),{signal:p}),this._freeHighlight=new Tg({x:s,y:a},[l,c,h,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#L(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let s=null;if(t instanceof Bx){const{data:{quadPoints:E,rect:b,rotation:_,id:v,color:S,opacity:x,popupRef:T,richText:C,contentsObj:M,creationDate:L,modificationDate:z},parent:{page:{pageNumber:k}}}=t;s=t={annotationType:se.HIGHLIGHT,color:Array.from(S),opacity:x,quadPoints:E,boxes:null,pageIndex:k-1,rect:b.slice(0),rotation:_,annotationElementId:v,id:v,deleted:!1,popupRef:T,richText:C,comment:M?.str||null,creationDate:L,modificationDate:z}}else if(t instanceof f0){const{data:{inkLists:E,rect:b,rotation:_,id:v,color:S,borderStyle:{rawWidth:x},popupRef:T,richText:C,contentsObj:M,creationDate:L,modificationDate:z},parent:{page:{pageNumber:k}}}=t;s=t={annotationType:se.HIGHLIGHT,color:Array.from(S),thickness:x,inkLists:E,boxes:null,pageIndex:k-1,rect:b.slice(0),rotation:_,annotationElementId:v,id:v,deleted:!1,popupRef:T,richText:C,comment:M?.str||null,creationDate:L,modificationDate:z}}const{color:a,quadPoints:l,inkLists:c,opacity:h}=t,f=await super.deserialize(t,e,n);f.color=Ht.makeHexColor(...a),f.opacity=h||1,c&&(f.#p=t.thickness),f._initialData=s,t.comment&&f.setCommentData(t);const[d,p]=f.pageDimensions,[g,y]=f.pageTranslation;if(l){const E=f.#i=[];for(let b=0;b<l.length;b+=8)E.push({x:(l[b]-g)/d,y:1-(l[b+1]-y)/p,width:(l[b+2]-l[b])/d,height:(l[b+1]-l[b+5])/p});f.#v(),f.#w(),f.rotate(f.rotation)}else if(c){f.#h=!0;const E=c[0],b={x:E[0]-g,y:p-(E[1]-y)},_=new Tg(b,[0,0,d,p],1,f.#p/2,!0,.001);for(let x=0,T=E.length;x<T;x+=2)b.x=E[x]-g,b.y=p-(E[x+1]-y),_.add(b);const{id:v,clipPathId:S}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:_.toSVGPath()}},!0,!0);f.#b({highlightOutlines:_.getOutlines(),highlightId:v,clipPathId:S}),f.#w(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=Zt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#p,quadPoints:this.#B(),outlines:this.#I(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#k(n)?null:(n.id=this.annotationElementId,n)}#k(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,s)=>n!==e[s])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class jx{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Be("Not implemented")}}class xe extends Zt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#s(t),this.#c())}#s({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#r(t,this.parent),this.#h(t.box)}#r(t,e){const{id:n}=e.drawLayer.draw(xe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[s,a]of Object.entries(e))n.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){Be("Not implemented")}static get typesMap(){Be("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(xe.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,s]of this.typesMap)t.push([n,e[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,s]of this.constructor.typesMap)t.push([n,e[s]]);return t}_updateProperty(t,e,n){const s=this._drawingOptions,a=s[e],l=c=>{s.updateProperty(e,c);const h=this.#t.updateProperty(e,c);h&&this.#h(h),this.parent?.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#f()),{bbox:this.#d()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#f()),{bbox:this.#d()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#d()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#d()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#h(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#o()):t&&(this._uiManager.addShouldRescale(this),this.#c(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#r(this.#t,t)}}#l([t,e,n,s]){const{parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[e,1-t,n*(l/a),s*(a/l)];case 180:return[1-t,1-e,n,s];case 270:return[1-e,t,n*(l/a),s*(a/l)];default:return[t,e,n,s]}}#f(){const{x:t,y:e,width:n,height:s,parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[1-e,t,n*(a/l),s*(l/a)];case 180:return[1-t,1-e,n,s];case 270:return[e,1-t,n*(a/l),s*(l/a)];default:return[t,e,n,s]}}#h(t){[this.x,this.y,this.width,this.height]=this.#l(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#d(){const{x:t,y:e,width:n,height:s,rotation:a,parentRotation:l,parentDimensions:[c,h]}=this;switch((a*4+l)/90){case 1:return[1-e-s,t,s,n];case 2:return[1-t-n,1-e-s,n,s];case 3:return[e,1-t-n,s,n];case 4:return[t,e-n*(c/h),s*(h/c),n*(c/h)];case 5:return[1-e,t,n*(c/h),s*(h/c)];case 6:return[1-t-s*(h/c),1-e,s*(h/c),n*(c/h)];case 7:return[e-n*(c/h),1-t-s*(h/c),n*(c/h),s*(h/c)];case 8:return[t-n,e-s,n,s];case 9:return[1-e,t-n,s,n];case 10:return[1-t,1-e,n,s];case 11:return[e-s,1-t,s,n];case 12:return[t-s*(h/c),e,s*(h/c),n*(c/h)];case 13:return[1-e-n*(c/h),t-s*(h/c),n*(c/h),s*(h/c)];case 14:return[1-t,1-e-n*(c/h),s*(h/c),n*(c/h)];case 15:return[e,1-t,n*(c/h),s*(h/c)];default:return[t,e,n,s]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties({bbox:this.#d()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const s=document.createElement("div");return n.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,s,a){Be("Not implemented")}static startDrawing(t,e,n,s){const{target:a,offsetX:l,offsetY:c,pointerId:h,pointerType:f}=s;if(Te.isInitializedAndDifferentPointerType(f))return;const{viewport:{rotation:d}}=t,{width:p,height:g}=a.getBoundingClientRect(),y=xe.#n=new AbortController,E=t.combinedSignal(y);if(Te.setPointer(f,h),window.addEventListener("pointerup",b=>{Te.isSamePointerIdOrRemove(b.pointerId)&&this._endDraw(b)},{signal:E}),window.addEventListener("pointercancel",b=>{Te.isSamePointerIdOrRemove(b.pointerId)&&this._currentParent.endDrawingSession()},{signal:E}),window.addEventListener("pointerdown",b=>{Te.isSamePointerType(b.pointerType)&&(Te.initializeAndAddPointerId(b.pointerId),xe.#i.isCancellable()&&(xe.#i.removeLastElement(),xe.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:E}),window.addEventListener("contextmenu",Ti,{signal:E}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:E}),a.addEventListener("touchmove",b=>{Te.isSameTimeStamp(b.timeStamp)&&en(b)},{signal:E}),t.toggleDrawing(),e._editorUndoBar?.hide(),xe.#i){t.drawLayer.updateProperties(this._currentDrawId,xe.#i.startNew(l,c,p,g,d));return}e.updateUIForDefaultProperties(this),xe.#i=this.createDrawerInstance(l,c,p,g,d),xe.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(xe.#a.toSVGProperties(),xe.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(Te.isSameTimeStamp(t.timeStamp),!xe.#i)return;const{offsetX:e,offsetY:n,pointerId:s}=t;if(Te.isSamePointerId(s)){if(Te.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,xe.#i.add(e,n)),Te.setTimeStamp(t.timeStamp),en(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,xe.#i=null,xe.#a=null,Te.clearTimeStamp()),xe.#n&&(xe.#n.abort(),xe.#n=null,Te.clearPointerIds())}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,xe.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=xe.#i,s=this._currentDrawId,a=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(s,n.setLastElement(a))},undo:()=>{e.drawLayer.updateProperties(s,n.removeLastElement())},mustExec:!1,type:ye.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(ye.DRAW_STEP),!xe.#i.isEmpty()){const{pageDimensions:[n,s],scale:a}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:xe.#i.getOutlines(n*a,s*a,a,this._INNER_MARGIN),drawingOptions:xe.#a,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,s,a,l){Be("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:s,pageHeight:a,pageX:l,pageY:c}}=e.viewport,h=this.deserializeDraw(l,c,s,a,this._INNER_MARGIN,t),f=await super.deserialize(t,e,n);return f.createDrawingOptions(t),f.#s({drawOutlines:h}),f.#c(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,n]=this.pageTranslation,[s,a]=this.pageDimensions;return this.#t.serialize([e,n,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class WL{#t=new Float64Array(6);#e;#i;#n;#a;#s;#r="";#o=0;#c=new Jl;#l;#f;constructor(t,e,n,s,a,l){this.#l=n,this.#f=s,this.#n=a,this.#a=l,[t,e]=this.#h(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:c,points:this.#s}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#h(t,e){return Vt._normalizePoint(t,e,this.#l,this.#f,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,s,a,l]=this.#t.subarray(2,6),c=t-a,h=e-l;return Math.hypot(this.#l*c,this.#f*h)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([a,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,s,a,l,t,e],0),this.#e.push(...Vt.createBezierPoints(n,s,a,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,s,a){this.#l=n,this.#f=s,this.#n=a,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:s}=this.#i[t];this.#e=n,this.#s=s,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=Vt.svgRound(this.#e[4]),e=Vt.svgRound(this.#e[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${t} ${e} Z`,this.#r;if(this.#s.length<=6){const s=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,s)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const s=Vt.svgRound(this.#e[10]),a=Vt.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${s} ${a}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let s=this.#o,a=this.#e.length;s<a;s+=6){const[l,c,h,f,d,p]=this.#e.slice(s,s+6).map(Vt.svgRound);n.push(`C${l} ${c} ${h} ${f} ${d} ${p}`)}return this.#r+=n.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,e,n,s){const a=this.#i.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#c.build(this.#i,t,e,n,this.#n,this.#a,s),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Jl extends Vt{#t;#e=0;#i;#n;#a;#s;#r;#o;#c;build(t,e,n,s,a,l,c){this.#a=e,this.#s=n,this.#r=s,this.#o=a,this.#c=l,this.#i=c??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${Vt.svgRound(e[4])} ${Vt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${Vt.svgRound(e[10])} ${Vt.svgRound(e[11])}`);continue}for(let n=6,s=e.length;n<s;n+=6){const[a,l,c,h,f,d]=e.subarray(n,n+6).map(Vt.svgRound);t.push(`C${a} ${l} ${c} ${h} ${f} ${d}`)}}return t.join("")}serialize([t,e,n,s],a){const l=[],c=[],[h,f,d,p]=this.#f();let g,y,E,b,_,v,S,x,T;switch(this.#o){case 0:T=Vt._rescale,g=t,y=e+s,E=n,b=-s,_=t+h*n,v=e+(1-f-p)*s,S=t+(h+d)*n,x=e+(1-f)*s;break;case 90:T=Vt._rescaleAndSwap,g=t,y=e,E=n,b=s,_=t+f*n,v=e+h*s,S=t+(f+p)*n,x=e+(h+d)*s;break;case 180:T=Vt._rescale,g=t+n,y=e,E=-n,b=s,_=t+(1-h-d)*n,v=e+f*s,S=t+(1-h)*n,x=e+(f+p)*s;break;case 270:T=Vt._rescaleAndSwap,g=t+n,y=e+s,E=-n,b=-s,_=t+(1-f-p)*n,v=e+(1-h-d)*s,S=t+(1-f)*n,x=e+(1-h)*s;break}for(const{line:C,points:M}of this.#n)l.push(T(C,g,y,E,b,a?new Array(C.length):null)),c.push(T(M,g,y,E,b,a?new Array(M.length):null));return{lines:l,points:c,rect:[_,v,S,x]}}static deserialize(t,e,n,s,a,{paths:{lines:l,points:c},rotation:h,thickness:f}){const d=[];let p,g,y,E,b;switch(h){case 0:b=Vt._rescale,p=-t/n,g=e/s+1,y=1/n,E=-1/s;break;case 90:b=Vt._rescaleAndSwap,p=-e/s,g=-t/n,y=1/s,E=1/n;break;case 180:b=Vt._rescale,p=t/n+1,g=-e/s,y=-1/n,E=1/s;break;case 270:b=Vt._rescaleAndSwap,p=e/s+1,g=t/n+1,y=-1/s,E=-1/n;break}if(!l){l=[];for(const v of c){const S=v.length;if(S===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1]]));continue}if(S===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1],NaN,NaN,NaN,NaN,v[2],v[3]]));continue}const x=new Float32Array(3*(S-2));l.push(x);let[T,C,M,L]=v.subarray(0,4);x.set([NaN,NaN,NaN,NaN,T,C],0);for(let z=4;z<S;z+=2){const k=v[z],rt=v[z+1];x.set(Vt.createBezierPoints(T,C,M,L,k,rt),(z-2)*3),[T,C,M,L]=[M,L,k,rt]}}}for(let v=0,S=l.length;v<S;v++)d.push({line:b(l[v].map(x=>x??NaN),p,g,y,E),points:b(c[v].map(x=>x??NaN),p,g,y,E)});const _=new this.prototype.constructor;return _.build(d,n,s,1,h,f,a),_}#l(t=this.#c){const e=this.#i+t/2*this.#r;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#f(){const[t,e,n,s]=this.#t,[a,l]=this.#l(0);return[t+a,e+l,n-2*a,s-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:s}of this.#n){if(s.length<=12){for(let c=4,h=s.length;c<h;c+=6)Ht.pointBoundingBox(s[c],s[c+1],t);continue}let a=s[4],l=s[5];for(let c=6,h=s.length;c<h;c+=6){const[f,d,p,g,y,E]=s.subarray(c,c+6);Ht.bezierBoundingBox(a,l,f,d,p,g,y,E,t),a=y,l=E}}const[e,n]=this.#l();t[0]=Fn(t[0]-e,0,1),t[1]=Fn(t[1]-n,0,1),t[2]=Fn(t[2]+e,0,1),t[3]=Fn(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#d(e):null}#d(t){const[e,n]=this.#l();this.#c=t;const[s,a]=this.#l(),[l,c]=[s-e,a-n],h=this.#t;return h[0]-=l,h[1]-=c,h[2]+=2*l,h[3]+=2*c,h}updateParentDimensions([t,e],n){const[s,a]=this.#l();this.#a=t,this.#s=e,this.#r=n;const[l,c]=this.#l(),h=l-s,f=c-a,d=this.#t;return d[0]-=h,d[1]-=f,d[2]+=2*h,d[3]+=2*f,d}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(Vt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Vt.svgRound(t)} ${Vt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,s=0,a=0,l=0,c=0,h=0;switch(this.#e){case 90:s=e/t,a=-t/e,c=t;break;case 180:n=-1,l=-1,c=t,h=e;break;case 270:s=-e/t,a=t/e,h=e;break;default:return""}return`matrix(${n} ${s} ${a} ${l} ${Vt.svgRound(c)} ${Vt.svgRound(h)})`}getPathResizingSVGProperties([t,e,n,s]){const[a,l]=this.#l(),[c,h,f,d]=this.#t;if(Math.abs(f-a)<=Vt.PRECISION||Math.abs(d-l)<=Vt.PRECISION){const b=t+n/2-(c+f/2),_=e+s/2-(h+d/2);return{path:{"transform-origin":`${Vt.svgRound(t)} ${Vt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${b} ${_})`}}}const p=(n-2*a)/(f-2*a),g=(s-2*l)/(d-2*l),y=f/n,E=d/s;return{path:{"transform-origin":`${Vt.svgRound(c)} ${Vt.svgRound(h)}`,transform:`${this.rotationTransform} scale(${y} ${E}) translate(${Vt.svgRound(a)} ${Vt.svgRound(l)}) scale(${p} ${g}) translate(${Vt.svgRound(-a)} ${Vt.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,s]){const[a,l]=this.#l(),c=this.#t,[h,f,d,p]=c;if(c[0]=t,c[1]=e,c[2]=n,c[3]=s,Math.abs(d-a)<=Vt.PRECISION||Math.abs(p-l)<=Vt.PRECISION){const _=t+n/2-(h+d/2),v=e+s/2-(f+p/2);for(const{line:S,points:x}of this.#n)Vt._translate(S,_,v,S),Vt._translate(x,_,v,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Vt.svgRound(t)} ${Vt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(n-2*a)/(d-2*a),y=(s-2*l)/(p-2*l),E=-g*(h+a)+t+a,b=-y*(f+l)+e+l;if(g!==1||y!==1||E!==0||b!==0)for(const{line:_,points:v}of this.#n)Vt._rescale(_,E,b,g,y,_),Vt._rescale(v,E,b,g,y,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Vt.svgRound(t)} ${Vt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[s,a]=n,l=this.#t,c=t-l[0],h=e-l[1];if(this.#a===s&&this.#s===a)for(const{line:f,points:d}of this.#n)Vt._translate(f,c,h,f),Vt._translate(d,c,h,d);else{const f=this.#a/s,d=this.#s/a;this.#a=s,this.#s=a;for(const{line:p,points:g}of this.#n)Vt._rescale(p,c,h,f,d,p),Vt._rescale(g,c,h,f,d,g);l[2]*=f,l[3]*=d}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Vt.svgRound(t)} ${Vt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Vt.svgRound(t[0])} ${Vt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Oh extends jx{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Zt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Oh(this._viewParameters);return t.updateAll(this),t}}class p0 extends xe{static _type="ink";static _editorType=se.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Zt.initialize(t,e),this._defaultDrawingOptions=new Oh(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return re(this,"typesMap",new Map([[ye.INK_THICKNESS,"stroke-width"],[ye.INK_COLOR,"stroke"],[ye.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,s,a){return new WL(t,e,n,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,s,a,l){return Jl.deserialize(t,e,n,s,a,l)}static async deserialize(t,e,n){let s=null;if(t instanceof f0){const{data:{inkLists:l,rect:c,rotation:h,id:f,color:d,opacity:p,borderStyle:{rawWidth:g},popupRef:y,richText:E,contentsObj:b,creationDate:_,modificationDate:v},parent:{page:{pageNumber:S}}}=t;s=t={annotationType:se.INK,color:Array.from(d),thickness:g,opacity:p,paths:{points:l},boxes:null,pageIndex:S-1,rect:c.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:y,richText:E,comment:b?.str||null,creationDate:_,modificationDate:v}}const a=await super.deserialize(t,e,n);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||=new kl(this),[["colorPicker",this._colorPicker]]}get colorType(){return ye.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=p0.getDefaultDrawingOptions({stroke:Ht.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:Zt._colorManager.convert(s),opacity:a,thickness:l,paths:{lines:e,points:n}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!this.#t(c)?null:(c.id=this.annotationElementId,c)}#t(t){const{color:e,thickness:n,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==e[c])||t.thickness!==n||t.opacity!==s||t.pageIndex!==a}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class Cg extends Jl{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Lu=8,_l=3;class qa{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,s){return n-=t,s-=e,n===0?s>0?0:4:n===1?s+6:2-s}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,s,a,l,c){const h=this.#e(n,s,a,l);for(let f=0;f<8;f++){const d=(-f+h-c+16)%8,p=this.#i[2*d],g=this.#i[2*d+1];if(t[(n+p)*e+(s+g)]!==0)return d}return-1}static#a(t,e,n,s,a,l,c){const h=this.#e(n,s,a,l);for(let f=0;f<8;f++){const d=(f+h+c+16)%8,p=this.#i[2*d],g=this.#i[2*d+1];if(t[(n+p)*e+(s+g)]!==0)return d}return-1}static#s(t,e,n,s){const a=t.length,l=new Int32Array(a);for(let d=0;d<a;d++)l[d]=t[d]<=s?1:0;for(let d=1;d<n-1;d++)l[d*e]=l[d*e+e-1]=0;for(let d=0;d<e;d++)l[d]=l[e*n-1-d]=0;let c=1,h;const f=[];for(let d=1;d<n-1;d++){h=1;for(let p=1;p<e-1;p++){const g=d*e+p,y=l[g];if(y===0)continue;let E=d,b=p;if(y===1&&l[g-1]===0)c+=1,b-=1;else if(y>=1&&l[g+1]===0)c+=1,b+=1,y>1&&(h=y);else{y!==1&&(h=Math.abs(y));continue}const _=[p,d],v=b===p+1,S={isHole:v,points:_,id:c,parent:0};f.push(S);let x;for(const ht of f)if(ht.id===h){x=ht;break}x?x.isHole?S.parent=v?x.parent:h:S.parent=v?h:x.parent:S.parent=v?h:0;const T=this.#n(l,e,d,p,E,b,0);if(T===-1){l[g]=-c,l[g]!==1&&(h=Math.abs(l[g]));continue}let C=this.#i[2*T],M=this.#i[2*T+1];const L=d+C,z=p+M;E=L,b=z;let k=d,rt=p;for(;;){const ht=this.#a(l,e,k,rt,E,b,1);C=this.#i[2*ht],M=this.#i[2*ht+1];const U=k+C,dt=rt+M;_.push(dt,U);const j=k*e+rt;if(l[j+1]===0?l[j]=-c:l[j]===1&&(l[j]=c),U===d&&dt===p&&k===L&&rt===z){l[g]!==1&&(h=Math.abs(l[g]));break}else E=k,b=rt,k=U,rt=dt}}}return f}static#r(t,e,n,s){if(n-e<=4){for(let L=e;L<n-2;L+=2)s.push(t[L],t[L+1]);return}const a=t[e],l=t[e+1],c=t[n-4]-a,h=t[n-3]-l,f=Math.hypot(c,h),d=c/f,p=h/f,g=d*l-p*a,y=h/c,E=1/f,b=Math.atan(y),_=Math.cos(b),v=Math.sin(b),S=E*(Math.abs(_)+Math.abs(v)),x=E*(1-S+S**2),T=Math.max(Math.atan(Math.abs(v+_)*x),Math.atan(Math.abs(v-_)*x));let C=0,M=e;for(let L=e+2;L<n-2;L+=2){const z=Math.abs(g-d*t[L+1]+p*t[L]);z>C&&(M=L,C=z)}C>(f*T)**2?(this.#r(t,e,M+2,s),this.#r(t,M,n,s)):s.push(a,l)}static#o(t){const e=[],n=t.length;return this.#r(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,s,a,l){const c=new Float32Array(l**2),h=-2*s**2,f=l>>1;for(let b=0;b<l;b++){const _=(b-f)**2;for(let v=0;v<l;v++)c[b*l+v]=Math.exp((_+(v-f)**2)/h)}const d=new Float32Array(256),p=-2*a**2;for(let b=0;b<256;b++)d[b]=Math.exp(b**2/p);const g=t.length,y=new Uint8Array(g),E=new Uint32Array(256);for(let b=0;b<n;b++)for(let _=0;_<e;_++){const v=b*e+_,S=t[v];let x=0,T=0;for(let M=0;M<l;M++){const L=b+M-f;if(!(L<0||L>=n))for(let z=0;z<l;z++){const k=_+z-f;if(k<0||k>=e)continue;const rt=t[L*e+k],ht=c[M*l+z]*d[Math.abs(rt-S)];x+=rt*ht,T+=ht}}const C=y[v]=Math.round(x/T);E[C]++}return[y,E]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#f(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let s=-1/0,a=1/0;for(let c=0,h=n.length;c<h;c++){const f=n[c]=t[c<<2];s=Math.max(s,f),a=Math.min(a,f)}const l=255/(s-a);for(let c=0,h=n.length;c<h;c++)n[c]=(n[c]-a)*l;return n}static#h(t){let e,n=-1/0,s=-1/0;const a=t.findIndex(h=>h!==0);let l=a,c=a;for(e=a;e<256;e++){const h=t[e];h>n&&(e-l>s&&(s=e-l,c=e-1),n=h,l=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#d(t){const e=t,{width:n,height:s}=t,{maxDim:a}=this.#t;let l=n,c=s;if(n>a||s>a){let g=n,y=s,E=Math.log2(Math.max(n,s)/a);const b=Math.floor(E);E=E===b?b-1:b;for(let v=0;v<E;v++){l=Math.ceil(g/2),c=Math.ceil(y/2);const S=new OffscreenCanvas(l,c);S.getContext("2d").drawImage(t,0,0,g,y,0,0,l,c),g=l,y=c,t!==e&&t.close(),t=S.transferToImageBitmap()}const _=Math.min(a/l,a/c);l=Math.round(l*_),c=Math.round(c*_)}const f=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,c),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,c);const d=f.getImageData(0,0,l,c).data;return[this.#f(d),l,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:s},a,l,c,h){let f=new OffscreenCanvas(1,1),d=f.getContext("2d",{alpha:!1});const p=200,g=d.font=`${n} ${s} ${p}px ${e}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:E,actualBoundingBoxAscent:b,actualBoundingBoxDescent:_,fontBoundingBoxAscent:v,fontBoundingBoxDescent:S,width:x}=d.measureText(t),T=1.5,C=Math.ceil(Math.max(Math.abs(y)+Math.abs(E)||0,x)*T),M=Math.ceil(Math.max(Math.abs(b)+Math.abs(_)||p,Math.abs(v)+Math.abs(S)||p)*T);f=new OffscreenCanvas(C,M),d=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,C,M),d.fillStyle="black",d.fillText(t,C*(T-1)/2,M*(3-T)/2);const L=this.#f(d.getImageData(0,0,C,M).data),z=this.#l(L),k=this.#h(z),rt=this.#s(L,C,M,k);return this.processDrawnLines({lines:{curves:rt,width:C,height:M},pageWidth:a,pageHeight:l,rotation:c,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,n,s,a){const[l,c,h]=this.#d(t),[f,d]=this.#c(l,c,h,Math.hypot(c,h)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),p=this.#h(d),g=this.#s(f,c,h,p);return this.processDrawnLines({lines:{curves:g,width:c,height:h},pageWidth:e,pageHeight:n,rotation:s,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:a,mustSmooth:l,areContours:c}){s%180!==0&&([e,n]=[n,e]);const{curves:h,width:f,height:d}=t,p=t.thickness??0,g=[],y=Math.min(e/f,n/d),E=y/e,b=y/n,_=[];for(const{points:S}of h){const x=l?this.#o(S):S;if(!x)continue;_.push(x);const T=x.length,C=new Float32Array(T),M=new Float32Array(3*(T===2?2:T-2));if(g.push({line:M,points:C}),T===2){C[0]=x[0]*E,C[1]=x[1]*b,M.set([NaN,NaN,NaN,NaN,C[0],C[1]],0);continue}let[L,z,k,rt]=x;L*=E,z*=b,k*=E,rt*=b,C.set([L,z,k,rt],0),M.set([NaN,NaN,NaN,NaN,L,z],0);for(let ht=4;ht<T;ht+=2){const U=C[ht]=x[ht]*E,dt=C[ht+1]=x[ht+1]*b;M.set(Vt.createBezierPoints(L,z,k,rt,U,dt),(ht-2)*3),[L,z,k,rt]=[k,rt,U,dt]}}if(g.length===0)return null;const v=c?new Cg:new Jl;return v.build(g,e,n,1,s,c?0:p,a),{outline:v,newCurves:_,areContours:c,thickness:p,width:f,height:d}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:s,height:a}){let l=1/0,c=-1/0,h=0;for(const x of t){h+=x.length;for(let T=2,C=x.length;T<C;T++){const M=x[T]-x[T-2];l=Math.min(l,M),c=Math.max(c,M)}}let f;l>=-128&&c<=127?f=Int8Array:l>=-32768&&c<=32767?f=Int16Array:f=Int32Array;const d=t.length,p=Lu+_l*d,g=new Uint32Array(p);let y=0;g[y++]=p*Uint32Array.BYTES_PER_ELEMENT+(h-2*d)*f.BYTES_PER_ELEMENT,g[y++]=0,g[y++]=s,g[y++]=a,g[y++]=e?0:1,g[y++]=Math.max(0,Math.floor(n??0)),g[y++]=d,g[y++]=f.BYTES_PER_ELEMENT;for(const x of t)g[y++]=x.length-2,g[y++]=x[0],g[y++]=x[1];const E=new CompressionStream("deflate-raw"),b=E.writable.getWriter();await b.ready,b.write(g);const _=f.prototype.constructor;for(const x of t){const T=new _(x.length-2);for(let C=2,M=x.length;C<M;C++)T[C-2]=x[C]-x[C-2];b.write(T)}b.close();const v=await new Response(E.readable).arrayBuffer(),S=new Uint8Array(v);return hx(S)}static async decompressSignature(t){try{const e=c3(t),{readable:n,writable:s}=new DecompressionStream("deflate-raw"),a=s.getWriter();await a.ready,a.write(e).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let l=null,c=0;for await(const x of n)l||=new Uint8Array(new Uint32Array(x.buffer,0,4)[0]),l.set(x,c),c+=x.length;const h=new Uint32Array(l.buffer,0,l.length>>2),f=h[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const d=h[2],p=h[3],g=h[4]===0,y=h[5],E=h[6],b=h[7],_=[],v=(Lu+_l*E)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(b){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(l.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(l.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(l.buffer,v);break}c=0;for(let x=0;x<E;x++){const T=h[_l*x+Lu],C=new Float32Array(T+2);_.push(C);for(let M=0;M<_l-1;M++)C[M]=h[_l*x+Lu+M+1];for(let M=0;M<T;M++)C[M+2]=C[M]+S[c++]}return{areContours:g,thickness:y,outlines:_,width:d,height:p}}catch(e){return ie(`decompressSignature: ${e}`),null}}}class m0 extends jx{constructor(){super(),super.updateProperties({fill:Zt._defaultLineColor,"stroke-width":0})}clone(){const t=new m0;return t.updateAll(this),t}}class g0 extends Oh{constructor(t){super(t),super.updateProperties({stroke:Zt._defaultLineColor,"stroke-width":1})}clone(){const t=new g0(this._viewParameters);return t.updateAll(this),t}}class $i extends xe{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=se.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Zt.initialize(t,e),this._defaultDrawingOptions=new m0,this._defaultDrawnSignatureOptions=new g0(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return re(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:s,mustSmooth:a,areContours:l,description:c,uuid:h,heightInPage:f}=this.#i,{rawDims:{pageWidth:d,pageHeight:p},rotation:g}=this.parent.viewport,y=qa.processDrawnLines({lines:s,pageWidth:d,pageHeight:p,rotation:g,innerMargin:$i._INNER_MARGIN,mustSmooth:a,areContours:l});this.addSignature(y,f,c,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:s,height:a}=this.#i,l=Math.max(s,a),c=qa.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:n,width:s,height:a},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,s){const{x:a,y:l}=this,{outline:c}=this.#i=t;this.#t=c instanceof Cg,this.description=n;let h;this.#t?h=$i.getDefaultDrawingOptions():(h=$i._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:h});const[,f]=this.pageDimensions;let d=e/f;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=a,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return qa.process(t,e,n,s,$i._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:s},rotation:a}=this.parent.viewport;return qa.extractContoursFromText(t,e,n,s,a,$i._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return qa.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:$i._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=$i.getDefaultDrawingOptions():(this._drawingOptions=$i._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:s});return this.addComment(a),t?(a.paths={lines:e,points:n},a.uuid=this.#n,a.isCopy=!0):a.lines=e,this.#e&&(a.accessibilityData={type:"Figure",alt:this.#e}),a}static deserializeDraw(t,e,n,s,a,l){return l.areContours?Cg.deserialize(t,e,n,s,a,l):Jl.deserialize(t,e,n,s,a,l)}static async deserialize(t,e,n){const s=await super.deserialize(t,e,n);return s.#t=t.areContours,s.description=t.accessibilityData?.alt||"",s.#n=t.uuid,s}}class XL extends Zt{#t=null;#e=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#c=null;#l=!1;#f=!1;static _type="stamp";static _editorType=se.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Zt.initialize(t,e)}static isHandlingMimeForPasting(t){return bg.includes(t)}static paste(t,e){e.pasteEditor({mode:se.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#m()}#d(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:s,width:a,height:l,channels:s.length/(a*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const h=c.output;return await this.setGuessedAltText(h),e&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#d());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(s=>this.#h(s)).finally(()=>this.#d());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(s=>this.#h(s)).finally(()=>this.#d());return}const t=document.createElement("input");t.type="file",t.accept=bg.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(s)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#d()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,s&&(this.#t=s),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},t)}#m(){const{div:t}=this;let{width:e,height:n}=this.#t;const[s,a]=this.pageDimensions,l=.75;if(this.width)e=this.width*s,n=this.height*a;else if(e>l*s||n>l*a){const h=Math.min(l*s/e,l*a/n);e*=h,n*=h}this._uiManager.enableWaiting(!1);const c=this.#r=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/s,this.height=n/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#p(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:s,height:a}=this.#t,l=new er;let c=this.#t,h=s,f=a,d=null;if(e){if(s>e||a>e){const M=Math.min(e/s,e/a);h=Math.floor(s*M),f=Math.floor(a*M)}d=document.createElement("canvas");const g=d.width=Math.ceil(h*l.sx),y=d.height=Math.ceil(f*l.sy);this.#l||(c=this.#u(g,y));const E=d.getContext("2d");E.filter=this._uiManager.hcmFilter;let b="white",_="#cfcfd8";this._uiManager.hcmFilter!=="none"?_="black":m3.isDarkMode&&(b="#8f8f9d",_="#42414d");const v=15,S=v*l.sx,x=v*l.sy,T=new OffscreenCanvas(S*2,x*2),C=T.getContext("2d");C.fillStyle=b,C.fillRect(0,0,S*2,x*2),C.fillStyle=_,C.fillRect(0,0,S,x),C.fillRect(S,x,S,x),E.fillStyle=E.createPattern(T,"repeat"),E.fillRect(0,0,g,y),E.drawImage(c,0,0,c.width,c.height,0,0,g,y)}let p=null;if(n){let g,y;if(l.symmetric&&c.width<t&&c.height<t)g=c.width,y=c.height;else if(c=this.#t,s>t||a>t){const _=Math.min(t/s,t/a);g=Math.floor(s*_),y=Math.floor(a*_),this.#l||(c=this.#u(g,y))}const b=new OffscreenCanvas(g,y).getContext("2d",{willReadFrequently:!0});b.drawImage(c,0,0,c.width,c.height,0,0,g,y),p={width:g,height:y,data:b.getImageData(0,0,g,y).data}}return{canvas:d,width:h,height:f,imageData:p}}#u(t,e){const{width:n,height:s}=this.#t;let a=n,l=s,c=this.#t;for(;a>2*t||l>2*e;){const h=a,f=l;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const d=new OffscreenCanvas(a,l);d.getContext("2d").drawImage(c,0,0,h,f,0,0,a,l),c=d.transferToImageBitmap()}return c}#p(){const[t,e]=this.parentDimensions,{width:n,height:s}=this,a=new er,l=Math.ceil(n*t*a.sx),c=Math.ceil(s*e*a.sy),h=this.#r;if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const f=this.#l?this.#t:this.#u(l,c),d=h.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(f,0,0,f.width,f.height,0,0,l,c)}#y(t){if(t){if(this.#l){const s=this._uiManager.imageManager.getSvgUrl(this.#e);if(s)return s}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,s=Math.round(this.width*e*uo.PDF_TO_CSS_UNITS),a=Math.round(this.height*n*uo.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,a);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,s,a),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let s=null,a=!1;if(t instanceof Fx){const{data:{rect:b,rotation:_,id:v,structParent:S,popupRef:x,richText:T,contentsObj:C,creationDate:M,modificationDate:L},container:z,parent:{page:{pageNumber:k}},canvas:rt}=t;let ht,U;rt?(delete t.canvas,{id:ht,bitmap:U}=n.imageManager.getFromCanvas(z.id,rt),rt.remove()):(a=!0,t._hasNoCanvas=!0);const dt=(await e._structTree.getAriaAttributes(`${Wa}${v}`))?.get("aria-label")||"";s=t={annotationType:se.STAMP,bitmapId:ht,bitmap:U,pageIndex:k-1,rect:b.slice(0),rotation:_,annotationElementId:v,id:v,deleted:!1,accessibilityData:{decorative:!1,altText:dt},isSvg:!1,structParent:S,popupRef:x,richText:T,comment:C?.str||null,creationDate:M,modificationDate:L}}const l=await super.deserialize(t,e,n),{rect:c,bitmap:h,bitmapUrl:f,bitmapId:d,isSvg:p,accessibilityData:g}=t;a?(n.addMissingCanvas(t.id,l),l.#o=!0):d&&n.imageManager.isValidId(d)?(l.#e=d,h&&(l.#t=h)):l.#n=f,l.#l=p;const[y,E]=l.pageDimensions;return l.width=(c[2]-c[0])/y,l.height=(c[3]-c[1])/E,g&&(l.altTextData=g),l._initialData=s,t.comment&&l.setCommentData(t),l.#f=!!s,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(n.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=this.#v(n);return c.isSame?null:(c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const c=e.stamps.get(this.#e);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#y(!1))}return n}#v(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,s=t.pageIndex===e,a=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Tr{#t;#e=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#c=!1;#l=null;#f=null;#h=null;#d=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([An,p0,XL,sn,$i].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:s,accessibilityManager:a,annotationLayer:l,drawLayer:c,textLayer:h,viewport:f,l10n:d}){const p=[...Tr.#p.values()];if(!Tr._initialized){Tr._initialized=!0;for(const g of p)g.initialize(d,t)}t.registerEditorTypes(p),this.#u=t,this.pageIndex=e,this.div=n,this.#t=a,this.#i=l,this.viewport=f,this.#h=h,this.drawLayer=c,this._structTree=s,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===se.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#_(),t){case se.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case se.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case se.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===se.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of Tr.#p.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.togglePointerEvents(t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#g){this.#g=new AbortController;const s=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:h,timeStamp:f}=a,d=this.#m;if(f-d>500){this.#m=f;return}this.#m=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(c,h);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let y;const E=new RegExp(`^${Dl}[0-9]+$`);for(const _ of g)if(E.test(_.id)){y=_.id;break}if(!y)return;const b=this.#s.get(y);b?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),b.dblclick(a))},{signal:s,capture:!0})}const t=this.#i,e=[];if(t){const s=new Map,a=new Map;for(const c of this.#y){if(c.disableEditing(),!c.annotationElementId){e.push(c);continue}if(c.serialize()!==null){s.set(c.annotationElementId,c);continue}else a.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const l=t.getEditableAnnotations();for(const c of l){const{id:h}=c.data;if(this.#u.isDeletedAnnotationElement(h)){c.updateEdited({deleted:!0});continue}let f=a.get(h);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=s.get(h),f&&(this.#u.addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}this.#_(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of Tr.#p.values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),t?.updateFakeAnnotations(e),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#d){this.#d=new AbortController;const t=this.#u.combinedSignal(this.#d);this.#h.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#d&&(this.#d.abort(),this.#d=null,this.#h.div.classList.remove("highlighting"))}#v(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=yn.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),sn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t),Zt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#b(){return Tr.#p.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#x(t){const e=this.#b;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:s}=this.#A(),a=this.getNextId(),l=this.#x({parent:this,id:a,x:n,y:s,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await Tr.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),a=this.#x({parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:t,y:e,width:n,height:s}=this.boundingClientRect,a=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+n),h=Math.min(window.innerHeight,e+s),f=(a+c)/2-t,d=(l+h)/2-e,[p,g]=this.viewport.rotation%180===0?[f,d]:[d,f];return{offsetX:p,offsetY:g}}addNewEditor(t={}){this.createAndAddNewEditor(this.#A(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=yn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#r||(this.#r=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===se.STAMP||n===se.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===se.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:e}=yn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#r=!0,this.#b?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#f=null,this.commitOrRemove())},{signal:e}),this.#b.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#f=e);return}this.#f&&setTimeout(()=>{this.#f?.focus(),this.#f=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#f=null,this.#b.endDrawing(t)):null}findNewParent(t,e,n){const s=this.#u.findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#_(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Gs(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#_();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Gs(this.div,{rotation:n}),e!==n)for(const s of this.#s.values())s.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class Rn{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return re(this,"_svgFactory",new sh)}static#a(t,[e,n,s,a]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*s}%`,l.height=`${100*a}%`}#s(){const t=Rn._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,e){const n=Rn._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const a=Rn._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),s}#o(t,e){for(const[n,s]of Object.entries(e))s===null?t.removeAttribute(n):t.setAttribute(n,s)}draw(t,e=!1,n=!1){const s=Rn.#n++,a=this.#s(),l=Rn._svgFactory.createElement("defs");a.append(l);const c=Rn._svgFactory.createElement("path");l.append(c);const h=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(s,c);const f=n?this.#r(l,h):null,d=Rn._svgFactory.createElement("use");return a.append(d),d.setAttribute("href",`#${h}`),this.updateProperties(a,t),this.#e.set(s,a),{id:s,clipPathId:`url(#${f})`}}drawOutline(t,e){const n=Rn.#n++,s=this.#s(),a=Rn._svgFactory.createElement("defs");s.append(a);const l=Rn._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const p=Rn._svgFactory.createElement("mask");a.append(p),h=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",h),p.setAttribute("maskUnits","objectBoundingBox");const g=Rn._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const y=Rn._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=Rn._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${c}`),h&&f.setAttribute("mask",`url(#${h})`);const d=f.cloneNode();return s.append(d),f.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(s,t),this.#e.set(n,s),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:s,rootClass:a,path:l}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(n&&this.#o(c,n),s&&Rn.#a(c,s),a){const{classList:h}=c;for(const[f,d]of Object.entries(a))h.toggle(f,d)}if(l){const f=c.firstElementChild.firstElementChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:xg};globalThis.pdfjsLib={AbortException:hs,AnnotationEditorLayer:Tr,AnnotationEditorParamsType:ye,AnnotationEditorType:se,AnnotationEditorUIManager:fs,AnnotationLayer:d0,AnnotationMode:cs,AnnotationType:fn,applyOpacity:y3,build:xL,ColorPicker:Ai,createValidAbsoluteUrl:ox,CSSConstants:g3,DOMSVGFactory:sh,DrawLayer:Rn,FeatureTest:yn,fetchData:Wl,findContrastColor:b3,getDocument:Nx,getFilenameFromUrl:u3,getPdfFilenameFromUrl:h3,getRGB:Kl,getUuid:ux,getXfaPageViewport:d3,GlobalWorkerOptions:ro,ImageKind:$u,InvalidPDFException:gg,isDataScheme:Th,isPdfFile:i0,isValidExplicitDest:O3,MathClamp:Fn,noContextMenu:Ti,normalizeUnicode:o3,OPS:Il,OutputScale:er,PasswordResponses:QM,PDFDataRangeTransport:Dx,PDFDateString:yg,PDFWorker:Ll,PermissionFlag:ZM,PixelsPerInch:uo,RenderingCancelledException:n0,renderRichText:dx,ResponseException:ih,setLayerDimensions:Gs,shadow:re,SignatureExtractor:qa,stopEvent:en,SupportedImageMimeTypes:bg,TextLayer:si,TouchManager:Ch,updateUrlHash:lx,Util:Ht,VerbosityLevel:Ah,version:SL,XfaLayer:fx};const KL="/spot-sly/assets/pdf.worker.min-LyOxJPrg.mjs";ro.workerSrc=KL;function ZL({onResult:r,onError:t,setIsUploading:e}){const n=V.useRef(null),[s,a]=V.useState(null),[l,c]=V.useState(null),h=async f=>{f.preventDefault();const d=f.target.files[0];if(d)try{if(e(!0),c(null),d.type=="application/epub+zip"){const p=new DOMParser,g=await XM(d),y=g.getSpine(),E=[];for(const S of y)E.push(g.loadChapter(S.id));const b=await Promise.all(E),_=[];for(const{html:S}of b){const x=p.parseFromString(S,"text/html");x.querySelectorAll("a").forEach(M=>{const L=x.createTextNode(M.textContent||"");M.parentNode?.replaceChild(L,M)});const C=x.querySelectorAll("h1, h2, h3, h4, h5, h6");C.length&&C.forEach(M=>{const L=M.textContent?.replace(/\s+/g," ").trim()||"Untitled",z=M.tagName,k=[];let rt=M.nextElementSibling;for(;rt&&!/^H[1-6]$/.test(rt.tagName);){const U=rt.textContent?.trim();U&&k.push(U),rt=rt.nextElementSibling}const ht=k.join(" ").replace(/\s+/g," ").trim();ht&&_.push({title:L,text:ht,level:z})})}const v={sections:_,name:d.name.replace(/\.epub$/i,"")};a(v),r&&r(v)}else if(d.type=="application/pdf"){const p=await d.arrayBuffer(),g=await Nx({data:p}).promise,y=[];for(let b=1;b<=g.numPages;b++){const S=(await(await g.getPage(b)).getTextContent()).items.map(x=>"str"in x?x.str:"").join(" ").replace(/\s+/g," ").trim();S&&y.push({title:`Page ${b}`,text:S,level:"H1"})}const E={sections:y,name:d.name.replace(/\.pdf$/i,"")};a(E),r&&r(E)}}catch(p){c(p.message),t&&t(p)}finally{e(!1)}};return X.jsxs(X.Fragment,{children:[X.jsxs(hD,{onClick:()=>{n.current?.click()},className:`
             border-none bg-surface-low hover:bg-surface-med/75 w-full min-w-[400px] min-h-[200px] flex flex-col items-center justify-center cursor-pointer rounded-md
              transition-colors duration-200 ease-in-out
            `,children:[X.jsx("input",{id:"files",ref:n,type:"file",accept:".epub, .pdf",onChange:h,className:"hidden"}),X.jsxs("div",{className:"flex flex-col items-center gap-4 text-center w-full p-8",children:[X.jsxs("div",{className:"flex flex-row gap-2 items-center justify-center",children:[X.jsx(PD,{className:"w-6 h-6 text-on-subtle"}),X.jsx("p",{className:"text-on text-lg",children:"Upload file"})]}),X.jsxs("p",{className:"text-on-subtle text-sm",children:["Drag or select to upload a .PDF or .EPUB file ",X.jsx("br",{}),"smaller than 50 MB"]})]})]}),l&&X.jsx("p",{style:{color:"red"},children:l}),s&&X.jsx("pre",{style:{marginTop:16,padding:12,maxHeight:300,overflow:"auto"},children:JSON.stringify(s,null,2)})]})}var Nh="Collapsible",[QL,zx]=ms(Nh),[JL,y0]=QL(Nh),Hx=V.forwardRef((r,t)=>{const{__scopeCollapsible:e,open:n,defaultOpen:s,disabled:a,onOpenChange:l,...c}=r,[h,f]=Ys({prop:n,defaultProp:s??!1,onChange:l,caller:Nh});return X.jsx(JL,{scope:e,disabled:a,contentId:Ul(),open:h,onOpenToggle:V.useCallback(()=>f(d=>!d),[f]),children:X.jsx(Ge.div,{"data-state":v0(h),"data-disabled":a?"":void 0,...c,ref:t})})});Hx.displayName=Nh;var Gx="CollapsibleTrigger",Vx=V.forwardRef((r,t)=>{const{__scopeCollapsible:e,...n}=r,s=y0(Gx,e);return X.jsx(Ge.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":v0(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:He(r.onClick,s.onOpenToggle)})});Vx.displayName=Gx;var b0="CollapsibleContent",qx=V.forwardRef((r,t)=>{const{forceMount:e,...n}=r,s=y0(b0,r.__scopeCollapsible);return X.jsx(zl,{present:e||s.open,children:({present:a})=>X.jsx(t8,{...n,ref:t,present:a})})});qx.displayName=b0;var t8=V.forwardRef((r,t)=>{const{__scopeCollapsible:e,present:n,children:s,...a}=r,l=y0(b0,e),[c,h]=V.useState(n),f=V.useRef(null),d=bn(t,f),p=V.useRef(0),g=p.current,y=V.useRef(0),E=y.current,b=l.open||c,_=V.useRef(b),v=V.useRef(void 0);return V.useEffect(()=>{const S=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(S)},[]),Nr(()=>{const S=f.current;if(S){v.current=v.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const x=S.getBoundingClientRect();p.current=x.height,y.current=x.width,_.current||(S.style.transitionDuration=v.current.transitionDuration,S.style.animationName=v.current.animationName),h(n)}},[l.open,n]),X.jsx(Ge.div,{"data-state":v0(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!b,...a,ref:d,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...r.style},children:b&&s})});function v0(r){return r?"open":"closed"}var e8=Hx,n8=Vx,i8=qx,Bi="Accordion",r8=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[w0,s8,a8]=qg(Bi),[Dh]=ms(Bi,[a8,zx]),_0=zx(),Yx=ve.forwardRef((r,t)=>{const{type:e,...n}=r,s=n,a=n;return X.jsx(w0.Provider,{scope:r.__scopeAccordion,children:e==="multiple"?X.jsx(u8,{...a,ref:t}):X.jsx(c8,{...s,ref:t})})});Yx.displayName=Bi;var[$x,o8]=Dh(Bi),[Wx,l8]=Dh(Bi,{collapsible:!1}),c8=ve.forwardRef((r,t)=>{const{value:e,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...l}=r,[c,h]=Ys({prop:e,defaultProp:n??"",onChange:s,caller:Bi});return X.jsx($x,{scope:r.__scopeAccordion,value:ve.useMemo(()=>c?[c]:[],[c]),onItemOpen:h,onItemClose:ve.useCallback(()=>a&&h(""),[a,h]),children:X.jsx(Wx,{scope:r.__scopeAccordion,collapsible:a,children:X.jsx(Xx,{...l,ref:t})})})}),u8=ve.forwardRef((r,t)=>{const{value:e,defaultValue:n,onValueChange:s=()=>{},...a}=r,[l,c]=Ys({prop:e,defaultProp:n??[],onChange:s,caller:Bi}),h=ve.useCallback(d=>c((p=[])=>[...p,d]),[c]),f=ve.useCallback(d=>c((p=[])=>p.filter(g=>g!==d)),[c]);return X.jsx($x,{scope:r.__scopeAccordion,value:l,onItemOpen:h,onItemClose:f,children:X.jsx(Wx,{scope:r.__scopeAccordion,collapsible:!0,children:X.jsx(Xx,{...a,ref:t})})})}),[h8,Ih]=Dh(Bi),Xx=ve.forwardRef((r,t)=>{const{__scopeAccordion:e,disabled:n,dir:s,orientation:a="vertical",...l}=r,c=ve.useRef(null),h=bn(c,t),f=s8(e),p=gh(s)==="ltr",g=He(r.onKeyDown,y=>{if(!r8.includes(y.key))return;const E=y.target,b=f().filter(z=>!z.ref.current?.disabled),_=b.findIndex(z=>z.ref.current===E),v=b.length;if(_===-1)return;y.preventDefault();let S=_;const x=0,T=v-1,C=()=>{S=_+1,S>T&&(S=x)},M=()=>{S=_-1,S<x&&(S=T)};switch(y.key){case"Home":S=x;break;case"End":S=T;break;case"ArrowRight":a==="horizontal"&&(p?C():M());break;case"ArrowDown":a==="vertical"&&C();break;case"ArrowLeft":a==="horizontal"&&(p?M():C());break;case"ArrowUp":a==="vertical"&&M();break}const L=S%v;b[L].ref.current?.focus()});return X.jsx(h8,{scope:e,disabled:n,direction:s,orientation:a,children:X.jsx(w0.Slot,{scope:e,children:X.jsx(Ge.div,{...l,"data-orientation":a,ref:h,onKeyDown:n?void 0:g})})})}),ah="AccordionItem",[f8,E0]=Dh(ah),Kx=ve.forwardRef((r,t)=>{const{__scopeAccordion:e,value:n,...s}=r,a=Ih(ah,e),l=o8(ah,e),c=_0(e),h=Ul(),f=n&&l.value.includes(n)||!1,d=a.disabled||r.disabled;return X.jsx(f8,{scope:e,open:f,disabled:d,triggerId:h,children:X.jsx(e8,{"data-orientation":a.orientation,"data-state":nT(f),...c,...s,ref:t,disabled:d,open:f,onOpenChange:p=>{p?l.onItemOpen(n):l.onItemClose(n)}})})});Kx.displayName=ah;var Zx="AccordionHeader",Qx=ve.forwardRef((r,t)=>{const{__scopeAccordion:e,...n}=r,s=Ih(Bi,e),a=E0(Zx,e);return X.jsx(Ge.h3,{"data-orientation":s.orientation,"data-state":nT(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Qx.displayName=Zx;var Rg="AccordionTrigger",Jx=ve.forwardRef((r,t)=>{const{__scopeAccordion:e,...n}=r,s=Ih(Bi,e),a=E0(Rg,e),l=l8(Rg,e),c=_0(e);return X.jsx(w0.ItemSlot,{scope:e,children:X.jsx(n8,{"aria-disabled":a.open&&!l.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...c,...n,ref:t})})});Jx.displayName=Rg;var tT="AccordionContent",eT=ve.forwardRef((r,t)=>{const{__scopeAccordion:e,...n}=r,s=Ih(Bi,e),a=E0(tT,e),l=_0(e);return X.jsx(i8,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...l,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...r.style}})});eT.displayName=tT;function nT(r){return r?"open":"closed"}var d8=Yx,p8=Kx,m8=Qx,iT=Jx,rT=eT;const g8=bS,A0=(r,t)=>e=>g8(r,e?.class,e?.className),sT=A0("group transition-all hover:before:bg-secondary-subtle/25 before:absolute before:rounded-lg before:left-0 px-2 before:w-full before:h-[2rem] before:-z-10"),aT=A0("before:opacity-100 before:bg-secondary/50 hover:before:bg-secondary hover:text-on-secondary"),oT=A0("before:opacity-100 before:bg-primary/20 text-on"),lT=ve.forwardRef(({data:r,initialSelectedItemId:t,onSelectChange:e,expandAll:n,defaultLeafIcon:s,defaultNodeIcon:a,className:l,onDocumentDrag:c,renderItem:h,...f},d)=>{const[p,g]=ve.useState(t),[y,E]=ve.useState(null),b=ve.useCallback(x=>{g(x?.id),e&&e(x)},[e]),_=ve.useCallback(x=>{E(x)},[]),v=ve.useCallback(x=>{y&&c&&y.id!==x.id&&c(y,x),E(null)},[y,c]),S=ve.useMemo(()=>{if(!t)return[];const x=[];function T(C,M){if(Array.isArray(C))for(let L=0;L<C.length;L++){if(x.push(C[L].id),T(C[L],M)&&!n)return!0;n||x.pop()}else{if(!n&&C.id===M)return!0;if(C.children)return T(C.children,M)}}return T(r,t),x},[r,n,t]);return X.jsxs("div",{className:Mn("overflow-hidden relative p-2",l),children:[X.jsx(S0,{data:r,ref:d,selectedItemId:p,handleSelectChange:b,expandedItemIds:S,defaultLeafIcon:s,defaultNodeIcon:a,handleDragStart:_,handleDrop:v,draggedItem:y,renderItem:h,level:0,...f}),X.jsx("div",{className:"w-full h-[48px]",onDrop:()=>{v({id:"",name:"parent_div"})}})]})});lT.displayName="TreeView";const S0=ve.forwardRef(({className:r,data:t,selectedItemId:e,handleSelectChange:n,expandedItemIds:s,defaultNodeIcon:a,defaultLeafIcon:l,handleDragStart:c,handleDrop:h,draggedItem:f,renderItem:d,level:p,onSelectChange:g,expandAll:y,initialSelectedItemId:E,onDocumentDrag:b,..._},v)=>(Array.isArray(t)||(t=[t]),X.jsx("div",{ref:v,role:"tree",className:r,..._,children:X.jsx("ul",{children:t.map(S=>X.jsx("li",{children:S.children?X.jsx(y8,{item:S,level:p??0,selectedItemId:e,expandedItemIds:s,handleSelectChange:n,defaultNodeIcon:a,defaultLeafIcon:l,handleDragStart:c,handleDrop:h,draggedItem:f,renderItem:d}):X.jsx(cT,{item:S,level:p??0,selectedItemId:e,handleSelectChange:n,defaultLeafIcon:l,handleDragStart:c,handleDrop:h,draggedItem:f,renderItem:d})},S.id))})})));S0.displayName="TreeItem";const y8=({item:r,handleSelectChange:t,expandedItemIds:e,selectedItemId:n,defaultNodeIcon:s,defaultLeafIcon:a,handleDragStart:l,handleDrop:c,draggedItem:h,renderItem:f,level:d=0})=>{const[p,g]=ve.useState(e.includes(r.id)?[r.id]:[]),[y,E]=ve.useState(!1),b=!!r.children?.length,_=n===r.id,v=p.includes(r.id),S=M=>{if(!r.draggable){M.preventDefault();return}M.dataTransfer.setData("text/plain",r.id),l?.(r)},x=M=>{r.droppable!==!1&&h&&h.id!==r.id&&(M.preventDefault(),E(!0))},T=()=>{E(!1)},C=M=>{M.preventDefault(),E(!1),c?.(r)};return X.jsx(d8,{type:"multiple",value:p,onValueChange:M=>g(M),children:X.jsxs(p8,{value:r.id,children:[X.jsx(uT,{className:Mn(sT(),_&&aT(),y&&oT(),r.className),onClick:()=>{t(r),r.onClick?.()},draggable:!!r.draggable,onDragStart:S,onDragOver:x,onDragLeave:T,onDrop:C,children:f?f({item:r,level:d,isLeaf:!1,isSelected:_,isOpen:v,hasChildren:b}):X.jsxs(X.Fragment,{children:[X.jsx(fT,{item:r,isSelected:_,isOpen:v,default:s}),X.jsx("span",{className:"text-xs",children:r.name}),X.jsx(dT,{isSelected:_,children:r.actions})]})}),X.jsx(hT,{className:"ml-4 pl-1 border-l",children:X.jsx(S0,{data:r.children?r.children:r,selectedItemId:n,handleSelectChange:t,expandedItemIds:e,defaultLeafIcon:a,defaultNodeIcon:s,handleDragStart:l,handleDrop:c,draggedItem:h,renderItem:f,level:d+1})})]})})},cT=ve.forwardRef(({className:r,item:t,level:e,selectedItemId:n,handleSelectChange:s,defaultLeafIcon:a,handleDragStart:l,handleDrop:c,draggedItem:h,renderItem:f,...d},p)=>{const[g,y]=ve.useState(!1),E=n===t.id,b=x=>{if(!t.draggable||t.disabled){x.preventDefault();return}x.dataTransfer.setData("text/plain",t.id),l?.(t)},_=x=>{t.droppable!==!1&&!t.disabled&&h&&h.id!==t.id&&(x.preventDefault(),y(!0))},v=()=>{y(!1)},S=x=>{t.disabled||(x.preventDefault(),y(!1),c?.(t))};return X.jsx("div",{ref:p,className:Mn("flex text-left items-center py-2 cursor-pointer before:right-1",sT(),r,E&&aT(),g&&oT(),t.disabled&&"opacity-50 cursor-not-allowed pointer-events-none",t.className),onClick:()=>{t.disabled||(s(t),t.onClick?.())},draggable:!!t.draggable&&!t.disabled,onDragStart:b,onDragOver:_,onDragLeave:v,onDrop:S,...d,children:f?X.jsxs(X.Fragment,{children:[X.jsx("div",{className:"h-4 w-4 shrink-0 mr-1"}),f({item:t,level:e,isLeaf:!0,isSelected:E,hasChildren:!1})]}):X.jsxs(X.Fragment,{children:[X.jsx(fT,{item:t,isSelected:E,default:a}),X.jsx("span",{className:"flex-grow text-xs",children:t.name}),X.jsx(dT,{isSelected:E&&!t.disabled,children:t.actions})]})})});cT.displayName="TreeLeaf";const uT=ve.forwardRef(({className:r,children:t,...e},n)=>X.jsx(m8,{children:X.jsxs(iT,{ref:n,className:Mn("flex flex-1 w-full items-center py-2 transition-all first:[&[data-state=open]>svg]:first-of-type:rotate-90",r),...e,children:[X.jsx(TD,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-accent-foreground/50 mr-1"}),t]})}));uT.displayName=iT.displayName;const hT=ve.forwardRef(({className:r,children:t,...e},n)=>X.jsx(rT,{ref:n,className:Mn("overflow-hidden text-xs transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",r),...e,children:X.jsx("div",{className:"pb-1 pt-0",children:t})}));hT.displayName=rT.displayName;const fT=({item:r,isOpen:t,isSelected:e,default:n})=>{let s=n;return e&&r.selectedIcon?s=r.selectedIcon:t&&r.openIcon?s=r.openIcon:r.icon&&(s=r.icon),s?X.jsx(s,{className:"h-4 w-4 shrink-0 mr-2"}):X.jsx(X.Fragment,{})},dT=({children:r,isSelected:t})=>X.jsx("div",{className:Mn(t?"block":"hidden","absolute right-3 group-hover:block"),children:r}),rE="app-wpm",Wm=600;function Mh(){const[r,t]=V.useState(()=>{if(typeof window>"u")return Wm;const n=localStorage.getItem(rE);if(n){const s=parseInt(n,10);return isNaN(s)?Wm:s}return Wm});return V.useEffect(()=>{localStorage.setItem(rE,r.toString())},[r]),{wpm:r,setWpm:n=>{t(typeof n=="function"?s=>n(s):n)}}}function b8(r,t=globalThis?.document){const e=Hs(r);V.useEffect(()=>{const n=s=>{s.key==="Escape"&&e(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[e,t])}var v8="DismissableLayer",Og="dismissableLayer.update",w8="dismissableLayer.pointerDownOutside",_8="dismissableLayer.focusOutside",sE,pT=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mT=V.forwardRef((r,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...h}=r,f=V.useContext(pT),[d,p]=V.useState(null),g=d?.ownerDocument??globalThis?.document,[,y]=V.useState({}),E=bn(t,L=>p(L)),b=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),v=b.indexOf(_),S=d?b.indexOf(d):-1,x=f.layersWithOutsidePointerEventsDisabled.size>0,T=S>=v,C=S8(L=>{const z=L.target,k=[...f.branches].some(rt=>rt.contains(z));!T||k||(s?.(L),l?.(L),L.defaultPrevented||c?.())},g),M=x8(L=>{const z=L.target;[...f.branches].some(rt=>rt.contains(z))||(a?.(L),l?.(L),L.defaultPrevented||c?.())},g);return b8(L=>{S===f.layers.size-1&&(n?.(L),!L.defaultPrevented&&c&&(L.preventDefault(),c()))},g),V.useEffect(()=>{if(d)return e&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(sE=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(d)),f.layers.add(d),aE(),()=>{e&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=sE)}},[d,g,e,f]),V.useEffect(()=>()=>{d&&(f.layers.delete(d),f.layersWithOutsidePointerEventsDisabled.delete(d),aE())},[d,f]),V.useEffect(()=>{const L=()=>y({});return document.addEventListener(Og,L),()=>document.removeEventListener(Og,L)},[]),X.jsx(Ge.div,{...h,ref:E,style:{pointerEvents:x?T?"auto":"none":void 0,...r.style},onFocusCapture:He(r.onFocusCapture,M.onFocusCapture),onBlurCapture:He(r.onBlurCapture,M.onBlurCapture),onPointerDownCapture:He(r.onPointerDownCapture,C.onPointerDownCapture)})});mT.displayName=v8;var E8="DismissableLayerBranch",A8=V.forwardRef((r,t)=>{const e=V.useContext(pT),n=V.useRef(null),s=bn(t,n);return V.useEffect(()=>{const a=n.current;if(a)return e.branches.add(a),()=>{e.branches.delete(a)}},[e.branches]),X.jsx(Ge.div,{...r,ref:s})});A8.displayName=E8;function S8(r,t=globalThis?.document){const e=Hs(r),n=V.useRef(!1),s=V.useRef(()=>{});return V.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let h=function(){gT(w8,e,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=h,t.addEventListener("click",s.current,{once:!0})):h()}else t.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,e]),{onPointerDownCapture:()=>n.current=!0}}function x8(r,t=globalThis?.document){const e=Hs(r),n=V.useRef(!1);return V.useEffect(()=>{const s=a=>{a.target&&!n.current&&gT(_8,e,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function aE(){const r=new CustomEvent(Og);document.dispatchEvent(r)}function gT(r,t,e,{discrete:n}){const s=e.originalEvent.target,a=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:e});t&&s.addEventListener(r,t,{once:!0}),n?XO(s,a):s.dispatchEvent(a)}var Xm=0;function T8(){V.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??oE()),document.body.insertAdjacentElement("beforeend",r[1]??oE()),Xm++,()=>{Xm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Xm--}},[])}function oE(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Km="focusScope.autoFocusOnMount",Zm="focusScope.autoFocusOnUnmount",lE={bubbles:!1,cancelable:!0},C8="FocusScope",yT=V.forwardRef((r,t)=>{const{loop:e=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=r,[c,h]=V.useState(null),f=Hs(s),d=Hs(a),p=V.useRef(null),g=bn(t,b=>h(b)),y=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(n){let b=function(x){if(y.paused||!c)return;const T=x.target;c.contains(T)?p.current=T:ls(p.current,{select:!0})},_=function(x){if(y.paused||!c)return;const T=x.relatedTarget;T!==null&&(c.contains(T)||ls(p.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const C of x)C.removedNodes.length>0&&ls(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",_);const S=new MutationObserver(v);return c&&S.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",_),S.disconnect()}}},[n,c,y.paused]),V.useEffect(()=>{if(c){uE.add(y);const b=document.activeElement;if(!c.contains(b)){const v=new CustomEvent(Km,lE);c.addEventListener(Km,f),c.dispatchEvent(v),v.defaultPrevented||(R8(M8(bT(c)),{select:!0}),document.activeElement===b&&ls(c))}return()=>{c.removeEventListener(Km,f),setTimeout(()=>{const v=new CustomEvent(Zm,lE);c.addEventListener(Zm,d),c.dispatchEvent(v),v.defaultPrevented||ls(b??document.body,{select:!0}),c.removeEventListener(Zm,d),uE.remove(y)},0)}}},[c,f,d,y]);const E=V.useCallback(b=>{if(!e&&!n||y.paused)return;const _=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,v=document.activeElement;if(_&&v){const S=b.currentTarget,[x,T]=O8(S);x&&T?!b.shiftKey&&v===T?(b.preventDefault(),e&&ls(x,{select:!0})):b.shiftKey&&v===x&&(b.preventDefault(),e&&ls(T,{select:!0})):v===S&&b.preventDefault()}},[e,n,y.paused]);return X.jsx(Ge.div,{tabIndex:-1,...l,ref:g,onKeyDown:E})});yT.displayName=C8;function R8(r,{select:t=!1}={}){const e=document.activeElement;for(const n of r)if(ls(n,{select:t}),document.activeElement!==e)return}function O8(r){const t=bT(r),e=cE(t,r),n=cE(t.reverse(),r);return[e,n]}function bT(r){const t=[],e=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function cE(r,t){for(const e of r)if(!N8(e,{upTo:t}))return e}function N8(r,{upTo:t}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(t!==void 0&&r===t)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function D8(r){return r instanceof HTMLInputElement&&"select"in r}function ls(r,{select:t=!1}={}){if(r&&r.focus){const e=document.activeElement;r.focus({preventScroll:!0}),r!==e&&D8(r)&&t&&r.select()}}var uE=I8();function I8(){let r=[];return{add(t){const e=r[0];t!==e&&e?.pause(),r=hE(r,t),r.unshift(t)},remove(t){r=hE(r,t),r[0]?.resume()}}}function hE(r,t){const e=[...r],n=e.indexOf(t);return n!==-1&&e.splice(n,1),e}function M8(r){return r.filter(t=>t.tagName!=="A")}const L8=["top","right","bottom","left"],ds=Math.min,oi=Math.max,oh=Math.round,ku=Math.floor,tr=r=>({x:r,y:r}),k8={left:"right",right:"left",bottom:"top",top:"bottom"},P8={start:"end",end:"start"};function Ng(r,t,e){return oi(r,ds(t,e))}function Dr(r,t){return typeof r=="function"?r(t):r}function Ir(r){return r.split("-")[0]}function wo(r){return r.split("-")[1]}function x0(r){return r==="x"?"y":"x"}function T0(r){return r==="y"?"height":"width"}const B8=new Set(["top","bottom"]);function Ji(r){return B8.has(Ir(r))?"y":"x"}function C0(r){return x0(Ji(r))}function F8(r,t,e){e===void 0&&(e=!1);const n=wo(r),s=C0(r),a=T0(s);let l=s==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=lh(l)),[l,lh(l)]}function U8(r){const t=lh(r);return[Dg(r),t,Dg(t)]}function Dg(r){return r.replace(/start|end/g,t=>P8[t])}const fE=["left","right"],dE=["right","left"],j8=["top","bottom"],z8=["bottom","top"];function H8(r,t,e){switch(r){case"top":case"bottom":return e?t?dE:fE:t?fE:dE;case"left":case"right":return t?j8:z8;default:return[]}}function G8(r,t,e,n){const s=wo(r);let a=H8(Ir(r),e==="start",n);return s&&(a=a.map(l=>l+"-"+s),t&&(a=a.concat(a.map(Dg)))),a}function lh(r){return r.replace(/left|right|bottom|top/g,t=>k8[t])}function V8(r){return{top:0,right:0,bottom:0,left:0,...r}}function vT(r){return typeof r!="number"?V8(r):{top:r,right:r,bottom:r,left:r}}function ch(r){const{x:t,y:e,width:n,height:s}=r;return{width:n,height:s,top:e,left:t,right:t+n,bottom:e+s,x:t,y:e}}function pE(r,t,e){let{reference:n,floating:s}=r;const a=Ji(t),l=C0(t),c=T0(l),h=Ir(t),f=a==="y",d=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,g=n[c]/2-s[c]/2;let y;switch(h){case"top":y={x:d,y:n.y-s.height};break;case"bottom":y={x:d,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-s.width,y:p};break;default:y={x:n.x,y:n.y}}switch(wo(t)){case"start":y[l]-=g*(e&&f?-1:1);break;case"end":y[l]+=g*(e&&f?-1:1);break}return y}const q8=async(r,t,e)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:l}=e,c=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:r,floating:t,strategy:s}),{x:d,y:p}=pE(f,n,h),g=n,y={},E=0;for(let b=0;b<c.length;b++){const{name:_,fn:v}=c[b],{x:S,y:x,data:T,reset:C}=await v({x:d,y:p,initialPlacement:n,placement:g,strategy:s,middlewareData:y,rects:f,platform:l,elements:{reference:r,floating:t}});d=S??d,p=x??p,y={...y,[_]:{...y[_],...T}},C&&E<=50&&(E++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(f=C.rects===!0?await l.getElementRects({reference:r,floating:t,strategy:s}):C.rects),{x:d,y:p}=pE(f,g,h)),b=-1)}return{x:d,y:p,placement:g,strategy:s,middlewareData:y}};async function Pl(r,t){var e;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:l,elements:c,strategy:h}=r,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:g=!1,padding:y=0}=Dr(t,r),E=vT(y),_=c[g?p==="floating"?"reference":"floating":p],v=ch(await a.getClippingRect({element:(e=await(a.isElement==null?void 0:a.isElement(_)))==null||e?_:_.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:d,strategy:h})),S=p==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),T=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},C=ch(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:S,offsetParent:x,strategy:h}):S);return{top:(v.top-C.top+E.top)/T.y,bottom:(C.bottom-v.bottom+E.bottom)/T.y,left:(v.left-C.left+E.left)/T.x,right:(C.right-v.right+E.right)/T.x}}const Y8=r=>({name:"arrow",options:r,async fn(t){const{x:e,y:n,placement:s,rects:a,platform:l,elements:c,middlewareData:h}=t,{element:f,padding:d=0}=Dr(r,t)||{};if(f==null)return{};const p=vT(d),g={x:e,y:n},y=C0(s),E=T0(y),b=await l.getDimensions(f),_=y==="y",v=_?"top":"left",S=_?"bottom":"right",x=_?"clientHeight":"clientWidth",T=a.reference[E]+a.reference[y]-g[y]-a.floating[E],C=g[y]-a.reference[y],M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let L=M?M[x]:0;(!L||!await(l.isElement==null?void 0:l.isElement(M)))&&(L=c.floating[x]||a.floating[E]);const z=T/2-C/2,k=L/2-b[E]/2-1,rt=ds(p[v],k),ht=ds(p[S],k),U=rt,dt=L-b[E]-ht,j=L/2-b[E]/2+z,yt=Ng(U,j,dt),et=!h.arrow&&wo(s)!=null&&j!==yt&&a.reference[E]/2-(j<U?rt:ht)-b[E]/2<0,Q=et?j<U?j-U:j-dt:0;return{[y]:g[y]+Q,data:{[y]:yt,centerOffset:j-yt-Q,...et&&{alignmentOffset:Q}},reset:et}}}),$8=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(t){var e,n;const{placement:s,middlewareData:a,rects:l,initialPlacement:c,platform:h,elements:f}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:b=!0,..._}=Dr(r,t);if((e=a.arrow)!=null&&e.alignmentOffset)return{};const v=Ir(s),S=Ji(c),x=Ir(c)===c,T=await(h.isRTL==null?void 0:h.isRTL(f.floating)),C=g||(x||!b?[lh(c)]:U8(c)),M=E!=="none";!g&&M&&C.push(...G8(c,b,E,T));const L=[c,...C],z=await Pl(t,_),k=[];let rt=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&k.push(z[v]),p){const j=F8(s,l,T);k.push(z[j[0]],z[j[1]])}if(rt=[...rt,{placement:s,overflows:k}],!k.every(j=>j<=0)){var ht,U;const j=(((ht=a.flip)==null?void 0:ht.index)||0)+1,yt=L[j];if(yt&&(!(p==="alignment"?S!==Ji(yt):!1)||rt.every(ft=>Ji(ft.placement)===S?ft.overflows[0]>0:!0)))return{data:{index:j,overflows:rt},reset:{placement:yt}};let et=(U=rt.filter(Q=>Q.overflows[0]<=0).sort((Q,ft)=>Q.overflows[1]-ft.overflows[1])[0])==null?void 0:U.placement;if(!et)switch(y){case"bestFit":{var dt;const Q=(dt=rt.filter(ft=>{if(M){const vt=Ji(ft.placement);return vt===S||vt==="y"}return!0}).map(ft=>[ft.placement,ft.overflows.filter(vt=>vt>0).reduce((vt,It)=>vt+It,0)]).sort((ft,vt)=>ft[1]-vt[1])[0])==null?void 0:dt[0];Q&&(et=Q);break}case"initialPlacement":et=c;break}if(s!==et)return{reset:{placement:et}}}return{}}}};function mE(r,t){return{top:r.top-t.height,right:r.right-t.width,bottom:r.bottom-t.height,left:r.left-t.width}}function gE(r){return L8.some(t=>r[t]>=0)}const W8=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(t){const{rects:e}=t,{strategy:n="referenceHidden",...s}=Dr(r,t);switch(n){case"referenceHidden":{const a=await Pl(t,{...s,elementContext:"reference"}),l=mE(a,e.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:gE(l)}}}case"escaped":{const a=await Pl(t,{...s,altBoundary:!0}),l=mE(a,e.floating);return{data:{escapedOffsets:l,escaped:gE(l)}}}default:return{}}}}},wT=new Set(["left","top"]);async function X8(r,t){const{placement:e,platform:n,elements:s}=r,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),l=Ir(e),c=wo(e),h=Ji(e)==="y",f=wT.has(l)?-1:1,d=a&&h?-1:1,p=Dr(t,r);let{mainAxis:g,crossAxis:y,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof E=="number"&&(y=c==="end"?E*-1:E),h?{x:y*d,y:g*f}:{x:g*f,y:y*d}}const K8=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(t){var e,n;const{x:s,y:a,placement:l,middlewareData:c}=t,h=await X8(t,r);return l===((e=c.offset)==null?void 0:e.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:l}}}}},Z8=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(t){const{x:e,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:_=>{let{x:v,y:S}=_;return{x:v,y:S}}},...h}=Dr(r,t),f={x:e,y:n},d=await Pl(t,h),p=Ji(Ir(s)),g=x0(p);let y=f[g],E=f[p];if(a){const _=g==="y"?"top":"left",v=g==="y"?"bottom":"right",S=y+d[_],x=y-d[v];y=Ng(S,y,x)}if(l){const _=p==="y"?"top":"left",v=p==="y"?"bottom":"right",S=E+d[_],x=E-d[v];E=Ng(S,E,x)}const b=c.fn({...t,[g]:y,[p]:E});return{...b,data:{x:b.x-e,y:b.y-n,enabled:{[g]:a,[p]:l}}}}}},Q8=function(r){return r===void 0&&(r={}),{options:r,fn(t){const{x:e,y:n,placement:s,rects:a,middlewareData:l}=t,{offset:c=0,mainAxis:h=!0,crossAxis:f=!0}=Dr(r,t),d={x:e,y:n},p=Ji(s),g=x0(p);let y=d[g],E=d[p];const b=Dr(c,t),_=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const x=g==="y"?"height":"width",T=a.reference[g]-a.floating[x]+_.mainAxis,C=a.reference[g]+a.reference[x]-_.mainAxis;y<T?y=T:y>C&&(y=C)}if(f){var v,S;const x=g==="y"?"width":"height",T=wT.has(Ir(s)),C=a.reference[p]-a.floating[x]+(T&&((v=l.offset)==null?void 0:v[p])||0)+(T?0:_.crossAxis),M=a.reference[p]+a.reference[x]+(T?0:((S=l.offset)==null?void 0:S[p])||0)-(T?_.crossAxis:0);E<C?E=C:E>M&&(E=M)}return{[g]:y,[p]:E}}}},J8=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(t){var e,n;const{placement:s,rects:a,platform:l,elements:c}=t,{apply:h=()=>{},...f}=Dr(r,t),d=await Pl(t,f),p=Ir(s),g=wo(s),y=Ji(s)==="y",{width:E,height:b}=a.floating;let _,v;p==="top"||p==="bottom"?(_=p,v=g===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(v=p,_=g==="end"?"top":"bottom");const S=b-d.top-d.bottom,x=E-d.left-d.right,T=ds(b-d[_],S),C=ds(E-d[v],x),M=!t.middlewareData.shift;let L=T,z=C;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(z=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(L=S),M&&!g){const rt=oi(d.left,0),ht=oi(d.right,0),U=oi(d.top,0),dt=oi(d.bottom,0);y?z=E-2*(rt!==0||ht!==0?rt+ht:oi(d.left,d.right)):L=b-2*(U!==0||dt!==0?U+dt:oi(d.top,d.bottom))}await h({...t,availableWidth:z,availableHeight:L});const k=await l.getDimensions(c.floating);return E!==k.width||b!==k.height?{reset:{rects:!0}}:{}}}};function Lh(){return typeof window<"u"}function _o(r){return _T(r)?(r.nodeName||"").toLowerCase():"#document"}function li(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function rr(r){var t;return(t=(_T(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function _T(r){return Lh()?r instanceof Node||r instanceof li(r).Node:!1}function ki(r){return Lh()?r instanceof Element||r instanceof li(r).Element:!1}function nr(r){return Lh()?r instanceof HTMLElement||r instanceof li(r).HTMLElement:!1}function yE(r){return!Lh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof li(r).ShadowRoot}const tk=new Set(["inline","contents"]);function tc(r){const{overflow:t,overflowX:e,overflowY:n,display:s}=Pi(r);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!tk.has(s)}const ek=new Set(["table","td","th"]);function nk(r){return ek.has(_o(r))}const ik=[":popover-open",":modal"];function kh(r){return ik.some(t=>{try{return r.matches(t)}catch{return!1}})}const rk=["transform","translate","scale","rotate","perspective"],sk=["transform","translate","scale","rotate","perspective","filter"],ak=["paint","layout","strict","content"];function R0(r){const t=O0(),e=ki(r)?Pi(r):r;return rk.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||sk.some(n=>(e.willChange||"").includes(n))||ak.some(n=>(e.contain||"").includes(n))}function ok(r){let t=ps(r);for(;nr(t)&&!ho(t);){if(R0(t))return t;if(kh(t))return null;t=ps(t)}return null}function O0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lk=new Set(["html","body","#document"]);function ho(r){return lk.has(_o(r))}function Pi(r){return li(r).getComputedStyle(r)}function Ph(r){return ki(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function ps(r){if(_o(r)==="html")return r;const t=r.assignedSlot||r.parentNode||yE(r)&&r.host||rr(r);return yE(t)?t.host:t}function ET(r){const t=ps(r);return ho(t)?r.ownerDocument?r.ownerDocument.body:r.body:nr(t)&&tc(t)?t:ET(t)}function Bl(r,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const s=ET(r),a=s===((n=r.ownerDocument)==null?void 0:n.body),l=li(s);if(a){const c=Ig(l);return t.concat(l,l.visualViewport||[],tc(s)?s:[],c&&e?Bl(c):[])}return t.concat(s,Bl(s,[],e))}function Ig(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function AT(r){const t=Pi(r);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=nr(r),a=s?r.offsetWidth:e,l=s?r.offsetHeight:n,c=oh(e)!==a||oh(n)!==l;return c&&(e=a,n=l),{width:e,height:n,$:c}}function N0(r){return ki(r)?r:r.contextElement}function so(r){const t=N0(r);if(!nr(t))return tr(1);const e=t.getBoundingClientRect(),{width:n,height:s,$:a}=AT(t);let l=(a?oh(e.width):e.width)/n,c=(a?oh(e.height):e.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const ck=tr(0);function ST(r){const t=li(r);return!O0()||!t.visualViewport?ck:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uk(r,t,e){return t===void 0&&(t=!1),!e||t&&e!==li(r)?!1:t}function qs(r,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const s=r.getBoundingClientRect(),a=N0(r);let l=tr(1);t&&(n?ki(n)&&(l=so(n)):l=so(r));const c=uk(a,e,n)?ST(a):tr(0);let h=(s.left+c.x)/l.x,f=(s.top+c.y)/l.y,d=s.width/l.x,p=s.height/l.y;if(a){const g=li(a),y=n&&ki(n)?li(n):n;let E=g,b=Ig(E);for(;b&&n&&y!==E;){const _=so(b),v=b.getBoundingClientRect(),S=Pi(b),x=v.left+(b.clientLeft+parseFloat(S.paddingLeft))*_.x,T=v.top+(b.clientTop+parseFloat(S.paddingTop))*_.y;h*=_.x,f*=_.y,d*=_.x,p*=_.y,h+=x,f+=T,E=li(b),b=Ig(E)}}return ch({width:d,height:p,x:h,y:f})}function Bh(r,t){const e=Ph(r).scrollLeft;return t?t.left+e:qs(rr(r)).left+e}function xT(r,t){const e=r.getBoundingClientRect(),n=e.left+t.scrollLeft-Bh(r,e),s=e.top+t.scrollTop;return{x:n,y:s}}function hk(r){let{elements:t,rect:e,offsetParent:n,strategy:s}=r;const a=s==="fixed",l=rr(n),c=t?kh(t.floating):!1;if(n===l||c&&a)return e;let h={scrollLeft:0,scrollTop:0},f=tr(1);const d=tr(0),p=nr(n);if((p||!p&&!a)&&((_o(n)!=="body"||tc(l))&&(h=Ph(n)),nr(n))){const y=qs(n);f=so(n),d.x=y.x+n.clientLeft,d.y=y.y+n.clientTop}const g=l&&!p&&!a?xT(l,h):tr(0);return{width:e.width*f.x,height:e.height*f.y,x:e.x*f.x-h.scrollLeft*f.x+d.x+g.x,y:e.y*f.y-h.scrollTop*f.y+d.y+g.y}}function fk(r){return Array.from(r.getClientRects())}function dk(r){const t=rr(r),e=Ph(r),n=r.ownerDocument.body,s=oi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=oi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-e.scrollLeft+Bh(r);const c=-e.scrollTop;return Pi(n).direction==="rtl"&&(l+=oi(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:l,y:c}}const bE=25;function pk(r,t){const e=li(r),n=rr(r),s=e.visualViewport;let a=n.clientWidth,l=n.clientHeight,c=0,h=0;if(s){a=s.width,l=s.height;const d=O0();(!d||d&&t==="fixed")&&(c=s.offsetLeft,h=s.offsetTop)}const f=Bh(n);if(f<=0){const d=n.ownerDocument,p=d.body,g=getComputedStyle(p),y=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,E=Math.abs(n.clientWidth-p.clientWidth-y);E<=bE&&(a-=E)}else f<=bE&&(a+=f);return{width:a,height:l,x:c,y:h}}const mk=new Set(["absolute","fixed"]);function gk(r,t){const e=qs(r,!0,t==="fixed"),n=e.top+r.clientTop,s=e.left+r.clientLeft,a=nr(r)?so(r):tr(1),l=r.clientWidth*a.x,c=r.clientHeight*a.y,h=s*a.x,f=n*a.y;return{width:l,height:c,x:h,y:f}}function vE(r,t,e){let n;if(t==="viewport")n=pk(r,e);else if(t==="document")n=dk(rr(r));else if(ki(t))n=gk(t,e);else{const s=ST(r);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ch(n)}function TT(r,t){const e=ps(r);return e===t||!ki(e)||ho(e)?!1:Pi(e).position==="fixed"||TT(e,t)}function yk(r,t){const e=t.get(r);if(e)return e;let n=Bl(r,[],!1).filter(c=>ki(c)&&_o(c)!=="body"),s=null;const a=Pi(r).position==="fixed";let l=a?ps(r):r;for(;ki(l)&&!ho(l);){const c=Pi(l),h=R0(l);!h&&c.position==="fixed"&&(s=null),(a?!h&&!s:!h&&c.position==="static"&&!!s&&mk.has(s.position)||tc(l)&&!h&&TT(r,l))?n=n.filter(d=>d!==l):s=c,l=ps(l)}return t.set(r,n),n}function bk(r){let{element:t,boundary:e,rootBoundary:n,strategy:s}=r;const l=[...e==="clippingAncestors"?kh(t)?[]:yk(t,this._c):[].concat(e),n],c=l[0],h=l.reduce((f,d)=>{const p=vE(t,d,s);return f.top=oi(p.top,f.top),f.right=ds(p.right,f.right),f.bottom=ds(p.bottom,f.bottom),f.left=oi(p.left,f.left),f},vE(t,c,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function vk(r){const{width:t,height:e}=AT(r);return{width:t,height:e}}function wk(r,t,e){const n=nr(t),s=rr(t),a=e==="fixed",l=qs(r,!0,a,t);let c={scrollLeft:0,scrollTop:0};const h=tr(0);function f(){h.x=Bh(s)}if(n||!n&&!a)if((_o(t)!=="body"||tc(s))&&(c=Ph(t)),n){const y=qs(t,!0,a,t);h.x=y.x+t.clientLeft,h.y=y.y+t.clientTop}else s&&f();a&&!n&&s&&f();const d=s&&!n&&!a?xT(s,c):tr(0),p=l.left+c.scrollLeft-h.x-d.x,g=l.top+c.scrollTop-h.y-d.y;return{x:p,y:g,width:l.width,height:l.height}}function Qm(r){return Pi(r).position==="static"}function wE(r,t){if(!nr(r)||Pi(r).position==="fixed")return null;if(t)return t(r);let e=r.offsetParent;return rr(r)===e&&(e=e.ownerDocument.body),e}function CT(r,t){const e=li(r);if(kh(r))return e;if(!nr(r)){let s=ps(r);for(;s&&!ho(s);){if(ki(s)&&!Qm(s))return s;s=ps(s)}return e}let n=wE(r,t);for(;n&&nk(n)&&Qm(n);)n=wE(n,t);return n&&ho(n)&&Qm(n)&&!R0(n)?e:n||ok(r)||e}const _k=async function(r){const t=this.getOffsetParent||CT,e=this.getDimensions,n=await e(r.floating);return{reference:wk(r.reference,await t(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ek(r){return Pi(r).direction==="rtl"}const Ak={convertOffsetParentRelativeRectToViewportRelativeRect:hk,getDocumentElement:rr,getClippingRect:bk,getOffsetParent:CT,getElementRects:_k,getClientRects:fk,getDimensions:vk,getScale:so,isElement:ki,isRTL:Ek};function RT(r,t){return r.x===t.x&&r.y===t.y&&r.width===t.width&&r.height===t.height}function Sk(r,t){let e=null,n;const s=rr(r);function a(){var c;clearTimeout(n),(c=e)==null||c.disconnect(),e=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const f=r.getBoundingClientRect(),{left:d,top:p,width:g,height:y}=f;if(c||t(),!g||!y)return;const E=ku(p),b=ku(s.clientWidth-(d+g)),_=ku(s.clientHeight-(p+y)),v=ku(d),x={rootMargin:-E+"px "+-b+"px "+-_+"px "+-v+"px",threshold:oi(0,ds(1,h))||1};let T=!0;function C(M){const L=M[0].intersectionRatio;if(L!==h){if(!T)return l();L?l(!1,L):n=setTimeout(()=>{l(!1,1e-7)},1e3)}L===1&&!RT(f,r.getBoundingClientRect())&&l(),T=!1}try{e=new IntersectionObserver(C,{...x,root:s.ownerDocument})}catch{e=new IntersectionObserver(C,x)}e.observe(r)}return l(!0),a}function xk(r,t,e,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,f=N0(r),d=s||a?[...f?Bl(f):[],...Bl(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",e,{passive:!0}),a&&v.addEventListener("resize",e)});const p=f&&c?Sk(f,e):null;let g=-1,y=null;l&&(y=new ResizeObserver(v=>{let[S]=v;S&&S.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=y)==null||x.observe(t)})),e()}),f&&!h&&y.observe(f),y.observe(t));let E,b=h?qs(r):null;h&&_();function _(){const v=qs(r);b&&!RT(b,v)&&e(),b=v,E=requestAnimationFrame(_)}return e(),()=>{var v;d.forEach(S=>{s&&S.removeEventListener("scroll",e),a&&S.removeEventListener("resize",e)}),p?.(),(v=y)==null||v.disconnect(),y=null,h&&cancelAnimationFrame(E)}}const Tk=K8,Ck=Z8,Rk=$8,Ok=J8,Nk=W8,_E=Y8,Dk=Q8,Ik=(r,t,e)=>{const n=new Map,s={platform:Ak,...e},a={...s.platform,_c:n};return q8(r,t,{...s,platform:a})};var Mk=typeof document<"u",Lk=function(){},Ku=Mk?V.useLayoutEffect:Lk;function uh(r,t){if(r===t)return!0;if(typeof r!=typeof t)return!1;if(typeof r=="function"&&r.toString()===t.toString())return!0;let e,n,s;if(r&&t&&typeof r=="object"){if(Array.isArray(r)){if(e=r.length,e!==t.length)return!1;for(n=e;n--!==0;)if(!uh(r[n],t[n]))return!1;return!0}if(s=Object.keys(r),e=s.length,e!==Object.keys(t).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=e;n--!==0;){const a=s[n];if(!(a==="_owner"&&r.$$typeof)&&!uh(r[a],t[a]))return!1}return!0}return r!==r&&t!==t}function OT(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function EE(r,t){const e=OT(r);return Math.round(t*e)/e}function Jm(r){const t=V.useRef(r);return Ku(()=>{t.current=r}),t}function kk(r){r===void 0&&(r={});const{placement:t="bottom",strategy:e="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:h,open:f}=r,[d,p]=V.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=V.useState(n);uh(g,n)||y(n);const[E,b]=V.useState(null),[_,v]=V.useState(null),S=V.useCallback(ft=>{ft!==M.current&&(M.current=ft,b(ft))},[]),x=V.useCallback(ft=>{ft!==L.current&&(L.current=ft,v(ft))},[]),T=a||E,C=l||_,M=V.useRef(null),L=V.useRef(null),z=V.useRef(d),k=h!=null,rt=Jm(h),ht=Jm(s),U=Jm(f),dt=V.useCallback(()=>{if(!M.current||!L.current)return;const ft={placement:t,strategy:e,middleware:g};ht.current&&(ft.platform=ht.current),Ik(M.current,L.current,ft).then(vt=>{const It={...vt,isPositioned:U.current!==!1};j.current&&!uh(z.current,It)&&(z.current=It,Yg.flushSync(()=>{p(It)}))})},[g,t,e,ht,U]);Ku(()=>{f===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,p(ft=>({...ft,isPositioned:!1})))},[f]);const j=V.useRef(!1);Ku(()=>(j.current=!0,()=>{j.current=!1}),[]),Ku(()=>{if(T&&(M.current=T),C&&(L.current=C),T&&C){if(rt.current)return rt.current(T,C,dt);dt()}},[T,C,dt,rt,k]);const yt=V.useMemo(()=>({reference:M,floating:L,setReference:S,setFloating:x}),[S,x]),et=V.useMemo(()=>({reference:T,floating:C}),[T,C]),Q=V.useMemo(()=>{const ft={position:e,left:0,top:0};if(!et.floating)return ft;const vt=EE(et.floating,d.x),It=EE(et.floating,d.y);return c?{...ft,transform:"translate("+vt+"px, "+It+"px)",...OT(et.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:vt,top:It}},[e,c,et.floating,d.x,d.y]);return V.useMemo(()=>({...d,update:dt,refs:yt,elements:et,floatingStyles:Q}),[d,dt,yt,et,Q])}const Pk=r=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:r,fn(e){const{element:n,padding:s}=typeof r=="function"?r(e):r;return n&&t(n)?n.current!=null?_E({element:n.current,padding:s}).fn(e):{}:n?_E({element:n,padding:s}).fn(e):{}}}},Bk=(r,t)=>({...Tk(r),options:[r,t]}),Fk=(r,t)=>({...Ck(r),options:[r,t]}),Uk=(r,t)=>({...Dk(r),options:[r,t]}),jk=(r,t)=>({...Rk(r),options:[r,t]}),zk=(r,t)=>({...Ok(r),options:[r,t]}),Hk=(r,t)=>({...Nk(r),options:[r,t]}),Gk=(r,t)=>({...Pk(r),options:[r,t]});var Vk="Arrow",NT=V.forwardRef((r,t)=>{const{children:e,width:n=10,height:s=5,...a}=r;return X.jsx(Ge.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?e:X.jsx("polygon",{points:"0,0 30,0 15,10"})})});NT.displayName=Vk;var qk=NT;function DT(r){const[t,e]=V.useState(void 0);return Nr(()=>{if(r){e({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,c;if("borderBoxSize"in a){const h=a.borderBoxSize,f=Array.isArray(h)?h[0]:h;l=f.inlineSize,c=f.blockSize}else l=r.offsetWidth,c=r.offsetHeight;e({width:l,height:c})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else e(void 0)},[r]),t}var D0="Popper",[IT,MT]=ms(D0),[Yk,LT]=IT(D0),kT=r=>{const{__scopePopper:t,children:e}=r,[n,s]=V.useState(null);return X.jsx(Yk,{scope:t,anchor:n,onAnchorChange:s,children:e})};kT.displayName=D0;var PT="PopperAnchor",BT=V.forwardRef((r,t)=>{const{__scopePopper:e,virtualRef:n,...s}=r,a=LT(PT,e),l=V.useRef(null),c=bn(t,l),h=V.useRef(null);return V.useEffect(()=>{const f=h.current;h.current=n?.current||l.current,f!==h.current&&a.onAnchorChange(h.current)}),n?null:X.jsx(Ge.div,{...s,ref:c})});BT.displayName=PT;var I0="PopperContent",[$k,Wk]=IT(I0),FT=V.forwardRef((r,t)=>{const{__scopePopper:e,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:E,...b}=r,_=LT(I0,e),[v,S]=V.useState(null),x=bn(t,N=>S(N)),[T,C]=V.useState(null),M=DT(T),L=M?.width??0,z=M?.height??0,k=n+(a!=="center"?"-"+a:""),rt=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},ht=Array.isArray(f)?f:[f],U=ht.length>0,dt={padding:rt,boundary:ht.filter(Kk),altBoundary:U},{refs:j,floatingStyles:yt,placement:et,isPositioned:Q,middlewareData:ft}=kk({strategy:"fixed",placement:k,whileElementsMounted:(...N)=>xk(...N,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[Bk({mainAxis:s+z,alignmentAxis:l}),h&&Fk({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Uk():void 0,...dt}),h&&jk({...dt}),zk({...dt,apply:({elements:N,rects:D,availableWidth:ot,availableHeight:J})=>{const{width:G,height:W}=D.reference,St=N.floating.style;St.setProperty("--radix-popper-available-width",`${ot}px`),St.setProperty("--radix-popper-available-height",`${J}px`),St.setProperty("--radix-popper-anchor-width",`${G}px`),St.setProperty("--radix-popper-anchor-height",`${W}px`)}}),T&&Gk({element:T,padding:c}),Zk({arrowWidth:L,arrowHeight:z}),g&&Hk({strategy:"referenceHidden",...dt})]}),[vt,It]=zT(et),H=Hs(E);Nr(()=>{Q&&H?.()},[Q,H]);const Z=ft.arrow?.x,K=ft.arrow?.y,st=ft.arrow?.centerOffset!==0,[ut,ct]=V.useState();return Nr(()=>{v&&ct(window.getComputedStyle(v).zIndex)},[v]),X.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...yt,transform:Q?yt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[ft.transformOrigin?.x,ft.transformOrigin?.y].join(" "),...ft.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:X.jsx($k,{scope:e,placedSide:vt,onArrowChange:C,arrowX:Z,arrowY:K,shouldHideArrow:st,children:X.jsx(Ge.div,{"data-side":vt,"data-align":It,...b,ref:x,style:{...b.style,animation:Q?void 0:"none"}})})})});FT.displayName=I0;var UT="PopperArrow",Xk={top:"bottom",right:"left",bottom:"top",left:"right"},jT=V.forwardRef(function(t,e){const{__scopePopper:n,...s}=t,a=Wk(UT,n),l=Xk[a.placedSide];return X.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:X.jsx(qk,{...s,ref:e,style:{...s.style,display:"block"}})})});jT.displayName=UT;function Kk(r){return r!==null}var Zk=r=>({name:"transformOrigin",options:r,fn(t){const{placement:e,rects:n,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,c=l?0:r.arrowWidth,h=l?0:r.arrowHeight,[f,d]=zT(e),p={start:"0%",center:"50%",end:"100%"}[d],g=(s.arrow?.x??0)+c/2,y=(s.arrow?.y??0)+h/2;let E="",b="";return f==="bottom"?(E=l?p:`${g}px`,b=`${-h}px`):f==="top"?(E=l?p:`${g}px`,b=`${n.floating.height+h}px`):f==="right"?(E=`${-h}px`,b=l?p:`${y}px`):f==="left"&&(E=`${n.floating.width+h}px`,b=l?p:`${y}px`),{data:{x:E,y:b}}}});function zT(r){const[t,e="center"]=r.split("-");return[t,e]}var Qk=kT,HT=BT,Jk=FT,tP=jT,eP="Portal",GT=V.forwardRef((r,t)=>{const{container:e,...n}=r,[s,a]=V.useState(!1);Nr(()=>a(!0),[]);const l=e||s&&globalThis?.document?.body;return l?$O.createPortal(X.jsx(Ge.div,{...n,ref:t}),l):null});GT.displayName=eP;var nP=function(r){if(typeof document>"u")return null;var t=Array.isArray(r)?r[0]:r;return t.ownerDocument.body},ja=new WeakMap,Pu=new WeakMap,Bu={},tg=0,VT=function(r){return r&&(r.host||VT(r.parentNode))},iP=function(r,t){return t.map(function(e){if(r.contains(e))return e;var n=VT(e);return n&&r.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",r,". Doing nothing"),null)}).filter(function(e){return!!e})},rP=function(r,t,e,n){var s=iP(t,Array.isArray(r)?r:[r]);Bu[e]||(Bu[e]=new WeakMap);var a=Bu[e],l=[],c=new Set,h=new Set(s),f=function(p){!p||c.has(p)||(c.add(p),f(p.parentNode))};s.forEach(f);var d=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(g){if(c.has(g))d(g);else try{var y=g.getAttribute(n),E=y!==null&&y!=="false",b=(ja.get(g)||0)+1,_=(a.get(g)||0)+1;ja.set(g,b),a.set(g,_),l.push(g),b===1&&E&&Pu.set(g,!0),_===1&&g.setAttribute(e,"true"),E||g.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",g,v)}})};return d(t),c.clear(),tg++,function(){l.forEach(function(p){var g=ja.get(p)-1,y=a.get(p)-1;ja.set(p,g),a.set(p,y),g||(Pu.has(p)||p.removeAttribute(n),Pu.delete(p)),y||p.removeAttribute(e)}),tg--,tg||(ja=new WeakMap,ja=new WeakMap,Pu=new WeakMap,Bu={})}},sP=function(r,t,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),s=nP(r);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),rP(n,s,e,"aria-hidden")):function(){return null}},Qi=function(){return Qi=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Qi.apply(this,arguments)};function qT(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(e[n[s]]=r[n[s]]);return e}function aP(r,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return r.concat(a||Array.prototype.slice.call(t))}var Zu="right-scroll-bar-position",Qu="width-before-scroll-bar",oP="with-scroll-bars-hidden",lP="--removed-body-scroll-bar-size";function eg(r,t){return typeof r=="function"?r(t):r&&(r.current=t),r}function cP(r,t){var e=V.useState(function(){return{value:r,callback:t,facade:{get current(){return e.value},set current(n){var s=e.value;s!==n&&(e.value=n,e.callback(n,s))}}}})[0];return e.callback=t,e.facade}var uP=typeof window<"u"?V.useLayoutEffect:V.useEffect,AE=new WeakMap;function hP(r,t){var e=cP(null,function(n){return r.forEach(function(s){return eg(s,n)})});return uP(function(){var n=AE.get(e);if(n){var s=new Set(n),a=new Set(r),l=e.current;s.forEach(function(c){a.has(c)||eg(c,null)}),a.forEach(function(c){s.has(c)||eg(c,l)})}AE.set(e,r)},[r]),e}function fP(r){return r}function dP(r,t){t===void 0&&(t=fP);var e=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:r},useMedium:function(a){var l=t(a,n);return e.push(l),function(){e=e.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(n=!0;e.length;){var l=e;e=[],l.forEach(a)}e={push:function(c){return a(c)},filter:function(){return e}}},assignMedium:function(a){n=!0;var l=[];if(e.length){var c=e;e=[],c.forEach(a),l=e}var h=function(){var d=l;l=[],d.forEach(a)},f=function(){return Promise.resolve().then(h)};f(),e={push:function(d){l.push(d),f()},filter:function(d){return l=l.filter(d),e}}}};return s}function pP(r){r===void 0&&(r={});var t=dP(null);return t.options=Qi({async:!0,ssr:!1},r),t}var YT=function(r){var t=r.sideCar,e=qT(r,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return V.createElement(n,Qi({},e))};YT.isSideCarExport=!0;function mP(r,t){return r.useMedium(t),YT}var $T=pP(),ng=function(){},Fh=V.forwardRef(function(r,t){var e=V.useRef(null),n=V.useState({onScrollCapture:ng,onWheelCapture:ng,onTouchMoveCapture:ng}),s=n[0],a=n[1],l=r.forwardProps,c=r.children,h=r.className,f=r.removeScrollBar,d=r.enabled,p=r.shards,g=r.sideCar,y=r.noRelative,E=r.noIsolation,b=r.inert,_=r.allowPinchZoom,v=r.as,S=v===void 0?"div":v,x=r.gapMode,T=qT(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=g,M=hP([e,t]),L=Qi(Qi({},T),s);return V.createElement(V.Fragment,null,d&&V.createElement(C,{sideCar:$T,removeScrollBar:f,shards:p,noRelative:y,noIsolation:E,inert:b,setCallbacks:a,allowPinchZoom:!!_,lockRef:e,gapMode:x}),l?V.cloneElement(V.Children.only(c),Qi(Qi({},L),{ref:M})):V.createElement(S,Qi({},L,{className:h,ref:M}),c))});Fh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fh.classNames={fullWidth:Qu,zeroRight:Zu};var gP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yP(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var t=gP();return t&&r.setAttribute("nonce",t),r}function bP(r,t){r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}function vP(r){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(r)}var wP=function(){var r=0,t=null;return{add:function(e){r==0&&(t=yP())&&(bP(t,e),vP(t)),r++},remove:function(){r--,!r&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_P=function(){var r=wP();return function(t,e){V.useEffect(function(){return r.add(t),function(){r.remove()}},[t&&e])}},WT=function(){var r=_P(),t=function(e){var n=e.styles,s=e.dynamic;return r(n,s),null};return t},EP={left:0,top:0,right:0,gap:0},ig=function(r){return parseInt(r||"",10)||0},AP=function(r){var t=window.getComputedStyle(document.body),e=t[r==="padding"?"paddingLeft":"marginLeft"],n=t[r==="padding"?"paddingTop":"marginTop"],s=t[r==="padding"?"paddingRight":"marginRight"];return[ig(e),ig(n),ig(s)]},SP=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return EP;var t=AP(r),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-e+t[2]-t[0])}},xP=WT(),ao="data-scroll-locked",TP=function(r,t,e,n){var s=r.left,a=r.top,l=r.right,c=r.gap;return e===void 0&&(e="margin"),`
  .`.concat(oP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(ao,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zu,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Qu,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Zu," .").concat(Zu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Qu," .").concat(Qu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ao,`] {
    `).concat(lP,": ").concat(c,`px;
  }
`)},SE=function(){var r=parseInt(document.body.getAttribute(ao)||"0",10);return isFinite(r)?r:0},CP=function(){V.useEffect(function(){return document.body.setAttribute(ao,(SE()+1).toString()),function(){var r=SE()-1;r<=0?document.body.removeAttribute(ao):document.body.setAttribute(ao,r.toString())}},[])},RP=function(r){var t=r.noRelative,e=r.noImportant,n=r.gapMode,s=n===void 0?"margin":n;CP();var a=V.useMemo(function(){return SP(s)},[s]);return V.createElement(xP,{styles:TP(a,!t,s,e?"":"!important")})},Mg=!1;if(typeof window<"u")try{var Fu=Object.defineProperty({},"passive",{get:function(){return Mg=!0,!0}});window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{Mg=!1}var za=Mg?{passive:!1}:!1,OP=function(r){return r.tagName==="TEXTAREA"},XT=function(r,t){if(!(r instanceof Element))return!1;var e=window.getComputedStyle(r);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!OP(r)&&e[t]==="visible")},NP=function(r){return XT(r,"overflowY")},DP=function(r){return XT(r,"overflowX")},xE=function(r,t){var e=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=KT(r,n);if(s){var a=ZT(r,n),l=a[1],c=a[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==e.body);return!1},IP=function(r){var t=r.scrollTop,e=r.scrollHeight,n=r.clientHeight;return[t,e,n]},MP=function(r){var t=r.scrollLeft,e=r.scrollWidth,n=r.clientWidth;return[t,e,n]},KT=function(r,t){return r==="v"?NP(t):DP(t)},ZT=function(r,t){return r==="v"?IP(t):MP(t)},LP=function(r,t){return r==="h"&&t==="rtl"?-1:1},kP=function(r,t,e,n,s){var a=LP(r,window.getComputedStyle(t).direction),l=a*n,c=e.target,h=t.contains(c),f=!1,d=l>0,p=0,g=0;do{if(!c)break;var y=ZT(r,c),E=y[0],b=y[1],_=y[2],v=b-_-a*E;(E||v)&&KT(r,c)&&(p+=v,g+=E);var S=c.parentNode;c=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!h&&c!==document.body||h&&(t.contains(c)||t===c));return(d&&Math.abs(p)<1||!d&&Math.abs(g)<1)&&(f=!0),f},Uu=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},TE=function(r){return[r.deltaX,r.deltaY]},CE=function(r){return r&&"current"in r?r.current:r},PP=function(r,t){return r[0]===t[0]&&r[1]===t[1]},BP=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},FP=0,Ha=[];function UP(r){var t=V.useRef([]),e=V.useRef([0,0]),n=V.useRef(),s=V.useState(FP++)[0],a=V.useState(WT)[0],l=V.useRef(r);V.useEffect(function(){l.current=r},[r]),V.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(s));var b=aP([r.lockRef.current],(r.shards||[]).map(CE),!0).filter(Boolean);return b.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[r.inert,r.lockRef.current,r.shards]);var c=V.useCallback(function(b,_){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var v=Uu(b),S=e.current,x="deltaX"in b?b.deltaX:S[0]-v[0],T="deltaY"in b?b.deltaY:S[1]-v[1],C,M=b.target,L=Math.abs(x)>Math.abs(T)?"h":"v";if("touches"in b&&L==="h"&&M.type==="range")return!1;var z=window.getSelection(),k=z&&z.anchorNode,rt=k?k===M||k.contains(M):!1;if(rt)return!1;var ht=xE(L,M);if(!ht)return!0;if(ht?C=L:(C=L==="v"?"h":"v",ht=xE(L,M)),!ht)return!1;if(!n.current&&"changedTouches"in b&&(x||T)&&(n.current=C),!C)return!0;var U=n.current||C;return kP(U,_,b,U==="h"?x:T)},[]),h=V.useCallback(function(b){var _=b;if(!(!Ha.length||Ha[Ha.length-1]!==a)){var v="deltaY"in _?TE(_):Uu(_),S=t.current.filter(function(C){return C.name===_.type&&(C.target===_.target||_.target===C.shadowParent)&&PP(C.delta,v)})[0];if(S&&S.should){_.cancelable&&_.preventDefault();return}if(!S){var x=(l.current.shards||[]).map(CE).filter(Boolean).filter(function(C){return C.contains(_.target)}),T=x.length>0?c(_,x[0]):!l.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),f=V.useCallback(function(b,_,v,S){var x={name:b,delta:_,target:v,should:S,shadowParent:jP(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(T){return T!==x})},1)},[]),d=V.useCallback(function(b){e.current=Uu(b),n.current=void 0},[]),p=V.useCallback(function(b){f(b.type,TE(b),b.target,c(b,r.lockRef.current))},[]),g=V.useCallback(function(b){f(b.type,Uu(b),b.target,c(b,r.lockRef.current))},[]);V.useEffect(function(){return Ha.push(a),r.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",h,za),document.addEventListener("touchmove",h,za),document.addEventListener("touchstart",d,za),function(){Ha=Ha.filter(function(b){return b!==a}),document.removeEventListener("wheel",h,za),document.removeEventListener("touchmove",h,za),document.removeEventListener("touchstart",d,za)}},[]);var y=r.removeScrollBar,E=r.inert;return V.createElement(V.Fragment,null,E?V.createElement(a,{styles:BP(s)}):null,y?V.createElement(RP,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function jP(r){for(var t=null;r!==null;)r instanceof ShadowRoot&&(t=r.host,r=r.host),r=r.parentNode;return t}const zP=mP($T,UP);var QT=V.forwardRef(function(r,t){return V.createElement(Fh,Qi({},r,{ref:t,sideCar:zP}))});QT.classNames=Fh.classNames;var Uh="Popover",[JT]=ms(Uh,[MT]),ec=MT(),[HP,gs]=JT(Uh),t2=r=>{const{__scopePopover:t,children:e,open:n,defaultOpen:s,onOpenChange:a,modal:l=!1}=r,c=ec(t),h=V.useRef(null),[f,d]=V.useState(!1),[p,g]=Ys({prop:n,defaultProp:s??!1,onChange:a,caller:Uh});return X.jsx(Qk,{...c,children:X.jsx(HP,{scope:t,contentId:Ul(),triggerRef:h,open:p,onOpenChange:g,onOpenToggle:V.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:f,onCustomAnchorAdd:V.useCallback(()=>d(!0),[]),onCustomAnchorRemove:V.useCallback(()=>d(!1),[]),modal:l,children:e})})};t2.displayName=Uh;var e2="PopoverAnchor",GP=V.forwardRef((r,t)=>{const{__scopePopover:e,...n}=r,s=gs(e2,e),a=ec(e),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=s;return V.useEffect(()=>(l(),()=>c()),[l,c]),X.jsx(HT,{...a,...n,ref:t})});GP.displayName=e2;var n2="PopoverTrigger",i2=V.forwardRef((r,t)=>{const{__scopePopover:e,...n}=r,s=gs(n2,e),a=ec(e),l=bn(t,s.triggerRef),c=X.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":l2(s.open),...n,ref:l,onClick:He(r.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:X.jsx(HT,{asChild:!0,...a,children:c})});i2.displayName=n2;var M0="PopoverPortal",[VP,qP]=JT(M0,{forceMount:void 0}),r2=r=>{const{__scopePopover:t,forceMount:e,children:n,container:s}=r,a=gs(M0,t);return X.jsx(VP,{scope:t,forceMount:e,children:X.jsx(zl,{present:e||a.open,children:X.jsx(GT,{asChild:!0,container:s,children:n})})})};r2.displayName=M0;var fo="PopoverContent",s2=V.forwardRef((r,t)=>{const e=qP(fo,r.__scopePopover),{forceMount:n=e.forceMount,...s}=r,a=gs(fo,r.__scopePopover);return X.jsx(zl,{present:n||a.open,children:a.modal?X.jsx($P,{...s,ref:t}):X.jsx(WP,{...s,ref:t})})});s2.displayName=fo;var YP=eh("PopoverContent.RemoveScroll"),$P=V.forwardRef((r,t)=>{const e=gs(fo,r.__scopePopover),n=V.useRef(null),s=bn(t,n),a=V.useRef(!1);return V.useEffect(()=>{const l=n.current;if(l)return sP(l)},[]),X.jsx(QT,{as:YP,allowPinchZoom:!0,children:X.jsx(a2,{...r,ref:s,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(r.onCloseAutoFocus,l=>{l.preventDefault(),a.current||e.triggerRef.current?.focus()}),onPointerDownOutside:He(r.onPointerDownOutside,l=>{const c=l.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0,f=c.button===2||h;a.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:He(r.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),WP=V.forwardRef((r,t)=>{const e=gs(fo,r.__scopePopover),n=V.useRef(!1),s=V.useRef(!1);return X.jsx(a2,{...r,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{r.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||e.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{r.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;e.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),a2=V.forwardRef((r,t)=>{const{__scopePopover:e,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:d,...p}=r,g=gs(fo,e),y=ec(e);return T8(),X.jsx(yT,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:X.jsx(mT,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:d,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:X.jsx(Jk,{"data-state":l2(g.open),role:"dialog",id:g.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),o2="PopoverClose",XP=V.forwardRef((r,t)=>{const{__scopePopover:e,...n}=r,s=gs(o2,e);return X.jsx(Ge.button,{type:"button",...n,ref:t,onClick:He(r.onClick,()=>s.onOpenChange(!1))})});XP.displayName=o2;var KP="PopoverArrow",ZP=V.forwardRef((r,t)=>{const{__scopePopover:e,...n}=r,s=ec(e);return X.jsx(tP,{...s,...n,ref:t})});ZP.displayName=KP;function l2(r){return r?"open":"closed"}var QP=t2,JP=i2,t4=r2,e4=s2;function L0({...r}){return X.jsx(QP,{"data-slot":"popover",...r})}function k0({...r}){return X.jsx(JP,{"data-slot":"popover-trigger",...r})}function P0({className:r,align:t="center",sideOffset:e=4,...n}){return X.jsx(t4,{children:X.jsx(e4,{"data-slot":"popover-content",align:t,sideOffset:e,className:Mn("bg-surface-med text-on data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-2 pb-4 outline-hidden",r),...n})})}function c2({wpm:r,setWpm:t,trigger:e,step:n=60}){return X.jsxs(L0,{children:[X.jsx(k0,{asChild:!0,children:e}),X.jsxs(P0,{side:"top",sideOffset:8,className:"bg-surface-med border-none rounded-lg w-fit shadow-2xl",children:[X.jsxs("div",{className:"space-y-4",children:[X.jsx("p",{className:"text-on-subtle text-sm font-medium px-1",children:"Change reading speed"}),X.jsxs("div",{className:"h-6 flex items-center justify-center gap-2",children:[X.jsxs("button",{type:"button",onClick:()=>t(s=>s-n),className:"flex items-center gap-1 text-on transition-colors bg-surface-hi/50 hover:bg-surface-hi rounded-lg !px-3",children:[X.jsx(RD,{className:"w-4 h-4"}),X.jsx("span",{className:"text-sm font-medium",children:n})]}),X.jsxs("div",{className:"flex-1 bg-surface-hi rounded-lg p-2 flex items-center justify-center gap-1",children:[X.jsx("span",{className:"text-on-subtle text-sm font-bold uppercase tracking-wider",children:"WPM"}),X.jsx("span",{className:"text-on text-sm font-semibold",children:r})]}),X.jsxs("button",{type:"button",onClick:()=>t(s=>s+n),className:"flex items-center gap-1 text-on transition-colors bg-surface-hi/50 hover:bg-surface-hi rounded-lg !px-3",children:[X.jsx(ID,{className:"w-4 h-4"}),X.jsx("span",{className:"text-sm font-medium",children:n})]})]})]}),X.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-surface-med rotate-45"})]})]})}function u2({hasTextSelected:r,onStartReading:t,noTextHint:e="Highlight a section to start reading!"}){const{wpm:n,setWpm:s}=Mh();return X.jsxs("div",{className:"w-full flex flex-col gap-2 fixed bottom-6 items-center",children:[X.jsxs("div",{className:"buttons flex flex-row gap-3",children:[X.jsx(c2,{wpm:n,setWpm:s,trigger:X.jsxs("button",{type:"button",className:"bg-surface-med flex gap-2.5 rounded-lg px-4 py-2 cursor-pointer",children:[X.jsxs("span",{className:"text-primary",children:[n," WPM"]}),X.jsx("span",{className:"text-on",children:"Change"})]})}),X.jsx("button",{id:"start-reading",className:`flex gap-2.5 rounded-lg ${r?"bg-primary text-on-primary":"bg-surface-med text-on-disabled opacity-40"}`,onClick:t,disabled:!r,children:"Start reading"})]}),X.jsx("span",{id:"start-reading-hint",className:"subhead select-none text-on-subtle",children:r?"Ready to read!":e})]})}function h2(r,[t,e]){return Math.min(e,Math.max(t,r))}function n4(r){const t=V.useRef({value:r,previous:r});return V.useMemo(()=>(t.current.value!==r&&(t.current.previous=t.current.value,t.current.value=r),t.current.previous),[r])}var f2=["PageUp","PageDown"],d2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],p2={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Eo="Slider",[Lg,i4,r4]=qg(Eo),[m2]=ms(Eo,[r4]),[s4,jh]=m2(Eo),g2=V.forwardRef((r,t)=>{const{name:e,min:n=0,max:s=100,step:a=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:h=0,defaultValue:f=[n],value:d,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:E,...b}=r,_=V.useRef(new Set),v=V.useRef(0),x=l==="horizontal"?a4:o4,[T=[],C]=Ys({prop:d,defaultProp:f,onChange:ht=>{[..._.current][v.current]?.focus(),p(ht)}}),M=V.useRef(T);function L(ht){const U=f4(T,ht);rt(ht,U)}function z(ht){rt(ht,v.current)}function k(){const ht=M.current[v.current];T[v.current]!==ht&&g(T)}function rt(ht,U,{commit:dt}={commit:!1}){const j=g4(a),yt=y4(Math.round((ht-n)/a)*a+n,j),et=h2(yt,[n,s]);C((Q=[])=>{const ft=u4(Q,et,U);if(m4(ft,h*a)){v.current=ft.indexOf(et);const vt=String(ft)!==String(Q);return vt&&dt&&g(ft),vt?ft:Q}else return Q})}return X.jsx(s4,{scope:r.__scopeSlider,name:e,disabled:c,min:n,max:s,valueIndexToChangeRef:v,thumbs:_.current,values:T,orientation:l,form:E,children:X.jsx(Lg.Provider,{scope:r.__scopeSlider,children:X.jsx(Lg.Slot,{scope:r.__scopeSlider,children:X.jsx(x,{"aria-disabled":c,"data-disabled":c?"":void 0,...b,ref:t,onPointerDown:He(b.onPointerDown,()=>{c||(M.current=T)}),min:n,max:s,inverted:y,onSlideStart:c?void 0:L,onSlideMove:c?void 0:z,onSlideEnd:c?void 0:k,onHomeKeyDown:()=>!c&&rt(n,0,{commit:!0}),onEndKeyDown:()=>!c&&rt(s,T.length-1,{commit:!0}),onStepKeyDown:({event:ht,direction:U})=>{if(!c){const yt=f2.includes(ht.key)||ht.shiftKey&&d2.includes(ht.key)?10:1,et=v.current,Q=T[et],ft=a*yt*U;rt(Q+ft,et,{commit:!0})}}})})})})});g2.displayName=Eo;var[y2,b2]=m2(Eo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),a4=V.forwardRef((r,t)=>{const{min:e,max:n,dir:s,inverted:a,onSlideStart:l,onSlideMove:c,onSlideEnd:h,onStepKeyDown:f,...d}=r,[p,g]=V.useState(null),y=bn(t,x=>g(x)),E=V.useRef(void 0),b=gh(s),_=b==="ltr",v=_&&!a||!_&&a;function S(x){const T=E.current||p.getBoundingClientRect(),C=[0,T.width],L=B0(C,v?[e,n]:[n,e]);return E.current=T,L(x-T.left)}return X.jsx(y2,{scope:r.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:X.jsx(v2,{dir:b,"data-orientation":"horizontal",...d,ref:y,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const T=S(x.clientX);l?.(T)},onSlideMove:x=>{const T=S(x.clientX);c?.(T)},onSlideEnd:()=>{E.current=void 0,h?.()},onStepKeyDown:x=>{const C=p2[v?"from-left":"from-right"].includes(x.key);f?.({event:x,direction:C?-1:1})}})})}),o4=V.forwardRef((r,t)=>{const{min:e,max:n,inverted:s,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:h,...f}=r,d=V.useRef(null),p=bn(t,d),g=V.useRef(void 0),y=!s;function E(b){const _=g.current||d.current.getBoundingClientRect(),v=[0,_.height],x=B0(v,y?[n,e]:[e,n]);return g.current=_,x(b-_.top)}return X.jsx(y2,{scope:r.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:X.jsx(v2,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const _=E(b.clientY);a?.(_)},onSlideMove:b=>{const _=E(b.clientY);l?.(_)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:b=>{const v=p2[y?"from-bottom":"from-top"].includes(b.key);h?.({event:b,direction:v?-1:1})}})})}),v2=V.forwardRef((r,t)=>{const{__scopeSlider:e,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:h,...f}=r,d=jh(Eo,e);return X.jsx(Ge.span,{...f,ref:t,onKeyDown:He(r.onKeyDown,p=>{p.key==="Home"?(l(p),p.preventDefault()):p.key==="End"?(c(p),p.preventDefault()):f2.concat(d2).includes(p.key)&&(h(p),p.preventDefault())}),onPointerDown:He(r.onPointerDown,p=>{const g=p.target;g.setPointerCapture(p.pointerId),p.preventDefault(),d.thumbs.has(g)?g.focus():n(p)}),onPointerMove:He(r.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&s(p)}),onPointerUp:He(r.onPointerUp,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&(g.releasePointerCapture(p.pointerId),a(p))})})}),w2="SliderTrack",_2=V.forwardRef((r,t)=>{const{__scopeSlider:e,...n}=r,s=jh(w2,e);return X.jsx(Ge.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});_2.displayName=w2;var kg="SliderRange",E2=V.forwardRef((r,t)=>{const{__scopeSlider:e,...n}=r,s=jh(kg,e),a=b2(kg,e),l=V.useRef(null),c=bn(t,l),h=s.values.length,f=s.values.map(g=>x2(g,s.min,s.max)),d=h>1?Math.min(...f):0,p=100-Math.max(...f);return X.jsx(Ge.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:c,style:{...r.style,[a.startEdge]:d+"%",[a.endEdge]:p+"%"}})});E2.displayName=kg;var Pg="SliderThumb",A2=V.forwardRef((r,t)=>{const e=i4(r.__scopeSlider),[n,s]=V.useState(null),a=bn(t,c=>s(c)),l=V.useMemo(()=>n?e().findIndex(c=>c.ref.current===n):-1,[e,n]);return X.jsx(l4,{...r,ref:a,index:l})}),l4=V.forwardRef((r,t)=>{const{__scopeSlider:e,index:n,name:s,...a}=r,l=jh(Pg,e),c=b2(Pg,e),[h,f]=V.useState(null),d=bn(t,S=>f(S)),p=h?l.form||!!h.closest("form"):!0,g=DT(h),y=l.values[n],E=y===void 0?0:x2(y,l.min,l.max),b=h4(n,l.values.length),_=g?.[c.size],v=_?d4(_,E,c.direction):0;return V.useEffect(()=>{if(h)return l.thumbs.add(h),()=>{l.thumbs.delete(h)}},[h,l.thumbs]),X.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${E}% + ${v}px)`},children:[X.jsx(Lg.ItemSlot,{scope:r.__scopeSlider,children:X.jsx(Ge.span,{role:"slider","aria-label":r["aria-label"]||b,"aria-valuemin":l.min,"aria-valuenow":y,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...a,ref:d,style:y===void 0?{display:"none"}:r.style,onFocus:He(r.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),p&&X.jsx(S2,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:y},n)]})});A2.displayName=Pg;var c4="RadioBubbleInput",S2=V.forwardRef(({__scopeSlider:r,value:t,...e},n)=>{const s=V.useRef(null),a=bn(s,n),l=n4(t);return V.useEffect(()=>{const c=s.current;if(!c)return;const h=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==t&&d){const p=new Event("input",{bubbles:!0});d.call(c,t),c.dispatchEvent(p)}},[l,t]),X.jsx(Ge.input,{style:{display:"none"},...e,ref:a,defaultValue:t})});S2.displayName=c4;function u4(r=[],t,e){const n=[...r];return n[e]=t,n.sort((s,a)=>s-a)}function x2(r,t,e){const a=100/(e-t)*(r-t);return h2(a,[0,100])}function h4(r,t){return t>2?`Value ${r+1} of ${t}`:t===2?["Minimum","Maximum"][r]:void 0}function f4(r,t){if(r.length===1)return 0;const e=r.map(s=>Math.abs(s-t)),n=Math.min(...e);return e.indexOf(n)}function d4(r,t,e){const n=r/2,a=B0([0,50],[0,n]);return(n-a(t)*e)*e}function p4(r){return r.slice(0,-1).map((t,e)=>r[e+1]-t)}function m4(r,t){if(t>0){const e=p4(r);return Math.min(...e)>=t}return!0}function B0(r,t){return e=>{if(r[0]===r[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(r[1]-r[0]);return t[0]+n*(e-r[0])}}function g4(r){return(String(r).split(".")[1]||"").length}function y4(r,t){const e=Math.pow(10,t);return Math.round(r*e)/e}var b4=g2,v4=_2,w4=E2,_4=A2;function E4({className:r,defaultValue:t,value:e,min:n=0,max:s=100,...a}){const l=V.useMemo(()=>Array.isArray(e)?e:Array.isArray(t)?t:[n,s],[e,t,n,s]);return X.jsxs(b4,{"data-slot":"slider",defaultValue:t,value:e,min:n,max:s,className:Mn("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",r),...a,children:[X.jsx(v4,{"data-slot":"slider-track",className:Mn("bg-surface-hi relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:X.jsx(w4,{"data-slot":"slider-range",className:Mn("bg-on-subtle absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(c,h)=>X.jsx(_4,{"data-slot":"slider-thumb",className:" block size-4 shrink-0 rounded-full bg-on shadow-sm transition-[color,box-shadow] hover:ring-2 focus-visible:ring-2 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},h))]})}function A4({className:r}){return X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14",viewBox:"0 0 12 14",fill:"none",className:r,children:X.jsx("path",{d:"M0 11.9844V1.14062C0 0.75 0.0963542 0.463542 0.289062 0.28125C0.481771 0.09375 0.710938 0 0.976562 0C1.21094 0 1.45052 0.0677083 1.69531 0.203125L10.7969 5.52344C11.1198 5.71094 11.3438 5.88021 11.4688 6.03125C11.599 6.17708 11.6641 6.35417 11.6641 6.5625C11.6641 6.76562 11.599 6.94271 11.4688 7.09375C11.3438 7.24479 11.1198 7.41406 10.7969 7.60156L1.69531 12.9219C1.45052 13.0573 1.21094 13.125 0.976562 13.125C0.710938 13.125 0.481771 13.0312 0.289062 12.8438C0.0963542 12.6562 0 12.3698 0 11.9844Z",fill:"currentColor"})})}function S4({className:r}){return X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"9",viewBox:"0 0 16 9",fill:"none",className:r,children:X.jsx("path",{d:"M0 8.13867V0.808594C0 0.535156 0.0683594 0.332031 0.205078 0.199219C0.345703 0.0664062 0.509766 0 0.697266 0C0.869141 0 1.03906 0.0488281 1.20703 0.146484L7.36523 3.73242C7.58398 3.86133 7.74023 3.98047 7.83398 4.08984C7.92773 4.19922 7.97461 4.32812 7.97461 4.47656C7.97461 4.625 7.92773 4.75391 7.83398 4.86328C7.74023 4.97266 7.58398 5.0918 7.36523 5.2207L1.20703 8.80664C1.03906 8.9043 0.869141 8.95312 0.697266 8.95312C0.509766 8.95312 0.345703 8.88672 0.205078 8.75391C0.0683594 8.62109 0 8.41602 0 8.13867ZM7.94531 8.13867V0.808594C7.94531 0.535156 8.01367 0.332031 8.15039 0.199219C8.28711 0.0664062 8.45117 0 8.64258 0C8.81445 0 8.98438 0.0488281 9.15234 0.146484L15.3047 3.73242C15.5273 3.86133 15.6855 3.98047 15.7793 4.08984C15.873 4.19922 15.9199 4.32812 15.9199 4.47656C15.9199 4.625 15.873 4.75391 15.7793 4.86328C15.6855 4.97266 15.5273 5.0918 15.3047 5.2207L9.15234 8.80664C8.98438 8.9043 8.81445 8.95312 8.64258 8.95312C8.45117 8.95312 8.28711 8.88672 8.15039 8.75391C8.01367 8.62109 7.94531 8.41602 7.94531 8.13867Z",fill:"currentColor"})})}function x4({className:r}){return X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"9",viewBox:"0 0 13 9",fill:"none",className:r,children:X.jsx("path",{d:"M0.785156 8.91797C0.527344 8.91797 0.332031 8.85156 0.199219 8.71875C0.0664062 8.58594 0 8.39062 0 8.13281V0.814453C0 0.556641 0.0664062 0.361328 0.199219 0.228516C0.332031 0.0957031 0.527344 0.0292969 0.785156 0.0292969H2.11523C2.37305 0.0292969 2.56641 0.09375 2.69531 0.222656C2.82812 0.347656 2.89453 0.544922 2.89453 0.814453V8.13281C2.89453 8.39062 2.82812 8.58594 2.69531 8.71875C2.56641 8.85156 2.37305 8.91797 2.11523 8.91797H0.785156ZM4.7168 8.13867V0.808594C4.7168 0.535156 4.78516 0.332031 4.92188 0.199219C5.05859 0.0664062 5.22266 0 5.41406 0C5.58594 0 5.75586 0.0488281 5.92383 0.146484L12.0762 3.73242C12.2988 3.86133 12.4551 3.98047 12.5449 4.08984C12.6387 4.19922 12.6855 4.32812 12.6855 4.47656C12.6855 4.625 12.6387 4.75391 12.5449 4.86328C12.4551 4.97266 12.2988 5.0918 12.0762 5.2207L5.92383 8.80664C5.75586 8.9043 5.58594 8.95312 5.41406 8.95312C5.22266 8.95312 5.05859 8.88672 4.92188 8.75391C4.78516 8.62109 4.7168 8.41602 4.7168 8.13867Z",fill:"currentColor"})})}function T4({className:r}){return X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"9",viewBox:"0 0 13 9",fill:"none",className:r,children:X.jsx("path",{d:"M11.9004 8.91797C12.1582 8.91797 12.3535 8.85156 12.4863 8.71875C12.6191 8.58594 12.6855 8.39062 12.6855 8.13281V0.814453C12.6855 0.556641 12.6191 0.361328 12.4863 0.228516C12.3535 0.0957031 12.1582 0.0292969 11.9004 0.0292969H10.5703C10.3125 0.0292969 10.1191 0.09375 9.99023 0.222656C9.85742 0.347656 9.79102 0.544922 9.79102 0.814453V8.13281C9.79102 8.39062 9.85742 8.58594 9.99023 8.71875C10.1191 8.85156 10.3125 8.91797 10.5703 8.91797H11.9004ZM7.96875 8.13867V0.808594C7.96875 0.535156 7.90039 0.332031 7.76367 0.199219C7.62695 0.0664062 7.46289 0 7.27148 0C7.09961 0 6.92969 0.0488281 6.76172 0.146484L0.609375 3.73242C0.386719 3.86133 0.230469 3.98047 0.140625 4.08984C0.046875 4.19922 0 4.32812 0 4.47656C0 4.625 0.046875 4.75391 0.140625 4.86328C0.230469 4.97266 0.386719 5.0918 0.609375 5.2207L6.76172 8.80664C6.92969 8.9043 7.09961 8.95312 7.27148 8.95312C7.46289 8.95312 7.62695 8.88672 7.76367 8.75391C7.90039 8.62109 7.96875 8.41602 7.96875 8.13867Z",fill:"currentColor"})})}function C4({className:r}){return X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"9",viewBox:"0 0 16 9",fill:"none",className:r,children:X.jsx("path",{d:"M15.9199 8.13867C15.9199 8.41602 15.8496 8.62109 15.709 8.75391C15.5723 8.88672 15.4102 8.95312 15.2227 8.95312C15.0508 8.95312 14.8809 8.9043 14.7129 8.80664L8.55469 5.2207C8.33594 5.0918 8.17969 4.97266 8.08594 4.86328C7.99219 4.75391 7.94531 4.625 7.94531 4.47656C7.94531 4.32812 7.99219 4.19922 8.08594 4.08984C8.17969 3.98047 8.33594 3.86133 8.55469 3.73242L14.7129 0.146484C14.8809 0.0488281 15.0508 0 15.2227 0C15.4102 0 15.5723 0.0664062 15.709 0.199219C15.8496 0.332031 15.9199 0.535156 15.9199 0.808594V8.13867ZM7.97461 8.13867C7.97461 8.41602 7.90625 8.62109 7.76953 8.75391C7.63281 8.88672 7.46875 8.95312 7.27734 8.95312C7.10547 8.95312 6.93555 8.9043 6.76758 8.80664L0.615234 5.2207C0.392578 5.0918 0.234375 4.97266 0.140625 4.86328C0.046875 4.75391 0 4.625 0 4.47656C0 4.32812 0.046875 4.19922 0.140625 4.08984C0.234375 3.98047 0.392578 3.86133 0.615234 3.73242L6.76758 0.146484C6.93555 0.0488281 7.10547 0 7.27734 0C7.46875 0 7.63281 0.0664062 7.76953 0.199219C7.90625 0.332031 7.97461 0.535156 7.97461 0.808594V8.13867Z",fill:"currentColor"})})}function R4({className:r}){return X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:r,children:X.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15 8C15 8.982 14.528 9.854 13.798 10.402C13.8646 10.8633 13.8226 11.3337 13.6753 11.7758C13.5281 12.218 13.2798 12.6197 12.95 12.949C12.6207 13.2791 12.2189 13.5277 11.7765 13.6751C11.3341 13.8225 10.8635 13.8646 10.402 13.798C10.1228 14.1715 9.76025 14.4746 9.34325 14.6833C8.92625 14.8919 8.4663 15.0004 8 15C7.5337 15.0004 7.07375 14.8919 6.65675 14.6833C6.23975 14.4746 5.87722 14.1715 5.598 13.798C5.13675 13.8646 4.66634 13.8226 4.22417 13.6753C3.78201 13.5281 3.3803 13.2798 3.051 12.95C2.72092 12.6207 2.47228 12.2189 2.32488 11.7765C2.17749 11.3341 2.13541 10.8635 2.202 10.402C1.82854 10.1228 1.52542 9.76025 1.31674 9.34325C1.10807 8.92625 0.999611 8.4663 1 8C1 7.018 1.472 6.146 2.202 5.598C2.13545 5.13675 2.17745 4.66634 2.32466 4.22417C2.47187 3.78201 2.72024 3.3803 3.05 3.051C3.37931 2.72092 3.78115 2.47228 4.2235 2.32488C4.66586 2.17749 5.13652 2.13541 5.598 2.202C5.87716 1.82849 6.23969 1.52532 6.6567 1.31664C7.07371 1.10796 7.53369 0.999534 8 1C8.982 1 9.854 1.472 10.402 2.202C10.8633 2.13545 11.3337 2.17745 11.7758 2.32466C12.218 2.47187 12.6197 2.72024 12.949 3.05C13.644 3.745 13.927 4.695 13.798 5.598C14.1715 5.87722 14.4746 6.23975 14.6833 6.65675C14.8919 7.07375 15.0004 7.5337 15 8ZM11.709 5.157C11.8664 5.27861 11.9691 5.45776 11.9944 5.65504C12.0197 5.85233 11.9656 6.05159 11.844 6.209L7.594 11.709C7.52681 11.7959 7.44134 11.8671 7.34363 11.9173C7.24592 11.9676 7.13836 11.9958 7.02856 11.9999C6.91876 12.004 6.8094 11.9839 6.70822 11.9411C6.60703 11.8982 6.51649 11.8337 6.443 11.752L4.193 9.252C4.12464 9.17927 4.07148 9.09363 4.03664 9.00009C4.00181 8.90656 3.98599 8.80701 3.99012 8.70728C3.99425 8.60755 4.01825 8.50965 4.06071 8.41931C4.10316 8.32898 4.16322 8.24803 4.23737 8.1812C4.31151 8.11438 4.39825 8.06303 4.4925 8.03016C4.58674 7.99729 4.6866 7.98356 4.78622 7.98979C4.88584 7.99601 4.98322 8.02205 5.07265 8.06639C5.16207 8.11073 5.24175 8.17247 5.307 8.248L6.957 10.08L10.657 5.291C10.7788 5.13375 10.958 5.0313 11.1553 5.00617C11.3525 4.98104 11.5517 5.0353 11.709 5.157Z",fill:"currentColor"})})}function O4({className:r}){return X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:r,children:X.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 15C9.85652 15 11.637 14.2625 12.9497 12.9497C14.2625 11.637 15 9.85652 15 8C15 6.14348 14.2625 4.36301 12.9497 3.05025C11.637 1.7375 9.85652 1 8 1C6.14348 1 4.36301 1.7375 3.05025 3.05025C1.7375 4.36301 1 6.14348 1 8C1 9.85652 1.7375 11.637 3.05025 12.9497C4.36301 14.2625 6.14348 15 8 15ZM10.78 10.78C10.6394 10.9205 10.4488 10.9993 10.25 10.9993C10.0512 10.9993 9.86063 10.9205 9.72 10.78L8 9.06L6.28 10.78C6.21134 10.8537 6.12854 10.9128 6.03654 10.9538C5.94454 10.9948 5.84523 11.0168 5.74452 11.0186C5.64382 11.0204 5.54379 11.0018 5.4504 10.9641C5.35701 10.9264 5.27218 10.8703 5.20096 10.799C5.12974 10.7278 5.0736 10.643 5.03588 10.5496C4.99816 10.4562 4.97963 10.3562 4.98141 10.2555C4.98319 10.1548 5.00523 10.0555 5.04622 9.96346C5.08721 9.87146 5.14631 9.78866 5.22 9.72L6.94 8L5.22 6.28C5.08752 6.13783 5.0154 5.94978 5.01883 5.75548C5.02225 5.56118 5.10097 5.37579 5.23838 5.23838C5.37579 5.10097 5.56118 5.02225 5.75548 5.01883C5.94978 5.0154 6.13783 5.08752 6.28 5.22L8 6.94L9.72 5.22C9.78866 5.14631 9.87146 5.08721 9.96346 5.04622C10.0555 5.00523 10.1548 4.98319 10.2555 4.98141C10.3562 4.97963 10.4562 4.99816 10.5496 5.03588C10.643 5.0736 10.7278 5.12974 10.799 5.20096C10.8703 5.27218 10.9264 5.35701 10.9641 5.4504C11.0018 5.54379 11.0204 5.64382 11.0186 5.74452C11.0168 5.84523 10.9948 5.94454 10.9538 6.03654C10.9128 6.12854 10.8537 6.21134 10.78 6.28L9.06 8L10.78 9.72C10.9205 9.86063 10.9993 10.0512 10.9993 10.25C10.9993 10.4488 10.9205 10.6394 10.78 10.78Z",fill:"currentColor"})})}function N4({wpm:r,questions:t,retryAtSlowerSpeed:e,readAnotherPassage:n}){const[s,a]=V.useState(0),[l,c]=V.useState(null),[h,f]=V.useState(0),d=t[s],p=s>=t.length,g=()=>{s<t.length&&(a(s+1),c(null))},y=E=>{l===null&&c(E),E===t[s].correctAnswerIndex&&f(b=>b+1)};if(p){const E=(h/t.length).toLocaleString(void 0,{style:"percent"});return X.jsxs("div",{className:"min-h-screen flex flex-col gap-6 items-center justify-center p-10 *:max-w-md text-center",children:[X.jsx(Xg,{}),X.jsxs("div",{className:"flex flex-col gap-1",children:[X.jsx("p",{className:"text-on-subtle/75",children:"You got"}),X.jsx("h1",{className:"text-3xl text-on font-serif mb-0.5",children:E}),X.jsxs("p",{className:"text-lg text-on-subtle font-serif",children:[h," of ",t.length," correct"]})]}),X.jsxs("p",{className:"text-lg paragraph-text text-on-subtle mb-2",children:["You answered all ",t.length," questions at ",r," WPM! But we dont actually think you understand what you read "]}),X.jsxs("div",{className:"w-full flex flex-col gap-3",children:[X.jsx("button",{className:"w-full px-6 py-3 rounded-md bg-primary text-on disabled:text-on-disabled disabled:bg-surface-low disabled:opacity-40 transition-colors",onClick:e,children:"Retry at reduced speed"}),X.jsx("button",{className:"w-full px-6 py-3 rounded-md bg-surface-low text-on disabled:text-on-disabled disabled:bg-surface-low disabled:opacity-40 transition-colors",onClick:n,children:"Read another passage"})]})]})}return X.jsxs("div",{className:"min-h-screen *:max-w-lg flex flex-col items-center justify-between text-white p-10",children:[X.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[X.jsxs("p",{className:"text-sm text-on-subtle mb-2",children:["Question ",s+1," of ",t.length]}),X.jsx("h1",{className:"font-serif title-1",children:d.question})]}),X.jsx("div",{className:"grid grid-cols-1 gap-4 w-full",children:d.options.map((E,b)=>{const _=l===b,v=b===d.correctAnswerIndex,S=l!==null;let x="bg-surface-med/50 hover:bg-surface-med";S?v?x="border-green-500 bg-green-900/30 text-green-400":_&&!v?x="border-red-500 bg-red-900/30 text-red-400":x="bg-surface-med/25 border-gray-800 opacity-50":_&&(x="border-gray-400 bg-gray-700");let T="bg-surface-hi",C="text-on-subtle";return S?v?(T="bg-green-900/50",C="text-green-400"):_&&!v?(T="bg-red-900/50",C="text-red-400"):(T="bg-surface-med/25 opacity-50",C="text-on-subtle"):_&&(T="bg-surface-med/50",C="text-on-subtle"),X.jsxs("div",{className:"flex",children:[X.jsxs("button",{disabled:S,onClick:()=>y(b),className:`question-option w-full body-text flex items-center gap-4 rounded-md text-left transition-all ${x}`,children:[X.jsx("div",{id:"color-chip",className:`aspect-square w-6 h-6 flex items-center justify-center rounded-sm transition-all ${T}`,children:X.jsx("span",{className:`font-bold ${C}`,children:String.fromCharCode(65+b)})}),X.jsx("span",{className:"py-2",children:E})]},`${d.question}-${b}`),S&&v&&X.jsxs("div",{className:"absolute w-full max-w-lg",children:[X.jsx("div",{className:"w-full max-w-lg"}),X.jsx(R4,{className:"text-green-400 scale-150 -translate-x-1 -translate-y-1"})]}),S&&!v&&_&&X.jsxs("div",{className:"absolute w-full max-w-lg",children:[X.jsx("div",{className:"w-full max-w-lg"}),X.jsx(O4,{className:"text-red-400 scale-150 -translate-x-1"})]})]},`${d.question}-${b}`)})}),X.jsx("button",{onClick:g,disabled:l===null,className:"w-full px-6 py-3 rounded-md bg-primary text-on disabled:text-on-disabled disabled:bg-surface-low disabled:opacity-40 transition-colors",children:s+1===t.length?"Finish Quiz":"Next Question"})]})}function D4({textSize:r,onTextSizeChange:t,trigger:e,step:n=.5}){return X.jsxs(L0,{children:[X.jsx(k0,{asChild:!0,children:e}),X.jsx(P0,{align:"end",side:"bottom",sideOffset:8,className:"bg-surface-med border-none rounded-lg w-fit shadow-2xl",children:X.jsxs("div",{className:"space-y-4",children:[X.jsx("p",{className:"text-on-subtle text-sm font-medium px-1",children:"Change text size"}),X.jsxs("div",{className:"h-6 flex items-center justify-center gap-2",children:[X.jsx("button",{type:"button",onClick:()=>t(s=>Math.max(2,s-n)),className:"flex items-center gap-1 text-on hover:text-white transition-colors bg-surface-hi/50 hover:bg-surface-hi rounded-lg !px-3",children:X.jsx(bD,{className:"w-5 h-5"})}),X.jsxs("div",{className:"flex-1 bg-surface-hi rounded-lg p-2 flex items-center justify-center gap-2",children:[X.jsx("span",{className:"text-on-subtle text-sm font-bold uppercase tracking-wider",children:"Size"}),X.jsxs("span",{className:"text-on text-sm font-semibold",children:[r.toFixed(1),"rem"]})]}),X.jsx("button",{type:"button",onClick:()=>t(s=>Math.min(10,s+n)),className:"flex items-center gap-1 text-on hover:text-white transition-colors bg-surface-hi/50 hover:bg-surface-hi rounded-lg !px-3",children:X.jsx(ED,{className:"w-5 h-5"})})]})]})})]})}const I4={default:"Default",forest:"Forest",mcdonalds:"McDonalds","oat-milk":"Oat Milk",matcha:"Matcha","lemon-black-tea":"Lemon Black Tea","kare-raisu":"Kare Raisu"},M4=["default","forest","mcdonalds","oat-milk","matcha","lemon-black-tea","kare-raisu"];function L4({theme:r,onThemeChange:t,trigger:e}){return X.jsxs(L0,{children:[X.jsx(k0,{asChild:!0,children:e}),X.jsx(P0,{align:"end",side:"bottom",sideOffset:8,className:"bg-surface-med border-none rounded-lg w-fit !pb-2",children:X.jsxs("div",{className:"space-y-3",children:[X.jsx("p",{className:"text-on-subtle text-sm font-medium px-1",children:"Select theme"}),X.jsx("div",{className:"grid grid-cols-2 gap-2 w-full max-w-[400px]",children:M4.map(n=>X.jsx("div",{"data-theme":n,children:X.jsx("button",{type:"button",onClick:()=>t(n),className:`px-2 w-full text-left text-sm rounded-lg transition-colors flex items-center gap-2 ${r===n?"bg-surface-low text-on font-medium outline outline-2 outline-primary border-box":"bg-surface-low text-on"}`,children:X.jsxs("div",{className:"flex flex-col gap-1 w-full items-center py-2",children:[X.jsxs("span",{className:"large-title",children:[X.jsx("span",{className:"text-on",children:"A"}),X.jsx("span",{className:"text-primary",children:"b"}),"c"]}),X.jsx("span",{className:"text-sm text-on-subtle text-center",children:I4[n]})]})})},n))})]})})]})}const RE="app-theme",OE="default";function k4(){const[r,t]=V.useState(()=>typeof window>"u"?OE:localStorage.getItem(RE)||OE);return V.useEffect(()=>{document.documentElement.setAttribute("data-theme",r),localStorage.setItem(RE,r)},[r]),{theme:r,setTheme:n=>{t(n)}}}function P4({className:r}){return X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:r,children:X.jsx("path",{d:"M8.27344 18.3203C7.92969 18.3203 7.66927 18.2318 7.49219 18.0547C7.32031 17.8776 7.23438 17.6172 7.23438 17.2734V6.4375C7.23438 6.09375 7.32031 5.83594 7.49219 5.66406C7.66927 5.48698 7.92969 5.39844 8.27344 5.39844H10.0547C10.3932 5.39844 10.651 5.48177 10.8281 5.64844C11.0052 5.8151 11.0938 6.07812 11.0938 6.4375V17.2734C11.0938 17.6172 11.0052 17.8776 10.8281 18.0547C10.651 18.2318 10.3932 18.3203 10.0547 18.3203H8.27344ZM13.9531 18.3203C13.6094 18.3203 13.349 18.2318 13.1719 18.0547C12.9948 17.8776 12.9062 17.6172 12.9062 17.2734V6.4375C12.9062 6.09375 12.9948 5.83594 13.1719 5.66406C13.349 5.48698 13.6094 5.39844 13.9531 5.39844H15.7266C16.0703 5.39844 16.3281 5.48177 16.5 5.64844C16.6771 5.8151 16.7656 6.07812 16.7656 6.4375V17.2734C16.7656 17.6172 16.6771 17.8776 16.5 18.0547C16.3281 18.2318 16.0703 18.3203 15.7266 18.3203H13.9531Z",fill:"currentColor"})})}var B4={};var NE;(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(NE||(NE={}));var DE;(function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"})(DE||(DE={}));var IE;(function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"})(IE||(IE={}));var ME;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"})(ME||(ME={}));var LE;(function(r){r.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",r.SIMPLE_SEARCH="SIMPLE_SEARCH",r.ELASTIC_SEARCH="ELASTIC_SEARCH"})(LE||(LE={}));var kE;(function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"})(kE||(kE={}));var PE;(function(r){r.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",r.HTTP_IN_QUERY="HTTP_IN_QUERY",r.HTTP_IN_HEADER="HTTP_IN_HEADER",r.HTTP_IN_PATH="HTTP_IN_PATH",r.HTTP_IN_BODY="HTTP_IN_BODY",r.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(PE||(PE={}));var BE;(function(r){r.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",r.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",r.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",r.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(BE||(BE={}));var FE;(function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"})(FE||(FE={}));var UE;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(UE||(UE={}));var jE;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE",r.VALIDATED="VALIDATED"})(jE||(jE={}));var zE;(function(r){r.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH",r.MINIMAL="MINIMAL"})(zE||(zE={}));var HE;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",r.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",r.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",r.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",r.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(HE||(HE={}));var GE;(function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"})(GE||(GE={}));var VE;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"})(VE||(VE={}));var qE;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY",r.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",r.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",r.NO_IMAGE="NO_IMAGE",r.IMAGE_RECITATION="IMAGE_RECITATION",r.IMAGE_OTHER="IMAGE_OTHER"})(qE||(qE={}));var YE;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(YE||(YE={}));var $E;(function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($E||($E={}));var WE;(function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",r.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",r.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(WE||(WE={}));var XE;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.IMAGE_SAFETY="IMAGE_SAFETY",r.MODEL_ARMOR="MODEL_ARMOR",r.JAILBREAK="JAILBREAK"})(XE||(XE={}));var KE;(function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(KE||(KE={}));var ZE;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"})(ZE||(ZE={}));var QE;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(QE||(QE={}));var JE;(function(r){r.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",r.TUNING_MODE_FULL="TUNING_MODE_FULL",r.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(JE||(JE={}));var tA;(function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(tA||(tA={}));var eA;(function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(eA||(eA={}));var nA;(function(r){r.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",r.TUNING_TASK_I2V="TUNING_TASK_I2V",r.TUNING_TASK_T2V="TUNING_TASK_T2V",r.TUNING_TASK_R2V="TUNING_TASK_R2V"})(nA||(nA={}));var iA;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",r.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(iA||(iA={}));var rA;(function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"})(rA||(rA={}));var sA;(function(r){r.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",r.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sA||(sA={}));var aA;(function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(aA||(aA={}));var oA;(function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"})(oA||(oA={}));var lA;(function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi",r.zh="zh",r.pt="pt",r.es="es"})(lA||(lA={}));var cA;(function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(cA||(cA={}));var uA;(function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(uA||(uA={}));var hA;(function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hA||(hA={}));var fA;(function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(fA||(fA={}));var dA;(function(r){r.FOREGROUND="FOREGROUND",r.BACKGROUND="BACKGROUND",r.PROMPT="PROMPT",r.SEMANTIC="SEMANTIC",r.INTERACTIVE="INTERACTIVE"})(dA||(dA={}));var pA;(function(r){r.ASSET="ASSET",r.STYLE="STYLE"})(pA||(pA={}));var mA;(function(r){r.INSERT="INSERT",r.REMOVE="REMOVE",r.REMOVE_STATIC="REMOVE_STATIC",r.OUTPAINT="OUTPAINT"})(mA||(mA={}));var gA;(function(r){r.OPTIMIZED="OPTIMIZED",r.LOSSLESS="LOSSLESS"})(gA||(gA={}));var yA;(function(r){r.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",r.PREFERENCE_TUNING="PREFERENCE_TUNING"})(yA||(yA={}));var bA;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.STATE_PENDING="STATE_PENDING",r.STATE_ACTIVE="STATE_ACTIVE",r.STATE_FAILED="STATE_FAILED"})(bA||(bA={}));var vA;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"})(vA||(vA={}));var wA;(function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED",r.REGISTERED="REGISTERED"})(wA||(wA={}));var _A;(function(r){r.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.RESPONSE_REJECTED="RESPONSE_REJECTED",r.NEED_MORE_INPUT="NEED_MORE_INPUT"})(_A||(_A={}));var EA;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"})(EA||(EA={}));var AA;(function(r){r.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",r.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",r.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(AA||(AA={}));var SA;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.ACTIVITY_START="ACTIVITY_START",r.ACTIVITY_END="ACTIVITY_END"})(SA||(SA={}));var xA;(function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(xA||(xA={}));var TA;(function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(TA||(TA={}));var CA;(function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"})(CA||(CA={}));var RA;(function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(RA||(RA={}));var OA;(function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(OA||(OA={}));var NA;(function(r){r.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",r.QUALITY="QUALITY",r.DIVERSITY="DIVERSITY",r.VOCALIZATION="VOCALIZATION"})(NA||(NA={}));var DA;(function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"})(DA||(DA={}));var IA;(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents",r.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",r.PAGED_ITEM_DOCUMENTS="documents"})(IA||(IA={}));function hh(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(e[n[s]]=r[n[s]]);return e}function MA(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(r){return this instanceof Ke?(this.v=r,this):new Ke(r)}function Nl(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(r,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(y){return function(E){return Promise.resolve(E).then(y,p)}}function c(y,E){n[y]&&(s[y]=function(b){return new Promise(function(_,v){a.push([y,b,_,v])>1||h(y,b)})},E&&(s[y]=E(s[y])))}function h(y,E){try{f(n[y](E))}catch(b){g(a[0][3],b)}}function f(y){y.value instanceof Ke?Promise.resolve(y.value.v).then(d,p):g(a[0][2],y)}function d(y){h("next",y)}function p(y){h("throw",y)}function g(y,E){y(E),a.shift(),a.length&&h(a[0][0],a[0][1])}}function oo(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof MA=="function"?MA(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(a){e[a]=r[a]&&function(l){return new Promise(function(c,h){l=r[a](l),s(c,h,l.done,l.value)})}}function s(a,l,c,h){Promise.resolve(h).then(function(f){a({value:f,done:c})},l)}}let T2=function(){const{crypto:r}=globalThis;if(r?.randomUUID)return T2=r.randomUUID.bind(r),r.randomUUID();const t=new Uint8Array(1),e=r?()=>r.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^e()&15>>+n/4).toString(16))};const F4=()=>T2();function Bg(r){return typeof r=="object"&&r!==null&&("name"in r&&r.name==="AbortError"||"message"in r&&String(r.message).includes("FetchRequestCanceledException"))}const Fg=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null){try{if(Object.prototype.toString.call(r)==="[object Error]"){const t=new Error(r.message,r.cause?{cause:r.cause}:{});return r.stack&&(t.stack=r.stack),r.cause&&!t.cause&&(t.cause=r.cause),r.name&&(t.name=r.name),t}}catch{}try{return new Error(JSON.stringify(r))}catch{}}return new Error(r)};class Ci extends Error{}class jn extends Ci{constructor(t,e,n,s){super(`${jn.makeMessage(t,e,n)}`),this.status=t,this.headers=s,this.error=e}static makeMessage(t,e,n){const s=e?.message?typeof e.message=="string"?e.message:JSON.stringify(e.message):e?JSON.stringify(e):n;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,e,n,s){if(!t||!s)return new zh({message:n,cause:Fg(e)});const a=e;return t===400?new R2(t,a,n,s):t===401?new O2(t,a,n,s):t===403?new N2(t,a,n,s):t===404?new D2(t,a,n,s):t===409?new I2(t,a,n,s):t===422?new M2(t,a,n,s):t===429?new L2(t,a,n,s):t>=500?new k2(t,a,n,s):new jn(t,a,n,s)}}class Ug extends jn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class zh extends jn{constructor({message:t,cause:e}){super(void 0,void 0,t||"Connection error.",void 0),e&&(this.cause=e)}}class C2 extends zh{constructor({message:t}={}){super({message:t??"Request timed out."})}}class R2 extends jn{}class O2 extends jn{}class N2 extends jn{}class D2 extends jn{}class I2 extends jn{}class M2 extends jn{}class L2 extends jn{}class k2 extends jn{}const U4=/^[a-z][a-z0-9+.-]*:/i,j4=r=>U4.test(r);let jg=r=>(jg=Array.isArray,jg(r));const z4=jg;let H4=z4;const LA=H4;function G4(r){if(!r)return!0;for(const t in r)return!1;return!0}function V4(r,t){return Object.prototype.hasOwnProperty.call(r,t)}const q4=(r,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ci(`${r} must be an integer`);if(t<0)throw new Ci(`${r} must be a positive integer`);return t},Y4=r=>{try{return JSON.parse(r)}catch{return}};const $4=r=>new Promise(t=>setTimeout(t,r));const Ya="0.0.1";function W4(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const X4=()=>{var r,t,e,n,s;const a=W4();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":PA(Deno.build.os),"X-Stainless-Arch":kA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(r=Deno.version)===null||r===void 0?void 0:r.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":PA((e=globalThis.process.platform)!==null&&e!==void 0?e:"unknown"),"X-Stainless-Arch":kA((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const l=K4();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function K4(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:e}of r){const n=e.exec(navigator.userAgent);if(n){const s=n[1]||0,a=n[2]||0,l=n[3]||0;return{browser:t,version:`${s}.${a}.${l}`}}}return null}const kA=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",PA=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let ju;const Z4=()=>ju??(ju=X4());function Q4(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function P2(...r){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...r)}function J4(r){let t=Symbol.asyncIterator in r?r[Symbol.asyncIterator]():r[Symbol.iterator]();return P2({start(){},async pull(e){const{done:n,value:s}=await t.next();n?e.close():e.enqueue(s)},async cancel(){var e;await((e=t.return)===null||e===void 0?void 0:e.call(t))}})}function B2(r){if(r[Symbol.asyncIterator])return r;const t=r.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function t5(r){var t,e;if(r===null||typeof r!="object")return;if(r[Symbol.asyncIterator]){await((e=(t=r[Symbol.asyncIterator]()).return)===null||e===void 0?void 0:e.call(t));return}const n=r.getReader(),s=n.cancel();n.releaseLock(),await s}const e5=({headers:r,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});const F2=()=>{var r;if(typeof File>"u"){const{process:t}=globalThis,e=typeof((r=t?.versions)===null||r===void 0?void 0:r.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function rg(r,t,e){return F2(),new File(r,t??"unknown_file",e)}function n5(r){return(typeof r=="object"&&r!==null&&("name"in r&&r.name&&String(r.name)||"url"in r&&r.url&&String(r.url)||"filename"in r&&r.filename&&String(r.filename)||"path"in r&&r.path&&String(r.path))||"").split(/[\\/]/).pop()||void 0}const i5=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function";const U2=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",r5=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&U2(r),s5=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function";async function a5(r,t,e){if(F2(),r=await r,r5(r))return r instanceof File?r:rg([await r.arrayBuffer()],r.name);if(s5(r)){const s=await r.blob();return t||(t=new URL(r.url).pathname.split(/[\\/]/).pop()),rg(await zg(s),t,e)}const n=await zg(r);if(t||(t=n5(r)),!e?.type){const s=n.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(e=Object.assign(Object.assign({},e),{type:s}))}return rg(n,t,e)}async function zg(r){var t,e,n,s,a;let l=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)l.push(r);else if(U2(r))l.push(r instanceof Blob?r:await r.arrayBuffer());else if(i5(r))try{for(var c=!0,h=oo(r),f;f=await h.next(),t=f.done,!t;c=!0){s=f.value,c=!1;const d=s;l.push(...await zg(d))}}catch(d){e={error:d}}finally{try{!c&&!t&&(n=h.return)&&await n.call(h)}finally{if(e)throw e.error}}else{const d=(a=r?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof r}${d?`; constructor: ${d}`:""}${o5(r)}`)}return l}function o5(r){return typeof r!="object"||r===null?"":`; props: [${Object.getOwnPropertyNames(r).map(e=>`"${e}"`).join(", ")}]`}class j2{constructor(t){this._client=t}}j2._key=[];function z2(r){return r.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const BA=Object.freeze(Object.create(null)),l5=(r=z2)=>(function(e,...n){if(e.length===1)return e[0];let s=!1;const a=[],l=e.reduce((d,p,g)=>{var y,E,b;/[?#]/.test(p)&&(s=!0);const _=n[g];let v=(s?encodeURIComponent:r)(""+_);return g!==n.length&&(_==null||typeof _=="object"&&_.toString===((b=Object.getPrototypeOf((E=Object.getPrototypeOf((y=_.hasOwnProperty)!==null&&y!==void 0?y:BA))!==null&&E!==void 0?E:BA))===null||b===void 0?void 0:b.toString))&&(v=_+"",a.push({start:d.length+p.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),d+p+(g===n.length?"":v)},""),c=l.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=h.exec(c))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((d,p)=>d.start-p.start),a.length>0){let d=0;const p=a.reduce((g,y)=>{const E=" ".repeat(y.start-d),b="^".repeat(y.length);return d=y.start+y.length,g+E+b},"");throw new Ci(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${l}
${p}`)}return l}),zu=l5(z2);class H2 extends j2{create(t,e){var n;const{api_version:s=this._client.apiVersion}=t,a=hh(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new Ci("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Ci("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(zu`/${s}/interactions`,Object.assign(Object.assign({body:a},e),{stream:(n=t.stream)!==null&&n!==void 0?n:!1}))}delete(t,e={},n){const{api_version:s=this._client.apiVersion}=e??{};return this._client.delete(zu`/${s}/interactions/${t}`,n)}cancel(t,e={},n){const{api_version:s=this._client.apiVersion}=e??{};return this._client.post(zu`/${s}/interactions/${t}/cancel`,n)}get(t,e={},n){var s;const a=e??{},{api_version:l=this._client.apiVersion}=a,c=hh(a,["api_version"]);return this._client.get(zu`/${l}/interactions/${t}`,Object.assign(Object.assign({query:c},n),{stream:(s=e?.stream)!==null&&s!==void 0?s:!1}))}}H2._key=Object.freeze(["interactions"]);class G2 extends H2{}function c5(r){let t=0;for(const s of r)t+=s.length;const e=new Uint8Array(t);let n=0;for(const s of r)e.set(s,n),n+=s.length;return e}let Hu;function F0(r){let t;return(Hu??(t=new globalThis.TextEncoder,Hu=t.encode.bind(t)))(r)}let Gu;function FA(r){let t;return(Gu??(t=new globalThis.TextDecoder,Gu=t.decode.bind(t)))(r)}class Hh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const e=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?F0(t):t;this.buffer=c5([this.buffer,e]);const n=[];let s;for(;(s=u5(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){n.push(FA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,l=FA(this.buffer.subarray(0,a));n.push(l),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}Hh.NEWLINE_CHARS=new Set([`
`,"\r"]);Hh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function u5(r,t){for(let s=t??0;s<r.length;s++){if(r[s]===10)return{preceding:s,index:s+1,carriage:!1};if(r[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function h5(r){for(let n=0;n<r.length-1;n++){if(r[n]===10&&r[n+1]===10||r[n]===13&&r[n+1]===13)return n+2;if(r[n]===13&&r[n+1]===10&&n+3<r.length&&r[n+2]===13&&r[n+3]===10)return n+4}return-1}const fh={off:0,error:200,warn:300,info:400,debug:500},UA=(r,t,e)=>{if(r){if(V4(fh,r))return r;Pn(e).warn(`${t} was set to ${JSON.stringify(r)}, expected one of ${JSON.stringify(Object.keys(fh))}`)}};function Cl(){}function Vu(r,t,e){return!t||fh[r]>fh[e]?Cl:t[r].bind(t)}const f5={error:Cl,warn:Cl,info:Cl,debug:Cl};let jA=new WeakMap;function Pn(r){var t;const e=r.logger,n=(t=r.logLevel)!==null&&t!==void 0?t:"off";if(!e)return f5;const s=jA.get(e);if(s&&s[0]===n)return s[1];const a={error:Vu("error",e,n),warn:Vu("warn",e,n),info:Vu("info",e,n),debug:Vu("debug",e,n)};return jA.set(e,[n,a]),a}const Ps=r=>(r.options&&(r.options=Object.assign({},r.options),delete r.options.headers),r.headers&&(r.headers=Object.fromEntries((r.headers instanceof Headers?[...r.headers]:Object.entries(r.headers)).map(([t,e])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":e]))),"retryOfRequestLogID"in r&&(r.retryOfRequestLogID&&(r.retryOf=r.retryOfRequestLogID),delete r.retryOfRequestLogID),r);class Za{constructor(t,e,n){this.iterator=t,this.controller=e,this.client=n}static fromSSEResponse(t,e,n){let s=!1;const a=n?Pn(n):console;function l(){return Nl(this,arguments,function*(){var h,f,d,p;if(s)throw new Ci("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let g=!1;try{try{for(var y=!0,E=oo(d5(t,e)),b;b=yield Ke(E.next()),h=b.done,!h;y=!0){p=b.value,y=!1;const _=p;if(!g)if(_.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Ke(JSON.parse(_.data))}catch(v){throw a.error("Could not parse message into JSON:",_.data),a.error("From chunk:",_.raw),v}}}catch(_){f={error:_}}finally{try{!y&&!h&&(d=E.return)&&(yield Ke(d.call(E)))}finally{if(f)throw f.error}}g=!0}catch(_){if(Bg(_))return yield Ke(void 0);throw _}finally{g||e.abort()}})}return new Za(l,e,n)}static fromReadableStream(t,e,n){let s=!1;function a(){return Nl(this,arguments,function*(){var h,f,d,p;const g=new Hh,y=B2(t);try{for(var E=!0,b=oo(y),_;_=yield Ke(b.next()),h=_.done,!h;E=!0){p=_.value,E=!1;const v=p;for(const S of g.decode(v))yield yield Ke(S)}}catch(v){f={error:v}}finally{try{!E&&!h&&(d=b.return)&&(yield Ke(d.call(b)))}finally{if(f)throw f.error}}for(const v of g.flush())yield yield Ke(v)})}function l(){return Nl(this,arguments,function*(){var h,f,d,p;if(s)throw new Ci("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let g=!1;try{try{for(var y=!0,E=oo(a()),b;b=yield Ke(E.next()),h=b.done,!h;y=!0){p=b.value,y=!1;const _=p;g||_&&(yield yield Ke(JSON.parse(_)))}}catch(_){f={error:_}}finally{try{!y&&!h&&(d=E.return)&&(yield Ke(d.call(E)))}finally{if(f)throw f.error}}g=!0}catch(_){if(Bg(_))return yield Ke(void 0);throw _}finally{g||e.abort()}})}return new Za(l,e,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],e=[],n=this.iterator(),s=a=>({next:()=>{if(a.length===0){const l=n.next();t.push(l),e.push(l)}return a.shift()}});return[new Za(()=>s(t),this.controller,this.client),new Za(()=>s(e),this.controller,this.client)]}toReadableStream(){const t=this;let e;return P2({async start(){e=t[Symbol.asyncIterator]()},async pull(n){try{const{value:s,done:a}=await e.next();if(a)return n.close();const l=F0(JSON.stringify(s)+`
`);n.enqueue(l)}catch(s){n.error(s)}},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}}function d5(r,t){return Nl(this,arguments,function*(){var n,s,a,l;if(!r.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ci("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ci("Attempted to iterate over a response with no body");const c=new m5,h=new Hh,f=B2(r.body);try{for(var d=!0,p=oo(p5(f)),g;g=yield Ke(p.next()),n=g.done,!n;d=!0){l=g.value,d=!1;const y=l;for(const E of h.decode(y)){const b=c.decode(E);b&&(yield yield Ke(b))}}}catch(y){s={error:y}}finally{try{!d&&!n&&(a=p.return)&&(yield Ke(a.call(p)))}finally{if(s)throw s.error}}for(const y of h.flush()){const E=c.decode(y);E&&(yield yield Ke(E))}})}function p5(r){return Nl(this,arguments,function*(){var e,n,s,a;let l=new Uint8Array;try{for(var c=!0,h=oo(r),f;f=yield Ke(h.next()),e=f.done,!e;c=!0){a=f.value,c=!1;const d=a;if(d==null)continue;const p=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?F0(d):d;let g=new Uint8Array(l.length+p.length);g.set(l),g.set(p,l.length),l=g;let y;for(;(y=h5(l))!==-1;)yield yield Ke(l.slice(0,y)),l=l.slice(y)}}catch(d){n={error:d}}finally{try{!c&&!e&&(s=h.return)&&(yield Ke(s.call(h)))}finally{if(n)throw n.error}}l.length>0&&(yield yield Ke(l))})}class m5{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[e,n,s]=g5(t,":");return s.startsWith(" ")&&(s=s.substring(1)),e==="event"?this.event=s:e==="data"&&this.data.push(s),null}}function g5(r,t){const e=r.indexOf(t);return e!==-1?[r.substring(0,e),t,r.substring(e+t.length)]:[r,"",""]}async function y5(r,t){const{response:e,requestLogID:n,retryOfRequestLogID:s,startTime:a}=t,l=await(async()=>{var c;if(t.options.stream)return Pn(r).debug("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller,r):Za.fromSSEResponse(e,t.controller,r);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const h=e.headers.get("content-type"),f=(c=h?.split(";")[0])===null||c===void 0?void 0:c.trim();return f?.includes("application/json")||f?.endsWith("+json")?await e.json():await e.text()})();return Pn(r).debug(`[${n}] response parsed`,Ps({retryOfRequestLogID:s,url:e.url,status:e.status,body:l,durationMs:Date.now()-a})),l}class U0 extends Promise{constructor(t,e,n=y5){super(s=>{s(null)}),this.responsePromise=e,this.parseResponse=n,this.client=t}_thenUnwrap(t){return new U0(this.client,this.responsePromise,async(e,n)=>t(await this.parseResponse(e,n),n))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,e]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:e}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,e){return this.parse().then(t,e)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}const V2=Symbol("brand.privateNullableHeaders");function*b5(r){if(!r)return;if(V2 in r){const{values:n,nulls:s}=r;yield*n.entries();for(const a of s)yield[a,null];return}let t=!1,e;r instanceof Headers?e=r.entries():LA(r)?e=r:(t=!0,e=Object.entries(r??{}));for(let n of e){const s=n[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=LA(n[1])?n[1]:[n[1]];let l=!1;for(const c of a)c!==void 0&&(t&&!l&&(l=!0,yield[s,null]),yield[s,c])}}const El=r=>{const t=new Headers,e=new Set;for(const n of r){const s=new Set;for(const[a,l]of b5(n)){const c=a.toLowerCase();s.has(c)||(t.delete(a),s.add(c)),l===null?(t.delete(a),e.add(c)):(t.append(a,l),e.delete(c))}}return{[V2]:!0,values:t,nulls:e}};const sg=r=>{var t,e,n,s,a,l;if(typeof globalThis.process<"u")return(n=(e=(t=B4)===null||t===void 0?void 0:t[r])===null||e===void 0?void 0:e.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(l=(a=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||a===void 0?void 0:a.call(s,r))===null||l===void 0?void 0:l.trim()};var q2;class Gh{constructor(t){var e,n,s,a,l,c,h,{baseURL:f=sg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(e=sg("GEMINI_API_KEY"))!==null&&e!==void 0?e:null,apiVersion:p="v1beta"}=t,g=hh(t,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:d,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(n=y.timeout)!==null&&n!==void 0?n:Gh.DEFAULT_TIMEOUT,this.logger=(s=y.logger)!==null&&s!==void 0?s:console;const E="warn";this.logLevel=E,this.logLevel=(l=(a=UA(y.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:UA(sg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:E,this.fetchOptions=y.fetchOptions,this.maxRetries=(c=y.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(h=y.fetch)!==null&&h!==void 0?h:Q4(),this.encoder=e5,this._options=y,this.apiKey=d,this.apiVersion=p,this.clientAdapter=y.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:e}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!e.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const e=El([t.headers]);if(!(e.values.has("authorization")||e.values.has("x-goog-api-key"))){if(this.apiKey)return El([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return El([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([e,n])=>typeof n<"u").map(([e,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(e)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(e)}=`;throw new Ci(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ya}`}defaultIdempotencyKey(){return`stainless-node-retry-${F4()}`}makeStatusError(t,e,n,s){return jn.generate(t,e,n,s)}buildURL(t,e,n){const s=!this.baseURLOverridden()&&n||this.baseURL,a=j4(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return G4(l)||(e=Object.assign(Object.assign({},l),e)),typeof e=="object"&&e&&!Array.isArray(e)&&(a.search=this.stringifyQuery(e)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const e=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${e}`}}async prepareRequest(t,{url:e,options:n}){}get(t,e){return this.methodRequest("get",t,e)}post(t,e){return this.methodRequest("post",t,e)}patch(t,e){return this.methodRequest("patch",t,e)}put(t,e){return this.methodRequest("put",t,e)}delete(t,e){return this.methodRequest("delete",t,e)}methodRequest(t,e,n){return this.request(Promise.resolve(n).then(s=>Object.assign({method:t,path:e},s)))}request(t,e=null){return new U0(this,this.makeRequest(t,e,void 0))}async makeRequest(t,e,n){var s,a,l;const c=await t,h=(s=c.maxRetries)!==null&&s!==void 0?s:this.maxRetries;e==null&&(e=h),await this.prepareOptions(c);const{req:f,url:d,timeout:p}=await this.buildRequest(c,{retryCount:h-e});await this.prepareRequest(f,{url:d,options:c});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=n===void 0?"":`, retryOf: ${n}`,E=Date.now();if(Pn(this).debug(`[${g}] sending request`,Ps({retryOfRequestLogID:n,method:c.method,url:d,options:c,headers:f.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new Ug;const b=new AbortController,_=await this.fetchWithTimeout(d,f,p,b).catch(Fg),v=Date.now();if(_ instanceof globalThis.Error){const x=`retrying, ${e} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new Ug;const T=Bg(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(e)return Pn(this).info(`[${g}] connection ${T?"timed out":"failed"} - ${x}`),Pn(this).debug(`[${g}] connection ${T?"timed out":"failed"} (${x})`,Ps({retryOfRequestLogID:n,url:d,durationMs:v-E,message:_.message})),this.retryRequest(c,e,n??g);throw Pn(this).info(`[${g}] connection ${T?"timed out":"failed"} - error; no more retries left`),Pn(this).debug(`[${g}] connection ${T?"timed out":"failed"} (error; no more retries left)`,Ps({retryOfRequestLogID:n,url:d,durationMs:v-E,message:_.message})),T?new C2:new zh({cause:_})}const S=`[${g}${y}] ${f.method} ${d} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${v-E}ms`;if(!_.ok){const x=await this.shouldRetry(_);if(e&&x){const k=`retrying, ${e} attempts remaining`;return await t5(_.body),Pn(this).info(`${S} - ${k}`),Pn(this).debug(`[${g}] response error (${k})`,Ps({retryOfRequestLogID:n,url:_.url,status:_.status,headers:_.headers,durationMs:v-E})),this.retryRequest(c,e,n??g,_.headers)}const T=x?"error; no more retries left":"error; not retryable";Pn(this).info(`${S} - ${T}`);const C=await _.text().catch(k=>Fg(k).message),M=Y4(C),L=M?void 0:C;throw Pn(this).debug(`[${g}] response error (${T})`,Ps({retryOfRequestLogID:n,url:_.url,status:_.status,headers:_.headers,message:L,durationMs:Date.now()-E})),this.makeStatusError(_.status,M,L,_.headers)}return Pn(this).info(S),Pn(this).debug(`[${g}] response start`,Ps({retryOfRequestLogID:n,url:_.url,status:_.status,headers:_.headers,durationMs:v-E})),{response:_,options:c,controller:b,requestLogID:g,retryOfRequestLogID:n,startTime:E}}async fetchWithTimeout(t,e,n,s){const a=e||{},{signal:l,method:c}=a,h=hh(a,["signal","method"]);l&&l.addEventListener("abort",()=>s.abort());const f=setTimeout(()=>s.abort(),n),d=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,p=Object.assign(Object.assign(Object.assign({signal:s.signal},d?{duplex:"half"}:{}),{method:"GET"}),h);c&&(p.method=c.toUpperCase());try{return await this.fetch.call(void 0,t,p)}finally{clearTimeout(f)}}async shouldRetry(t){const e=t.headers.get("x-should-retry");return e==="true"?!0:e==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,e,n,s){var a;let l;const c=s?.get("retry-after-ms");if(c){const f=parseFloat(c);Number.isNaN(f)||(l=f)}const h=s?.get("retry-after");if(h&&!l){const f=parseFloat(h);Number.isNaN(f)?l=Date.parse(h)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(e,f)}return await $4(l),this.makeRequest(t,e-1,n)}calculateDefaultRetryTimeoutMillis(t,e){const a=e-t,l=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(t,{retryCount:e=0}={}){var n,s,a;const l=Object.assign({},t),{method:c,path:h,query:f,defaultBaseURL:d}=l,p=this.buildURL(h,f,d);"timeout"in l&&q4("timeout",l.timeout),l.timeout=(n=l.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:l}),E=await this.buildHeaders({options:t,method:c,bodyHeaders:g,retryCount:e});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:E},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(a=l.fetchOptions)!==null&&a!==void 0?a:{}),url:p,timeout:l.timeout}}async buildHeaders({options:t,method:e,bodyHeaders:n,retryCount:s}){let a={};this.idempotencyHeader&&e!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let c=El([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Z4()),this._options.defaultHeaders,n,t.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:t,headers:e}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=El([e]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:J4(t)}:this.encoder({body:t,headers:n})}}Gh.DEFAULT_TIMEOUT=6e4;class Nn extends Gh{constructor(){super(...arguments),this.interactions=new G2(this)}}q2=Nn;Nn.GeminiNextGenAPIClient=q2;Nn.GeminiNextGenAPIClientError=Ci;Nn.APIError=jn;Nn.APIConnectionError=zh;Nn.APIConnectionTimeoutError=C2;Nn.APIUserAbortError=Ug;Nn.NotFoundError=D2;Nn.ConflictError=I2;Nn.RateLimitError=L2;Nn.BadRequestError=R2;Nn.AuthenticationError=O2;Nn.InternalServerError=k2;Nn.PermissionDeniedError=N2;Nn.UnprocessableEntityError=M2;Nn.toFile=a5;Nn.Interactions=G2;new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");const zA=3e3,v5=[{question:"According to the passage, why have manufacturers stopped trying to increase the clock speed of processors?",options:["The industry has shifted focus entirely to mobile devices.","Moores Law has been repealed, making it physically impossible.","Increasing clock speed causes the processors to overheat.","There is no longer a demand for faster computing tasks."],correctAnswerIndex:2},{question:"Which component is responsible for executing instructions in a CPU?",options:["ALU","Cache","Control Unit","Registers"],correctAnswerIndex:0},{question:"What is the primary purpose of a computer cache?",options:["Store large files permanently","Speed up access to frequently used data","Manage power consumption","Handle network traffic"],correctAnswerIndex:1}];function w5(r){let t=Math.floor(r.length/2);return t=r.length%2!==0?t:t-1,Math.min(2,t)}function _5({sectionTitle:r,text:t,onWpsChange:e,back:n}){const s=t.split(" "),[a,l]=V.useState(0),[c,h]=V.useState(!0),[f,d]=V.useState(5),{theme:p,setTheme:g}=k4(),[y,E]=V.useState(!0),[b,_]=V.useState([]),[v,S]=V.useState(!0),{wpm:x,setWpm:T}=Mh(),C=x/60;V.useEffect(()=>{let z;const k=()=>{E(!0),clearTimeout(z),c||(z=setTimeout(()=>{E(!1)},zA))};return window.addEventListener("mousemove",k),c||(z=setTimeout(()=>E(!1),zA)),()=>{window.removeEventListener("mousemove",k),clearTimeout(z)}},[c]),V.useEffect(()=>{if(C===0||c)return;const z=a+1<s.length?1e3/C:500,k=setTimeout(()=>{a>=s.length||l(rt=>rt+1)},z);return()=>{clearInterval(k)}},[l,a,C,s.length,c]);const M=a>=s.length;if(V.useEffect(()=>{async function z(){S(!0),_(v5),S(!1)}z()},[M,t]),M)return v?X.jsxs("div",{className:"flex flex-col gap-1.5 justify-center items-center min-w-screen min-h-screen",children:[X.jsx(Xg,{className:"text-on-subtle"}),X.jsx("p",{className:"text-on-subtle",children:"Generating quiz..."})]}):X.jsx(N4,{wpm:x,questions:b,retryAtSlowerSpeed:()=>{l(0),T(x-60)},readAnotherPassage:()=>n()});const L=z=>{h(!0),l(z)};return X.jsxs("div",{className:"reader",children:[X.jsx("div",{className:"reader__token",style:{fontSize:`${f}rem`},children:X.jsx(E5,{token:s[a],highlightIndex:w5(s[a])})}),X.jsxs("div",{className:"top-controls w-full flex p-8 absolute top-0 space-between *:w-full",children:[X.jsx("div",{children:X.jsx("button",{children:X.jsx(LD,{className:"text-on-subtle h-5 w-5"})})}),X.jsxs("div",{className:"flex flex-col text-center gap-1",children:[X.jsxs("span",{className:"text-on",children:[Math.ceil((s.length-a)/x)," min left"]}),X.jsxs("span",{className:"text-on-subtle callout",children:["Section in ",X.jsx("span",{id:"title",children:r})]})]}),X.jsxs("div",{className:"flex justify-end gap-1.5",children:[X.jsx(L4,{theme:p,onThemeChange:g,trigger:X.jsx("button",{children:X.jsx(ND,{className:"text-on-subtle h-5 w-5"})})}),X.jsx(D4,{textSize:f,onTextSizeChange:d,trigger:X.jsx("button",{children:X.jsx(wD,{className:"text-on-subtle h-5 w-5"})})})]})]}),y&&X.jsxs("div",{className:"bg-primary rounded-xlg flex flex-col gap-2 p-1 min-w-90 bg-surface-low rounded-xl px-3 pt-1 pb-2 absolute bottom-8",children:[X.jsx("div",{className:"control__top",children:X.jsxs("div",{className:"controls__btns flex justify-between",children:[X.jsx("div",{className:"w-[32px] h-[32px] aspect-square"}),X.jsxs("div",{className:"flex flex-row gap-0.5 w-full justify-center",children:[X.jsx("button",{name:"start",onClick:()=>L(0),children:X.jsx(T4,{className:"text-on-subtle"})}),X.jsx("button",{name:"previous-token",onClick:()=>L(z=>Math.max(z-1,0)),children:X.jsx(C4,{className:"text-on-subtle"})}),X.jsx("button",{onClick:()=>h(!c),children:c?X.jsx(A4,{className:"text-on-subtle pl-0.5 scale-125"}):X.jsx(P4,{className:"text-on-subtle pl-0.5 scale-125"})}),X.jsx("button",{name:"next-token",onClick:()=>L(z=>Math.min(z+1,s.length-1)),children:X.jsx(S4,{className:"text-on-subtle"})}),X.jsx("button",{name:"quiz",onClick:()=>L(s.length),children:X.jsx(x4,{className:"text-on-subtle"})})]}),X.jsx(c2,{wpm:x,setWpm:T,trigger:X.jsx("button",{className:"w-[32px] h-[32px] aspect-square",children:X.jsx("span",{className:"text-xs text-on-subtle",children:x})})})]})}),X.jsx(E4,{className:"control__progress opacity-100",value:[a],max:s.length-1,onValueChange:([z])=>{l(z)}})]})]})}function E5({token:r,highlightIndex:t}){const e=r.slice(0,t),n=r[t],s=r.slice(t+1);return X.jsxs(X.Fragment,{children:[X.jsx("span",{className:"reader__char reader__char--before",children:e}),X.jsx("span",{className:"reader__token--hl",children:n}),X.jsx("span",{className:"reader__char reader__char--after",children:s})]})}function A5({result:r,onBack:t}){const[e,n]=V.useState(r.sections[0]||null),{setWpm:s}=Mh(),[a,l]=V.useState(!1),[c,h]=V.useState(!1),f=e!==null;V.useEffect(()=>{const g=()=>{const y=window.innerHeight,E=document.documentElement.scrollHeight,S=(window.scrollY||document.documentElement.scrollTop)+y>=E-10;h(S)};return g(),window.addEventListener("scroll",g,{passive:!0}),window.addEventListener("resize",g,{passive:!0}),()=>{window.removeEventListener("scroll",g),window.removeEventListener("resize",g)}},[e]);const d=r.sections.map((g,y)=>({id:`section-${y}`,name:g.title,onClick:()=>{n(g)}})),p=g=>{const y=g.split(new RegExp("(?<=\\.)\\s+")).filter(_=>_.trim().length>0),E=[],b=3;for(let _=0;_<y.length;_+=b)E.push(y.slice(_,_+b).join(" "));return E.length>0?E:[g]};return!r||!r.sections||r.sections.length===0?(console.error("Invalid result data:",r),X.jsx("div",{className:"flex items-center justify-center min-h-screen",children:X.jsx("div",{className:"text-on",children:"No sections available to display."})})):a&&f?X.jsx(_5,{sectionTitle:e.title,text:e.text,onWpsChange:s,back:t}):X.jsxs("div",{className:"grid grid-cols-4 w-full max-w-full overflow-x-hidden gap-8 lg:gap-32 p-4 lg:p-12",children:[X.jsxs("div",{className:"flex flex-col col-span-1 gap-1 select-none",children:[X.jsx("button",{className:"ml-2 w-[32px] h-[32px] icon-button rounded-lg bg-transparent hover:bg-surface-med/75 transition-colors duration-200 ease-in-out",onClick:t,children:X.jsx(SD,{className:"w-4 h-4 mx-auto my-auto text-on-subtle"})}),X.jsx("div",{id:"tree-structure",children:X.jsx(lT,{data:d,initialSelectedItemId:"section-0",onSelectChange:g=>{if(g){const y=parseInt(g.id.replace("section-",""));n(r.sections[y])}}})})]}),X.jsxs("main",{className:"col-span-3 w-full flex flex-col items-center gap-10 *:w-full *:max-w-xl pb-16",children:[!c&&X.jsx("div",{id:"gradient-overlay",className:"select-none gradient-overlay w-full max-w-full absolute h-1/4 bottom-0 fixed"}),e&&X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"flex flex-col gap-1 mt-3.5 select-none",children:[X.jsx("span",{className:"text-primary-subtle",children:e.level}),X.jsx("h2",{className:"title-1 text-on",children:e.title.replace(/\n/g," ")})]}),X.jsx("div",{id:"selected-section",className:"*:block *:font-serif *:paragraph-text *:text-on [&>*:not(:last-child)]:mb-6 pb-1",children:p(e.text).map((g,y)=>X.jsx("span",{children:g},y))})]}),X.jsx(u2,{hasTextSelected:f,onStartReading:()=>{l(!0)}})]})]})}function S5({className:r,...t}){return X.jsx("textarea",{"data-slot":"textarea",className:Mn("border border-surface-med placeholder:text-on-disabled focus:border-surface-med focus-visible:ring-primary aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md bg-surface-low px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[2px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...t})}function x5(){const[r,t]=V.useState(!1),[e,n]=V.useState(null),[s,a]=V.useState(!1),[l,c]=V.useState("");return Mh(),e!==null?(console.log("Rendering UploadedFile with result:",e),X.jsx(A5,{result:e,onBack:()=>n(null)})):r?null:X.jsx(X.Fragment,{children:X.jsxs("main",{className:"flex flex-col items-center justify-center min-w-screen min-h-screen",children:[X.jsxs("div",{className:"h-[120px] flex flex-col gap-3 w-full items-center justify-center",children:[X.jsx(Xg,{}),X.jsx("span",{className:"font-serif text-2xl text-on font-medium leading-none",children:"Welcome to Books Bunny!"}),X.jsx("div",{children:"Upload a PDF or EPUB to get started."})]}),X.jsxs(cD,{defaultValue:"file",className:"flex flex-col w-full max-w-[400px] items-center justify-center",children:[X.jsxs(uD,{className:"bg-surface-low w-full",children:[X.jsx(J1,{value:"file",children:"File"}),X.jsx(J1,{value:"text",children:"Text"})]}),X.jsx(tw,{value:"file",className:"",children:X.jsx(ZL,{setIsUploading:t,onResult:h=>{n(h)}})}),X.jsxs(tw,{value:"text",className:"",children:[X.jsx("div",{className:"w-full min-w-[400px] min-h-[200px]",children:X.jsx(S5,{placeholder:"Enter text to read",className:"w-full min-w-[400px] h-[200px] max-h-[200px]",value:l,onChange:h=>{const f=h.target.value;c(f),a(f.trim().length>0)}})}),X.jsx("div",{className:"w-full absolute bottom-0 fixed left-0",children:X.jsx(u2,{hasTextSelected:s,noTextHint:"Enter text to start reading",onStartReading:()=>n({name:"",sections:[{text:l,title:"TEXT"}]})})})]})]})]})})}var HA="popstate";function T5(r={}){function t(s,a){let{pathname:l="/",search:c="",hash:h=""}=Ks(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Hg("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof a=="string"?a:Fl(a))}function n(s,a){Ri(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return R5(t,e,n,r)}function Qe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Ri(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function C5(){return Math.random().toString(36).substring(2,10)}function GA(r,t){return{usr:r.state,key:r.key,idx:t}}function Hg(r,t,e=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ks(t):t,state:e,key:t&&t.key||n||C5()}}function Fl({pathname:r="/",search:t="",hash:e=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(r+=e.charAt(0)==="#"?e:"#"+e),r}function Ks(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substring(e),r=r.substring(0,e));let n=r.indexOf("?");n>=0&&(t.search=r.substring(n),r=r.substring(0,n)),r&&(t.pathname=r)}return t}function R5(r,t,e,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,c="POP",h=null,f=d();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function d(){return(l.state||{idx:null}).idx}function p(){c="POP";let _=d(),v=_==null?null:_-f;f=_,h&&h({action:c,location:b.location,delta:v})}function g(_,v){c="PUSH";let S=Hg(b.location,_,v);e&&e(S,_),f=d()+1;let x=GA(S,f),T=b.createHref(S);try{l.pushState(x,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(T)}a&&h&&h({action:c,location:b.location,delta:1})}function y(_,v){c="REPLACE";let S=Hg(b.location,_,v);e&&e(S,_),f=d();let x=GA(S,f),T=b.createHref(S);l.replaceState(x,"",T),a&&h&&h({action:c,location:b.location,delta:0})}function E(_){return O5(_)}let b={get action(){return c},get location(){return r(s,l)},listen(_){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(HA,p),h=_,()=>{s.removeEventListener(HA,p),h=null}},createHref(_){return t(s,_)},createURL:E,encodeLocation(_){let v=E(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:y,go(_){return l.go(_)}};return b}function O5(r,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(e,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Fl(r);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function Y2(r,t,e="/"){return N5(r,t,e,!1)}function N5(r,t,e,n){let s=typeof t=="string"?Ks(t):t,a=Mr(s.pathname||"/",e);if(a==null)return null;let l=$2(r);D5(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=H5(a);c=j5(l[h],f,n)}return c}function $2(r,t=[],e=[],n="",s=!1){let a=(l,c,h=s,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&h)return;Qe(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let p=Or([n,d.relativePath]),g=e.concat(d);l.children&&l.children.length>0&&(Qe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),$2(l.children,t,g,p,h)),!(l.path==null&&!l.index)&&t.push({path:p,score:F5(p,l.index),routesMeta:g})};return r.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let h of W2(l.path))a(l,c,!0,h)}),t}function W2(r){let t=r.split("/");if(t.length===0)return[];let[e,...n]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=W2(n.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>r.startsWith("/")&&h===""?"/":h)}function D5(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:U5(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var I5=/^:[\w-]+$/,M5=3,L5=2,k5=1,P5=10,B5=-2,VA=r=>r==="*";function F5(r,t){let e=r.split("/"),n=e.length;return e.some(VA)&&(n+=B5),t&&(n+=L5),e.filter(s=>!VA(s)).reduce((s,a)=>s+(I5.test(a)?M5:a===""?k5:P5),n)}function U5(r,t){return r.length===t.length&&r.slice(0,-1).every((n,s)=>n===t[s])?r[r.length-1]-t[t.length-1]:0}function j5(r,t,e=!1){let{routesMeta:n}=r,s={},a="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],f=c===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",p=dh({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},d),g=h.route;if(!p&&f&&e&&!n[n.length-1].route.index&&(p=dh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),l.push({params:s,pathname:Or([a,p.pathname]),pathnameBase:Y5(Or([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=Or([a,p.pathnameBase]))}return l}function dh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,n]=z5(r.path,r.caseSensitive,r.end),s=t.match(e);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((f,{paramName:d,isOptional:p},g)=>{if(d==="*"){let E=c[g]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const y=c[g];return p&&!y?f[d]=void 0:f[d]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:r}}function z5(r,t=!1,e=!0){Ri(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function H5(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ri(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Mr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=r.charAt(e);return n&&n!=="/"?null:r.slice(e)||"/"}var X2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G5=r=>X2.test(r);function V5(r,t="/"){let{pathname:e,search:n="",hash:s=""}=typeof r=="string"?Ks(r):r,a;if(e)if(G5(e))a=e;else{if(e.includes("//")){let l=e;e=e.replace(/\/\/+/g,"/"),Ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${e}`)}e.startsWith("/")?a=qA(e.substring(1),"/"):a=qA(e,t)}else a=t;return{pathname:a,search:$5(n),hash:W5(s)}}function qA(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function ag(r,t,e,n){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q5(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function K2(r){let t=q5(r);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Z2(r,t,e,n=!1){let s;typeof r=="string"?s=Ks(r):(s={...r},Qe(!s.pathname||!s.pathname.includes("?"),ag("?","pathname","search",s)),Qe(!s.pathname||!s.pathname.includes("#"),ag("#","pathname","hash",s)),Qe(!s.search||!s.search.includes("#"),ag("#","search","hash",s)));let a=r===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=e;else{let p=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}c=p>=0?t[p]:"/"}let h=V5(s,c),f=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||d)&&(h.pathname+="/"),h}var Or=r=>r.join("/").replace(/\/\/+/g,"/"),Y5=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$5=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,W5=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,X5=class{constructor(r,t,e,n=!1){this.status=r,this.statusText=t||"",this.internal=n,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function K5(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Z5(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function J2(r,t){let e=r;if(typeof e!="string"||!X2.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let n=e,s=!1;if(Q2)try{let a=new URL(window.location.href),l=e.startsWith("//")?new URL(a.protocol+e):new URL(e),c=Mr(l.pathname,t);l.origin===a.origin&&c!=null?e=c+l.search+l.hash:s=!0}catch{Ri(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tC=["POST","PUT","PATCH","DELETE"];new Set(tC);var Q5=["GET",...tC];new Set(Q5);var Ao=V.createContext(null);Ao.displayName="DataRouter";var Vh=V.createContext(null);Vh.displayName="DataRouterState";var J5=V.createContext(!1),eC=V.createContext({isTransitioning:!1});eC.displayName="ViewTransition";var t6=V.createContext(new Map);t6.displayName="Fetchers";var e6=V.createContext(null);e6.displayName="Await";var Oi=V.createContext(null);Oi.displayName="Navigation";var nc=V.createContext(null);nc.displayName="Location";var kr=V.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var j0=V.createContext(null);j0.displayName="RouteError";var nC="REACT_ROUTER_ERROR",n6="REDIRECT",i6="ROUTE_ERROR_RESPONSE";function r6(r){if(r.startsWith(`${nC}:${n6}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function s6(r){if(r.startsWith(`${nC}:${i6}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new X5(t.status,t.statusText,t.data)}catch{}}function a6(r,{relative:t}={}){Qe(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=V.useContext(Oi),{hash:s,pathname:a,search:l}=rc(r,{relative:t}),c=a;return e!=="/"&&(c=a==="/"?e:Or([e,a])),n.createHref({pathname:c,search:l,hash:s})}function ic(){return V.useContext(nc)!=null}function Zs(){return Qe(ic(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(nc).location}var iC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rC(r){V.useContext(Oi).static||V.useLayoutEffect(r)}function o6(){let{isDataRoute:r}=V.useContext(kr);return r?w6():l6()}function l6(){Qe(ic(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(Ao),{basename:t,navigator:e}=V.useContext(Oi),{matches:n}=V.useContext(kr),{pathname:s}=Zs(),a=JSON.stringify(K2(n)),l=V.useRef(!1);return rC(()=>{l.current=!0}),V.useCallback((h,f={})=>{if(Ri(l.current,iC),!l.current)return;if(typeof h=="number"){e.go(h);return}let d=Z2(h,JSON.parse(a),s,f.relative==="path");r==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Or([t,d.pathname])),(f.replace?e.replace:e.push)(d,f.state,f)},[t,e,a,s,r])}V.createContext(null);function rc(r,{relative:t}={}){let{matches:e}=V.useContext(kr),{pathname:n}=Zs(),s=JSON.stringify(K2(e));return V.useMemo(()=>Z2(r,JSON.parse(s),n,t==="path"),[r,s,n,t])}function c6(r,t){return sC(r,t)}function sC(r,t,e,n,s){Qe(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=V.useContext(Oi),{matches:l}=V.useContext(kr),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",d=c?c.pathnameBase:"/",p=c&&c.route;{let S=p&&p.path||"";oC(f,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=Zs(),y;if(t){let S=typeof t=="string"?Ks(t):t;Qe(d==="/"||S.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=g;let E=y.pathname||"/",b=E;if(d!=="/"){let S=d.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=Y2(r,{pathname:b});Ri(p||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ri(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=p6(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},h,S.params),pathname:Or([d,a.encodeLocation?a.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:Or([d,a.encodeLocation?a.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),l,e,n,s);return t&&v?V.createElement(nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function u6(){let r=v6(),t=K5(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:a},"ErrorBoundary")," or"," ",V.createElement("code",{style:a},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),e?V.createElement("pre",{style:s},e):null,l)}var h6=V.createElement(u6,null),aC=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const e=s6(r.digest);e&&(r=e)}let t=r!==void 0?V.createElement(kr.Provider,{value:this.props.routeContext},V.createElement(j0.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?V.createElement(f6,{error:r},t):t}};aC.contextType=J5;var og=new WeakMap;function f6({children:r,error:t}){let{basename:e}=V.useContext(Oi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=r6(t.digest);if(n){let s=og.get(t);if(s)throw s;let a=J2(n.location,e);if(Q2&&!og.get(t))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw og.set(t,l),l}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return r}function d6({routeContext:r,match:t,children:e}){let n=V.useContext(Ao);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(kr.Provider,{value:r},e)}function p6(r,t=[],e=null,n=null,s=null){if(r==null){if(!e)return null;if(e.errors)r=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)r=e.matches;else return null}let a=r,l=e?.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Qe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(e)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=e,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||E){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let f=e&&n?(d,p)=>{n(d,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:Z5(e.matches),errorInfo:p})}:void 0;return a.reduceRight((d,p,g)=>{let y,E=!1,b=null,_=null;e&&(y=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||h6,c&&(h<0&&g===0?(oC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,_=null):h===g&&(E=!0,_=p.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,g+1)),S=()=>{let x;return y?x=b:E?x=_:p.route.Component?x=V.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=d,V.createElement(d6,{match:p,routeContext:{outlet:d,matches:v,isDataRoute:e!=null},children:x})};return e&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?V.createElement(aC,{location:e.location,revalidation:e.revalidation,component:b,error:y,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:f}):S()},null)}function z0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m6(r){let t=V.useContext(Ao);return Qe(t,z0(r)),t}function g6(r){let t=V.useContext(Vh);return Qe(t,z0(r)),t}function y6(r){let t=V.useContext(kr);return Qe(t,z0(r)),t}function H0(r){let t=y6(r),e=t.matches[t.matches.length-1];return Qe(e.route.id,`${r} can only be used on routes that contain a unique "id"`),e.route.id}function b6(){return H0("useRouteId")}function v6(){let r=V.useContext(j0),t=g6("useRouteError"),e=H0("useRouteError");return r!==void 0?r:t.errors?.[e]}function w6(){let{router:r}=m6("useNavigate"),t=H0("useNavigate"),e=V.useRef(!1);return rC(()=>{e.current=!0}),V.useCallback(async(s,a={})=>{Ri(e.current,iC),e.current&&(typeof s=="number"?await r.navigate(s):await r.navigate(s,{fromRouteId:t,...a}))},[r,t])}var YA={};function oC(r,t,e){!t&&!YA[r]&&(YA[r]=!0,Ri(!1,e))}V.memo(_6);function _6({routes:r,future:t,state:e,onError:n}){return sC(r,void 0,e,n,t)}function lC(r){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function E6({basename:r="/",children:t=null,location:e,navigationType:n="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){Qe(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:c,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[c,s,a,l]);typeof e=="string"&&(e=Ks(e));let{pathname:f="/",search:d="",hash:p="",state:g=null,key:y="default"}=e,E=V.useMemo(()=>{let b=Mr(f,c);return b==null?null:{location:{pathname:b,search:d,hash:p,state:g,key:y},navigationType:n}},[c,f,d,p,g,y,n]);return Ri(E!=null,`<Router basename="${c}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:V.createElement(Oi.Provider,{value:h},V.createElement(nc.Provider,{children:t,value:E}))}function A6({children:r,location:t}){return c6(Gg(r),t)}function Gg(r,t=[]){let e=[];return V.Children.forEach(r,(n,s)=>{if(!V.isValidElement(n))return;let a=[...t,s];if(n.type===V.Fragment){e.push.apply(e,Gg(n.props.children,a));return}Qe(n.type===lC,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Gg(n.props.children,a)),e.push(l)}),e}var Ju="get",th="application/x-www-form-urlencoded";function qh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function S6(r){return qh(r)&&r.tagName.toLowerCase()==="button"}function x6(r){return qh(r)&&r.tagName.toLowerCase()==="form"}function T6(r){return qh(r)&&r.tagName.toLowerCase()==="input"}function C6(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function R6(r,t){return r.button===0&&(!t||t==="_self")&&!C6(r)}var qu=null;function O6(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var N6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lg(r){return r!=null&&!N6.has(r)?(Ri(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):r}function D6(r,t){let e,n,s,a,l;if(x6(r)){let c=r.getAttribute("action");n=c?Mr(c,t):null,e=r.getAttribute("method")||Ju,s=lg(r.getAttribute("enctype"))||th,a=new FormData(r)}else if(S6(r)||T6(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||c.getAttribute("action");if(n=h?Mr(h,t):null,e=r.getAttribute("formmethod")||c.getAttribute("method")||Ju,s=lg(r.getAttribute("formenctype"))||lg(c.getAttribute("enctype"))||th,a=new FormData(c,r),!O6()){let{name:f,type:d,value:p}=r;if(d==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Ju,n=null,s=th,l=r}return a&&s==="text/plain"&&(l=a,a=void 0),{action:n,method:e.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function G0(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function I6(r,t,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:t&&Mr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function M6(r,t){if(r.id in t)return t[r.id];try{let e=await import(r.module);return t[r.id]=e,e}catch(e){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L6(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function k6(r,t,e){let n=await Promise.all(r.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await M6(a,e);return l.links?l.links():[]}return[]}));return U6(n.flat(1).filter(L6).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function $A(r,t,e,n,s,a){let l=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,c=(h,f)=>e[f].pathname!==h.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==h.params["*"];return a==="assets"?t.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?t.filter((h,f)=>{let d=n.routes[h.route.id];if(!d||!d.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function P6(r,t,{includeHydrateFallback:e}={}){return B6(r.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function B6(r){return[...new Set(r)]}function F6(r){let t={},e=Object.keys(r).sort();for(let n of e)t[n]=r[n];return t}function U6(r,t){let e=new Set;return new Set(t),r.reduce((n,s)=>{let a=JSON.stringify(F6(s));return e.has(a)||(e.add(a),n.push({key:a,link:s})),n},[])}function cC(){let r=V.useContext(Ao);return G0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function j6(){let r=V.useContext(Vh);return G0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var V0=V.createContext(void 0);V0.displayName="FrameworkContext";function uC(){let r=V.useContext(V0);return G0(r,"You must render this element inside a <HydratedRouter> element"),r}function z6(r,t){let e=V.useContext(V0),[n,s]=V.useState(!1),[a,l]=V.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:d,onTouchStart:p}=t,g=V.useRef(null);V.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let b=v=>{v.forEach(S=>{l(S.isIntersecting)})},_=new IntersectionObserver(b,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[r]),V.useEffect(()=>{if(n){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[n]);let y=()=>{s(!0)},E=()=>{s(!1),l(!1)};return e?r!=="intent"?[a,g,{}]:[a,g,{onFocus:Al(c,y),onBlur:Al(h,E),onMouseEnter:Al(f,y),onMouseLeave:Al(d,E),onTouchStart:Al(p,y)}]:[!1,g,{}]}function Al(r,t){return e=>{r&&r(e),e.defaultPrevented||t(e)}}function H6({page:r,...t}){let{router:e}=cC(),n=V.useMemo(()=>Y2(e.routes,r,e.basename),[e.routes,r,e.basename]);return n?V.createElement(V6,{page:r,matches:n,...t}):null}function G6(r){let{manifest:t,routeModules:e}=uC(),[n,s]=V.useState([]);return V.useEffect(()=>{let a=!1;return k6(r,t,e).then(l=>{a||s(l)}),()=>{a=!0}},[r,t,e]),n}function V6({page:r,matches:t,...e}){let n=Zs(),{future:s,manifest:a,routeModules:l}=uC(),{basename:c}=cC(),{loaderData:h,matches:f}=j6(),d=V.useMemo(()=>$A(r,t,f,a,n,"data"),[r,t,f,a,n]),p=V.useMemo(()=>$A(r,t,f,a,n,"assets"),[r,t,f,a,n]),g=V.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let b=new Set,_=!1;if(t.forEach(S=>{let x=a.routes[S.route.id];!x||!x.hasLoader||(!d.some(T=>T.route.id===S.route.id)&&S.route.id in h&&l[S.route.id]?.shouldRevalidate||x.hasClientLoader?_=!0:b.add(S.route.id))}),b.size===0)return[];let v=I6(r,c,s.unstable_trailingSlashAwareDataRequests,"data");return _&&b.size>0&&v.searchParams.set("_routes",t.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[v.pathname+v.search]},[c,s.unstable_trailingSlashAwareDataRequests,h,n,a,d,t,r,l]),y=V.useMemo(()=>P6(p,a),[p,a]),E=G6(p);return V.createElement(V.Fragment,null,g.map(b=>V.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...e})),y.map(b=>V.createElement("link",{key:b,rel:"modulepreload",href:b,...e})),E.map(({key:b,link:_})=>V.createElement("link",{key:b,nonce:e.nonce,..._})))}function q6(...r){return t=>{r.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Y6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y6&&(window.__reactRouterVersion="7.12.0")}catch{}function $6({basename:r,children:t,unstable_useTransitions:e,window:n}){let s=V.useRef();s.current==null&&(s.current=T5({window:n,v5Compat:!0}));let a=s.current,[l,c]=V.useState({action:a.action,location:a.location}),h=V.useCallback(f=>{e===!1?c(f):V.startTransition(()=>c(f))},[e]);return V.useLayoutEffect(()=>a.listen(h),[a,h]),V.createElement(E6,{basename:r,children:t,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:e})}var hC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fC=V.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},E){let{basename:b,unstable_useTransitions:_}=V.useContext(Oi),v=typeof f=="string"&&hC.test(f),S=J2(f,b);f=S.to;let x=a6(f,{relative:s}),[T,C,M]=z6(n,y),L=Z6(f,{replace:l,state:c,target:h,preventScrollReset:d,relative:s,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:_});function z(rt){t&&t(rt),rt.defaultPrevented||L(rt)}let k=V.createElement("a",{...y,...M,href:S.absoluteURL||x,onClick:S.isExternal||a?t:z,ref:q6(E,C),target:h,"data-discover":!v&&e==="render"?"true":void 0});return T&&!v?V.createElement(V.Fragment,null,k,V.createElement(H6,{page:x})):k});fC.displayName="Link";var W6=V.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...f},d){let p=rc(l,{relative:f.relative}),g=Zs(),y=V.useContext(Vh),{navigator:E,basename:b}=V.useContext(Oi),_=y!=null&&nB(p)&&c===!0,v=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,S=g.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;e||(S=S.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&b&&(x=Mr(x,b)||x);const T=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let C=S===v||!s&&S.startsWith(v)&&S.charAt(T)==="/",M=x!=null&&(x===v||!s&&x.startsWith(v)&&x.charAt(v.length)==="/"),L={isActive:C,isPending:M,isTransitioning:_},z=C?t:void 0,k;typeof n=="function"?k=n(L):k=[n,C?"active":null,M?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let rt=typeof a=="function"?a(L):a;return V.createElement(fC,{...f,"aria-current":z,className:k,ref:d,style:rt,to:l,viewTransition:c},typeof h=="function"?h(L):h)});W6.displayName="NavLink";var X6=V.forwardRef(({discover:r="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:s,state:a,method:l=Ju,action:c,onSubmit:h,relative:f,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},E)=>{let{unstable_useTransitions:b}=V.useContext(Oi),_=tB(),v=eB(c,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",x=typeof c=="string"&&hC.test(c),T=C=>{if(h&&h(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,L=M?.getAttribute("formmethod")||l,z=()=>_(M||C.currentTarget,{fetcherKey:t,method:L,navigate:e,replace:s,state:a,relative:f,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:g});b&&e!==!1?V.startTransition(()=>z()):z()};return V.createElement("form",{ref:E,method:S,action:v,onSubmit:n?h:T,...y,"data-discover":!x&&r==="render"?"true":void 0})});X6.displayName="Form";function K6(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dC(r){let t=V.useContext(Ao);return Qe(t,K6(r)),t}function Z6(r,{target:t,replace:e,state:n,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:h}={}){let f=o6(),d=Zs(),p=rc(r,{relative:a});return V.useCallback(g=>{if(R6(g,t)){g.preventDefault();let y=e!==void 0?e:Fl(d)===Fl(p),E=()=>f(r,{replace:y,state:n,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});h?V.startTransition(()=>E()):E()}},[d,f,p,e,n,t,r,s,a,l,c,h])}var Q6=0,J6=()=>`__${String(++Q6)}__`;function tB(){let{router:r}=dC("useSubmit"),{basename:t}=V.useContext(Oi),e=b6(),n=r.fetch,s=r.navigate;return V.useCallback(async(a,l={})=>{let{action:c,method:h,encType:f,formData:d,body:p}=D6(a,t);if(l.navigate===!1){let g=l.fetcherKey||J6();await n(g,e,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:d,body:p,formMethod:l.method||h,formEncType:l.encType||f,flushSync:l.flushSync})}else await s(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:d,body:p,formMethod:l.method||h,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,s,t,e])}function eB(r,{relative:t}={}){let{basename:e}=V.useContext(Oi),n=V.useContext(kr);Qe(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...rc(r||".",{relative:t})},l=Zs();if(r==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(d=>d==="")){c.delete("index"),h.filter(p=>p).forEach(p=>c.append("index",p));let d=c.toString();a.search=d?`?${d}`:""}}return(!r||r===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:Or([e,a.pathname])),Fl(a)}function nB(r,{relative:t}={}){let e=V.useContext(eC);Qe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=dC("useViewTransitionState"),s=rc(r,{relative:t});if(!e.isTransitioning)return!1;let a=Mr(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=Mr(e.nextLocation.pathname,n)||e.nextLocation.pathname;return dh(s.pathname,l)!=null||dh(s.pathname,a)!=null}const iB="app-theme",rB="default",sB=localStorage.getItem(iB)||rB;document.documentElement.setAttribute("data-theme",sB);FO.createRoot(document.getElementById("root")).render(X.jsx(V.StrictMode,{children:X.jsx($6,{children:X.jsx(A6,{children:X.jsx(lC,{path:"/",element:X.jsx(x5,{})})})})}));
